"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1166],{8743:function(e,t,s){s.d(t,{P:function(){return g}});var l=s(27573),n=s(69389),a=s(7653),r=s(6657),i=s(48451),d=s(14237),o=s(2190),c=s(44850),u=s(38467),m=s(35449),h=s(97583),x=s(26821),p=s(83010),y=s(19974),f=s(17599);let g=e=>{let{selfUserHasCards:t,isPaymentMethodPage:s=!1}=e,g=(0,n.useTranslations)("Payments"),v="authenticated"===(0,i.k)().status,j=(0,n.useLocale)(),b=(0,x.useQueryClient)(),w=(0,y.U)(e=>e.clientSecret),_=(0,y.U)(e=>e.paymentMethodCaptcha),P=(0,y.U)(e=>e.setClientSecret),N=(0,y.U)(e=>e.setPaymentMethodCaptcha),T=(0,y.U)(e=>e.setCurrentView),C=(0,y.U)(e=>e.setPaymentError),M=(0,y.U)(e=>e.closeDialog),S=r.f.useAddPaymentMethod(v),E=(0,p.useMutationState)({filters:{mutationKey:["User","AddPaymentMethod"],status:"pending"}},b).length>0;return((0,a.useEffect)(()=>{!_||w||E||null==S||S.mutate({reCaptcha:_},{onSuccess:e=>{e&&P(e.client_secret)},onError:()=>{C(g("error_loading_payment_form")),N(null),t&&T("PAYMENT")}})},[w,_,E,P,N,S,t,T,C,M,g]),_)?E&&_?(0,l.jsx)(f.T.FormSkeleton,{}):w&&_&&!E?(0,l.jsx)(h.Elements,{stripe:(0,c.d)(j),options:{appearance:{theme:"night"},clientSecret:w},children:(0,l.jsx)(f.T.AddPaymentMethod,{selfUserHasCards:t,isPaymentMethodPage:s})}):null:(0,l.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[(0,l.jsx)("div",{className:(0,m.cn)("bg-shade-base flex h-[328px] w-full flex-col items-center justify-center rounded sm:h-[382px] md:h-[305px]",s&&"bg-shade-lower"),children:(0,l.jsx)(d.e,{onVerify:e=>{e?N(e):s||!t?(o.A.error(g("error_loading_payment_form")),M()):(C(g("error_loading_payment_form")),T("PAYMENT"))}})}),(0,l.jsx)(u.zx,{className:"w-full",type:"button",variant:"highlight",onClick:()=>{t&&!s?T("PAYMENT"):M()},children:g("button_label_cancel")})]})}},17599:function(e,t,s){s.d(t,{T:function(){return U}});var l=s(27573),n=s(69389),a=s(7653),r=s(32973),i=s(52215),d=s(43546),o=s(35449),c=s(6657),u=s(48451),m=s(2190),h=s(38467),x=s(37355),p=s(97583),y=s(26821),f=s(2560),g=s(19974);let v=e=>{let{children:t}=e;return(0,l.jsx)("div",{className:"flex w-full flex-row flex-nowrap",children:t})};v.displayName="PaymentDialog.ProductTable";let j=e=>{let{children:t,contentShouldGrow:s=!1}=e;return(0,l.jsx)("div",{className:(0,o.cn)("group flex w-full flex-col lg:w-auto lg:shrink-0 lg:grow-0",s&&"lg:grow lg:last:grow"),children:t})};j.displayName="PaymentDialog.ProductTableItem";let b=e=>{let{children:t,className:s}=e;return(0,l.jsx)("div",{className:(0,o.cn)("text-text-secondary border-b-surface-tint flex flex-row items-center whitespace-nowrap border-b-2 py-2 text-sm font-medium leading-[17px] lg:px-4",s),children:t})};b.displayName="PaymentDialog.ProductTableTitle";let w=e=>{let{children:t,className:s}=e;return(0,l.jsx)("div",{className:(0,o.cn)("flex grow flex-row items-center py-2 lg:p-4",s),children:t})};w.displayName="PaymentDialog.ProductTableContent";let _=e=>{let{children:t}=e,s=(0,n.useTranslations)("Payments");return(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"text-base font-bold",children:s("choose_payment_method")}),(0,l.jsxs)("div",{className:"text-text-secondary flex items-center gap-2 text-xs font-semibold",children:[(0,l.jsx)(r.m,{className:"size-4 fill-current"}),(0,l.jsx)("span",{children:s("icon_secure_label")})]})]}),t]})};_.displayName="PaymentDialog.PaymentMethod";let P=e=>{let{children:t}=e;return(0,l.jsx)("div",{className:"text-subtle pt-2 text-xs font-medium",children:t})};P.displayName="PaymentDialog.Disclaimer";let N=e=>{let{children:t}=e;return(0,l.jsx)("div",{className:"flex flex-col gap-4",children:t})};N.displayName="PaymentDialog.Footer";let T=e=>{let{children:t}=e,s=(0,n.useTranslations)("Payments");return(0,l.jsxs)("div",{className:"ml-auto flex flex-row items-center gap-2",children:[(0,l.jsx)("span",{className:"text-text-secondary text-sm font-medium",children:s("total_including_vat")}),(0,l.jsx)("span",{className:"text-xl font-bold text-white",children:t})]})};T.displayName="PaymentDialog.FooterPrice";let C=e=>{let{children:t}=e;return 0===a.Children.count(t)?null:(0,l.jsx)("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center",children:t})};C.displayName="PaymentDialog.FooterButtons";let M=()=>{let e=(0,n.useTranslations)("Payments"),t="gift-anonymously",s=(0,g.U)(e=>e.isAnonymousGift),a=(0,g.U)(e=>e.setIsAnonymousGift);return(0,l.jsxs)("div",{className:"ml-auto flex flex-row items-center gap-2",children:[(0,l.jsx)(i.w,{checked:s,onCheckedChange:e=>a(!!e),id:t}),(0,l.jsx)("label",{htmlFor:t,className:"cursor-pointer text-sm text-white",children:e("gift_anonymously")})]})};M.displayName="PaymentDialog.FooterGiftAnonymously";let S=()=>(0,l.jsx)("hr",{className:"border-surface-tint border"});S.displayName="PaymentDialog.Separator";let E=e=>{let{children:t}=e;return(0,l.jsx)("div",{className:"flex items-center gap-2",children:t})};E.displayName="PaymentDialog.Error";let D=()=>(0,l.jsxs)("div",{className:"flex flex-col gap-4 rounded",children:[(0,l.jsx)(d.aM,{className:"bg-shade-lower h-[328px] w-full sm:h-[382px] md:h-[305px]"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(d.aM,{className:"bg-shade-lower size-5"}),(0,l.jsx)(d.Qr,{className:"w-[211px] text-sm",skeletonClass:"bg-shade-lower"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(d.aM,{className:"bg-shade-lower h-10 w-1/2"}),(0,l.jsx)(d.aM,{className:"bg-shade-lower h-10 w-1/2"})]})]});D.displayName="PaymentDialog.FormSkeleton";let U={ProductTable:v,ProductTableItem:j,ProductTableTitle:b,ProductTableContent:w,PaymentMethod:_,AddPaymentMethod:e=>{let{selfUserHasCards:t,isPaymentMethodPage:s=!1}=e,r=(0,n.useTranslations)("Payments"),v=(0,y.useQueryClient)(),j="authenticated"===(0,u.k)().status,b=(0,p.useElements)(),w=(0,p.useStripe)(),{refetch:_}=(0,f.useQuery)({...c.l.getPaymentProfile(j),select:e=>null==e?void 0:e.payment_profile}),[P,N]=(0,a.useState)(!1),[T,C]=(0,a.useState)(!1),M=(0,g.U)(e=>e.setPaymentMethodCaptcha),S=(0,g.U)(e=>e.setCurrentView),E=(0,g.U)(e=>e.setPaymentMethodId),D=(0,g.U)(e=>e.closeDialog),[U,A]=(0,a.useState)(!t),[q,k]=(0,a.useState)(null),[F,K]=(0,a.useState)(!0),O=c.f.useChangeDefaultPaymentMethod(j),I=async e=>{if(e.preventDefault(),!b||!w)return;k(null),C(!0);let t=await w.confirmSetup({elements:b,redirect:"if_required"});if(t.error)console.error({errorType:"stripeError",description:"handleAddNewCard",error:t.error}),k(r("error_add_payment_method")),C(!1);else{var l;let e=await _(),n=null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.cards.find(e=>t.setupIntent.payment_method===e.id);U&&n?(s||E(n.id),O?O.mutate({payment_method_id:n.id},{onSettled:()=>{C(!1),s?D():S("PAYMENT")},onSuccess:e=>{e&&(m.A.success(r("success_update_default_payment_method")),v.setQueryData(c.l.getPaymentProfile(j).queryKey,t=>t?{payment_profile:{...t.payment_profile,cards:e.cards}}:t))},onError:()=>{m.A.error(r("error_update_default_payment_method"))}}):(C(!1),s||S("PAYMENT"))):(C(!1),m.A.success(r("success_add_payment_method")),s?D():S("PAYMENT"))}};return(0,l.jsxs)("form",{className:"flex flex-col gap-3 rounded lg:gap-4",onSubmit:I,children:[(0,l.jsxs)("div",{className:(0,o.cn)("bg-shade-lower flex min-h-[367px] w-full flex-col gap-2 rounded p-4 sm:min-h-[350px] md:min-h-[272px]",!s&&"bg-shade-base px-0 py-2 lg:p-4"),children:[F&&(0,l.jsx)(d.aM,{className:"bg-grey-900 h-[367px] w-full sm:h-[350px] md:h-[272px]"}),(0,l.jsx)(p.PaymentElement,{className:(0,o.cn)(F&&"hidden"),onChange:e=>{e.complete?N(!0):N(!1)},onReady:()=>K(!1)}),q&&(0,l.jsx)("p",{className:"text-danger-lower text-sm",children:q})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)(i.w,{onCheckedChange:e=>{A(e)},id:"default-method",checked:U,disabled:!t}),(0,l.jsx)("label",{className:(0,o.cn)("text-sm font-semibold",t&&"cursor-pointer"),htmlFor:"default-method",children:r("set_as_default_method")})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(h.zx,{className:"w-1/2",type:"button",variant:"highlight",disabled:T,onClick:()=>{t&&!s?(M(null),S("PAYMENT")):D()},children:r("button_label_cancel")}),(0,l.jsxs)(h.zx,{disabled:!P||T,type:"submit",className:"flex w-1/2 items-center gap-2",children:[T&&(0,l.jsx)(x.$,{size:"md"}),r("button_label_save_payment_method")]})]})]})},Separator:S,Error:E,Disclaimer:P,Footer:N,FooterPrice:T,FooterButtons:C,FooterGiftAnonymously:M,FormSkeleton:D}},31166:function(e,t,s){s.d(t,{PaymentDialogWrapper:function(){return Y}});var l=s(27573),n=s(69389),a=s(7653),r=s(78406),i=s(6657),d=s(61183),o=s(78040),c=s(94936),u=s(70948),m=s(48451),h=s(91145),x=s(19168),p=s(89328),y=s(38467),f=s(57102),g=s(8817),v=s(8598),j=s(43546),b=s(2560),w=s(8743),_=s(19974),P=s(44850),N=s(34109),T=s(97583),C=s(58581),M=s(8863),S=s(50858),E=s(97912),D=s(14237),U=s(2190);let A=async e=>{let{radarSession:t,error:s}=await e.createRadarSession();if(s)throw Object({description:"createRadarSession",...s});return t};var q=s(24326),k=s(37355),F=s(26821),K=s(17599);let O=()=>{var e,t,s,i,d,o;let c=(0,n.useTranslations)("Payments"),u=(0,T.useStripe)(),h=(0,F.useQueryClient)(),x=(0,m.k)(),p="authenticated"===x.status,[y,f]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!1),j=(0,_.U)(e=>e.selectedPaymentMethodId),w=(0,_.U)(e=>e.isAnonymousGift),P=(0,_.U)(e=>e.selectedSubPlan),N=(0,_.U)(e=>e.selectedGiftPlan),O=(0,_.U)(e=>e.paymentPayload),I=(0,_.U)(e=>e.closeDialog),Z=(0,_.U)(e=>e.setPaymentError),{data:L}=(0,b.useQuery)({...r.u.show(null!==(t=null==O?void 0:O.channelSlug)&&void 0!==t?t:""),enabled:!!(null==O?void 0:O.channelSlug)}),Y=M.I.useInitiateSubscription(p,null!==(s=null==O?void 0:O.channelSlug)&&void 0!==s?s:""),G=M.I.useInitiateGift(p,null!==(i=null==O?void 0:O.channelSlug)&&void 0!==i?i:""),z=(0,E.l)(e=>e.mentionUserList),V=C.$.useUpdateUserIdentity(p,String(null!==(d=null==L?void 0:L.id)&&void 0!==d?d:""),null!==(o=null===(e=x.user)||void 0===e?void 0:e.id.toString())&&void 0!==o?o:""),H=async(e,t)=>(null==O?void 0:O.type)==="subscription"&&Y&&P&&t?Y.mutateAsync({payment_method_id:j,price_id:P.id,radar_session:e,reCaptcha:t}):(null==O?void 0:O.type)==="gift"&&G&&N&&t?G.mutateAsync({payment_method_id:j,price_id:N.id,radar_session:e,quantity:O.gift.quantity,user_ids:O.gift.recipient?[O.gift.recipient.id]:[...z.values()].map(e=>e.id),is_anonymous:w,reCaptcha:t}):void 0,R=async e=>{if(!u)return;if(!e)throw Object({description:"handlePaymentActionRequired",message:"Missing client secret"});let{error:t,paymentIntent:s}=await u.confirmCardPayment(e);if(t)throw Object({description:"handlePaymentActionRequired",...t});if("succeeded"===s.status){Q();return}throw Object({description:"handlePaymentActionRequired",message:"Payment intent not succeeded",paymentIntent:s})},Q=async()=>{if(L){if((null==O?void 0:O.type)==="subscription"){var e,t,s,l,n,a,i,d;let o=await h.ensureQueryData(C.C.getUserIdentity(String(L.id),null!==(n=null===(e=x.user)||void 0===e?void 0:e.id.toString())&&void 0!==n?n:""));h.setQueryData(r.u.me(p,L.slug).queryKey,e=>{var t,s,l,n;return e?{...e,subscription:{channel:{slug:L.slug,username:L.user.username,profile_image:L.user.profile_pic,banner_image:{src:null!==(l=null===(t=L.banner_image)||void 0===t?void 0:t.url)&&void 0!==l?l:"",srcset:null!==(n=null===(s=L.banner_image)||void 0===s?void 0:s.responsive)&&void 0!==n?n:""}},expires_at:new Date(Date.now()+2592e6).toISOString(),duration:1,origin:"stripe",type:"subscription",status:"active"}}:e}),f(!1),U.A.success(c("success_subscription")),I();let u=new Set((null==o?void 0:null===(l=o.data)||void 0===l?void 0:null===(s=l.identity)||void 0===s?void 0:null===(t=s.badges)||void 0===t?void 0:t.filter(e=>e.active&&!S.a$.includes(e.type)).map(e=>e.type))||[]);u.size<3&&(u.add("subscriber"),null==V||V.mutate({badges:[...u],color:null!==(d=null==o?void 0:null===(i=o.data)||void 0===i?void 0:null===(a=i.identity)||void 0===a?void 0:a.color)&&void 0!==d?d:""},{onSuccess:e=>{if(e){var t,s;h.setQueryData(C.C.getUserIdentity(String(L.id),null!==(s=null===(t=x.user)||void 0===t?void 0:t.id.toString())&&void 0!==s?s:"").queryKey,e)}}}))}(null==O?void 0:O.type)==="gift"&&(h.resetQueries({queryKey:["Channel","getCleanUserDetailsForChat",L.slug]}),h.setQueryData(r.u.me(p,L.slug).queryKey,e=>e?{...e,leaderboards:{gifts:{quantity:e.leaderboards.gifts.quantity+O.gift.quantity}}}:e),f(!1),U.A.success(c("success_gift")),I())}},B=async e=>{if(u&&j){f(!0),v(!1);try{let t=await A(u);if(!t)return;let s=await H(t.id,e);if(!s)throw Object({description:"handlePayment",message:"No payment response",paymentType:null==O?void 0:O.type});switch(s.status){case"action_required":await R(s.client_secret);break;case"succeeded":case"success":Q();break;default:throw Object({description:"handlePayment",message:"No matching paymentResponse status",paymentResponseStatus:s.status})}}catch(e){console.error(JSON.stringify({errorType:"payment",error:e})),f(!1),Z(c("error_payment_failed"))}}};return(0,l.jsxs)(K.T.FooterButtons,{children:[(0,l.jsx)(q.zx,{variant:"highlight",className:"order-last w-full lg:order-first",disabled:y,onClick:I,children:c("button_label_cancel")}),(0,l.jsxs)("div",{className:"relative w-full",children:[g&&(0,l.jsx)("div",{className:"absolute -top-[200%] left-1/2 -translate-x-1/2",children:(0,l.jsx)(D.e,{onVerify:e=>{e?B(e):v(!1)}})}),(0,l.jsxs)(q.zx,{className:"w-full",disabled:!u||y||g,onClick:()=>v(!0),children:[y&&(0,l.jsx)(k.$,{}),c("button_label_pay_now")]})]})]})},I=()=>{let e=(0,n.useTranslations)("Payments"),t=(0,n.useLocale)(),s=(0,_.U)(e=>e.selectedGiftPlan),a=(0,_.U)(e=>e.selectedSubPlan),r=(0,_.U)(e=>e.paymentPayload);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(K.T.FooterPrice,{children:[(null==r?void 0:r.type)==="subscription"&&a&&e.rich("price_per_month",{price:()=>(0,l.jsx)(N.A,{value:a.price/100,format:{style:"currency",currency:"USD"}})}),(null==r?void 0:r.type)==="gift"&&s&&(0,l.jsx)(N.A,{value:s.price*r.gift.quantity/100,format:{style:"currency",currency:"USD"}})]}),(0,l.jsx)(T.Elements,{stripe:(0,P.d)(t),children:(0,l.jsx)(O,{})}),(null==r?void 0:r.type)==="gift"&&(0,l.jsx)(K.T.FooterGiftAnonymously,{})]})};var Z=s(21152);let L=()=>{let e=(0,n.useTranslations)("Payments"),t="authenticated"===(0,m.k)().status,s=(0,_.U)(e=>e.isDialogOpen),l=(0,_.U)(e=>e.paymentPayload),r=(0,_.U)(e=>e.setPaymentPlans),d=(0,_.U)(e=>e.closeDialog),{status:o}=(0,b.useQuery)({...i.l.getPaymentProfile(t),enabled:t&&s}),{data:c,status:u}=(0,b.useQuery)({...M.e.listPlans(t,(null==l?void 0:l.channelSlug)||""),enabled:!!((null==l?void 0:l.channelSlug)&&t&&s),staleTime:36e5,gcTime:(0,Z.d)(36e5)}),h="error"===o||"error"===u;return(0,a.useEffect)(()=>{r(c||null)},[c,r]),(0,a.useEffect)(()=>{h&&(d(),U.A.error(e("error_loading_payment_data")))},[h,d,e]),{isLoading:"pending"===o||"pending"===u,isSuccess:"success"===o||"success"===u}},Y=()=>{var e,t;let s=(0,n.useTranslations)("Payments"),P="authenticated"===(0,m.k)().status,N=(0,h.dD)(),T=(0,a.useRef)(null),C=(0,_.U)(e=>e.isDialogOpen),M=(0,_.U)(e=>e.currentView),S=(0,_.U)(e=>e.paymentPayload),E=(0,_.U)(e=>e.selectedPaymentMethodId),D=(0,_.U)(e=>e.paymentError),U=(0,_.U)(e=>e.closeDialog),A=(0,_.U)(e=>e.openDialog),q=(0,_.U)(e=>e.setPaymentMethodId),k=(0,_.U)(e=>e.setPaymentPayload),F=(0,_.U)(e=>e.setCurrentView),{data:O}=(0,b.useQuery)({...i.l.getPaymentProfile(P),select:e=>null==e?void 0:e.payment_profile,enabled:P&&C}),Z=!!(null==O?void 0:O.cards.length),{data:Y}=(0,b.useQuery)({...r.u.show((null==S?void 0:S.channelSlug)||""),enabled:!!(null==S?void 0:S.channelSlug)}),G=e=>{e||U()};(0,a.useEffect)(()=>{let e=e=>{k(e.detail),A()};return window.addEventListener(x.C,e),()=>{window.removeEventListener(x.C,e)}},[]),(0,a.useEffect)(()=>{if(!M&&(null==O?void 0:O.cards)&&C){if(F("PAYMENT"),O.cards.length>0){let e=O.cards.find(e=>e.is_default);(null==e?void 0:e.id)&&q(e.id)}else F("ADD_PAYMENT_METHOD")}},[null==O?void 0:O.cards,M,C,F,q]),(0,a.useEffect)(()=>{if(C){let e=setTimeout(()=>{document.body.style.pointerEvents=""},0);return()=>clearTimeout(e)}document.body.style.pointerEvents="auto"},[C]);let{isLoading:z,isSuccess:V}=L();return N?(0,l.jsx)(f.fC,{open:C,onOpenChange:G,children:(0,l.jsxs)(f.VY,{children:[(0,l.jsxs)(f.h4,{className:"flex w-full items-center justify-between",children:[(0,l.jsx)(f.Dx,{children:s("complete_purchase")}),(0,l.jsx)(f.x8,{asChild:!0,children:(0,l.jsx)(y.Ei,{variant:"text",size:"sm","aria-label":"Close",children:(0,l.jsx)(u.T,{})})})]}),D&&(0,l.jsxs)(K.T.Error,{children:[(0,l.jsx)(c.W,{className:"size-4 fill-red-500"}),(0,l.jsx)("p",{className:"text-danger-lower text-sm font-bold",children:D})]}),(0,l.jsx)(K.T.ProductTable,{children:(0,l.jsxs)(K.T.ProductTableItem,{contentShouldGrow:!0,children:[(0,l.jsx)(K.T.ProductTableTitle,{children:s("table_header_description")}),(null==S?void 0:S.type)==="subscription"&&(0,l.jsxs)("div",{className:"flex flex-col justify-center gap-2",children:[Y&&(0,l.jsxs)("div",{className:"flex flex-nowrap items-center gap-1 pt-2 text-sm font-semibold",children:[(0,l.jsx)(p.q,{size:"xs",src:Y.user.profile_pic}),(0,l.jsx)("span",{children:Y.user.username})]}),(0,l.jsx)("p",{className:"text-sm font-medium",children:s("subscription_tier_description",{tierCount:S.subscription.tier})}),(0,l.jsx)("div",{className:"text-text-secondary text-xs font-medium",children:s("recurring_charge_advertise")}),(0,l.jsxs)("div",{className:"flex items-center justify-between pt-1 text-sm font-medium",children:[(0,l.jsx)("span",{children:s("table_header_renew_every")}),(0,l.jsx)("span",{children:s("month_count",{count:1})})]})]}),(null==S?void 0:S.type)==="gift"&&(0,l.jsxs)("div",{className:"flex flex-col justify-center gap-2",children:[Y&&(0,l.jsxs)("div",{className:"flex flex-nowrap items-center gap-1 pt-2 text-sm font-semibold",children:[(0,l.jsx)(p.q,{size:"xs",src:Y.user.profile_pic}),(0,l.jsx)("span",{children:Y.user.username})]}),(0,l.jsxs)("div",{className:"text-grey-100 text-sm font-medium",children:[s("gift_description",{quantity:S.gift.quantity,tier:S.gift.tier,username:null==Y?void 0:Y.user.username}),(null===(t=S.gift.recipient)||void 0===t?void 0:t.username)&&(0,l.jsxs)("span",{className:"ml-1",children:["(",S.gift.recipient.username,")"]})]}),(0,l.jsx)("div",{className:"text-text-secondary text-xs font-medium",children:s("gift_one_time_payment")})]})]})}),(0,l.jsx)(K.T.Separator,{}),z&&(0,l.jsx)(j.aM,{className:"bg-shade-lower h-[417px] w-full"}),V&&(0,l.jsxs)(l.Fragment,{children:["ADD_PAYMENT_METHOD"===M&&(0,l.jsx)(w.P,{selfUserHasCards:Z}),"PAYMENT"===M&&Z&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(K.T.PaymentMethod,{children:[(0,l.jsx)(d.X.CardList,{name:"payment-method",value:E,onValueChange:e=>q(e),children:null==O?void 0:O.cards.map(e=>(0,l.jsx)(d.X.CardRoot,{children:(0,l.jsx)(d.X.CardNumber,{id:e.id,brand:e.brand,last4:e.last4,expMonth:e.exp_month,expYear:e.exp_year})},e.id))}),"PAYMENT"===M&&(0,l.jsxs)(y.zx,{variant:"text",size:"sm",onClick:()=>F("ADD_PAYMENT_METHOD"),className:"w-fit",children:[(0,l.jsx)(o.d,{}),s("button_label_add_new_card")]})]}),(0,l.jsx)(K.T.Separator,{}),(0,l.jsxs)(K.T.Footer,{children:[(0,l.jsx)(I,{}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)(K.T.Disclaimer,{children:[(0,l.jsx)("p",{children:s("card_prepaid_disclaimer")}),(0,l.jsx)("p",{children:s.rich("payment_issues_disclaimer",{help:e=>(0,l.jsx)("a",{href:"https://help.kick.com/en/articles/8568959-understanding-common-payment-queries",className:"font-semibold",target:"_blank",children:(0,l.jsx)("u",{children:e})})})})]}),(0,l.jsx)(K.T.Disclaimer,{children:(0,l.jsx)("p",{children:s("kick_policy_disclaimer")})})]})]})]})]})]})}):(0,l.jsx)(g.fC,{open:C,onOpenChange:G,children:(0,l.jsxs)(g.VY,{ref:T,onPointerDownOutside:e=>(0,v.o)(e,T),className:"flex max-h-[92dvh] w-full flex-col gap-6 overflow-hidden overflow-y-auto p-6 lg:max-w-[768px]",children:[(0,l.jsx)(g.h4,{children:(0,l.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,l.jsx)(g.Dx,{children:s("complete_purchase")}),(0,l.jsx)(g.x8,{})]})}),D&&(0,l.jsxs)(K.T.Error,{children:[(0,l.jsx)(c.W,{className:"size-4 fill-red-500"}),(0,l.jsx)("p",{className:"text-danger-lower font-bold",children:D})]}),(0,l.jsxs)(K.T.ProductTable,{children:[(0,l.jsxs)(K.T.ProductTableItem,{children:[(0,l.jsx)(K.T.ProductTableTitle,{className:"min-w-[200px] lg:pl-0",children:s("table_header_product_name")}),(0,l.jsx)(K.T.ProductTableContent,{className:"min-w-[200px] lg:pl-0",children:Y&&(0,l.jsxs)("div",{className:"flex flex-nowrap items-center gap-2 text-sm font-semibold",children:[(0,l.jsx)(p.q,{size:"xs",src:Y.user.profile_pic}),(0,l.jsx)("span",{children:Y.user.username})]})})]}),(0,l.jsxs)(K.T.ProductTableItem,{contentShouldGrow:!0,children:[(0,l.jsx)(K.T.ProductTableTitle,{children:s("table_header_description")}),(0,l.jsxs)(K.T.ProductTableContent,{children:[(null==S?void 0:S.type)==="subscription"&&(0,l.jsxs)("div",{className:"flex max-w-xs flex-col justify-center gap-1",children:[(0,l.jsx)("div",{className:"text-sm font-medium",children:s("subscription_tier_description",{tierCount:S.subscription.tier})}),(0,l.jsx)("div",{className:"text-text-secondary text-xs font-medium",children:s("recurring_charge_advertise")})]}),(null==S?void 0:S.type)==="gift"&&(0,l.jsxs)("div",{className:"flex max-w-xs flex-col justify-center gap-1",children:[(0,l.jsxs)("div",{className:"text-grey-100 text-sm font-medium",children:[s("gift_description",{quantity:S.gift.quantity,tier:S.gift.tier,username:null==Y?void 0:Y.user.username}),(null===(e=S.gift.recipient)||void 0===e?void 0:e.username)&&(0,l.jsxs)("span",{className:"ml-1",children:["(",S.gift.recipient.username,")"]})]}),(0,l.jsx)("div",{className:"text-text-secondary text-xs font-medium",children:s("gift_one_time_payment")})]})]})]}),(null==S?void 0:S.type)==="subscription"&&(0,l.jsxs)(K.T.ProductTableItem,{children:[(0,l.jsx)(K.T.ProductTableTitle,{className:"justify-end lg:pr-0",children:s("table_header_renew_every")}),(0,l.jsx)(K.T.ProductTableContent,{className:"text-right lg:pr-0",children:(0,l.jsx)("p",{className:"w-32 font-semibold",children:s("month_count",{count:1})})})]})]}),(0,l.jsx)(K.T.Separator,{}),z&&(0,l.jsx)(j.aM,{className:"bg-shade-lower h-[417px] w-full"}),V&&(0,l.jsxs)(l.Fragment,{children:[Z&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(K.T.PaymentMethod,{children:[(0,l.jsx)(d.X.CardList,{name:"payment-method",value:E,onValueChange:e=>q(e),children:null==O?void 0:O.cards.map(e=>(0,l.jsx)(d.X.CardRoot,{children:(0,l.jsx)(d.X.CardNumber,{id:e.id,brand:e.brand,last4:e.last4,expMonth:e.exp_month,expYear:e.exp_year})},e.id))}),"PAYMENT"===M&&(0,l.jsxs)(y.zx,{variant:"text",size:"sm",onClick:()=>F("ADD_PAYMENT_METHOD"),className:"w-fit",children:[(0,l.jsx)(o.d,{}),s("button_label_add_new_card")]})]})}),"ADD_PAYMENT_METHOD"===M&&(0,l.jsxs)("div",{className:"bg-shade-lower flex flex-col gap-4 rounded px-4 py-3",children:[(0,l.jsx)("h3",{className:"text-sm font-semibold",children:s("add_payment_method")}),(0,l.jsx)(w.P,{selfUserHasCards:Z})]}),"PAYMENT"===M&&Z&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(K.T.Separator,{}),(0,l.jsxs)(K.T.Footer,{children:[(0,l.jsx)(I,{}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)(K.T.Disclaimer,{children:[(0,l.jsx)("p",{children:s("card_prepaid_disclaimer")}),(0,l.jsx)("p",{children:s.rich("payment_issues_disclaimer",{help:e=>(0,l.jsx)("a",{href:"https://help.kick.com/en/articles/8568959-understanding-common-payment-queries",className:"font-semibold",target:"_blank",children:(0,l.jsx)("u",{children:e})})})})]}),(0,l.jsx)(K.T.Disclaimer,{children:(0,l.jsx)("p",{children:s("kick_policy_disclaimer")})})]})]})]})]})]})})}},19974:function(e,t,s){s.d(t,{PaymentDialogProvider:function(){return i},U:function(){return d},initialPaymentDialogState:function(){return a}});var l=s(53198),n=s(89628);let a={isDialogOpen:!1,isAnonymousGift:!1,currentView:null,clientSecret:null,paymentMethodCaptcha:null,paymentPayload:null,paymentError:null,selectedPaymentMethodId:"",selectedSubPlan:null,selectedGiftPlan:null},r=(0,n.T)(e=>(0,l.M)(t=>({...e,setIsAnonymousGift:e=>t({isAnonymousGift:e}),setPaymentMethodId:e=>t({selectedPaymentMethodId:e}),setCurrentView:e=>t({currentView:e}),setPaymentPayload:e=>t({paymentPayload:e}),setClientSecret:e=>t({clientSecret:e}),setPaymentMethodCaptcha:e=>t({paymentMethodCaptcha:e}),setPaymentPlans:e=>{let s=null,l=null;(null==e?void 0:e.subscriptions.length)&&e.subscriptions[0].plans.length&&(s=e.subscriptions[0].plans[0]),(null==e?void 0:e.gifts.length)&&e.gifts[0].plans.length&&(l=e.gifts[0].plans[0]),t({selectedSubPlan:s,selectedGiftPlan:l})},setPaymentError:e=>t({paymentError:e}),openDialog:()=>t({isDialogOpen:!0}),closeDialog:()=>t(a)}))),i=r.Provider,d=r.useStore},8863:function(e,t,s){s.d(t,{I:function(){return u},e:function(){return c}});var l=s(73822),n=s(3316),a=s(86197);let r=(e,t,s)=>(0,a.rK)("/api/v2/channels/".concat(t,"/subscriptions"),null,{method:"POST",signal:e,body:JSON.stringify(s)}),i=(e,t)=>(0,a.rK)("/api/v2/channels/".concat(t,"/subscriptions"),null,{method:"DELETE",signal:e}),d=(e,t,s)=>(0,a.rK)("/api/v2/channels/".concat(t,"/gift"),null,{method:"POST",signal:e,body:JSON.stringify(s)}),o=(e,t)=>(0,a.rK)("/api/v2/channels/".concat(t,"/plans"),null,{method:"GET",signal:e}),c={listPlans:(e,t)=>(0,n.C)({queryKey:["Payment","listPlans",t],queryFn:e=>{let{signal:s}=e;return o(s,t)},enabled:e})},u={useInitiateSubscription:(e,t)=>{let s=(0,l.useMutation)({mutationFn:async e=>r(null,t,e)});return e?s:null},useCancelSubscription:(e,t)=>{let s=(0,l.useMutation)({mutationKey:["Payment","cancelSubscription",t],mutationFn:async()=>i(null,t)});return e?s:null},useInitiateGift:(e,t)=>{let s=(0,l.useMutation)({mutationFn:async e=>d(null,t,e)});return e?s:null}}},6657:function(e,t,s){s.d(t,{f:function(){return w},l:function(){return b}});var l=s(3316),n=s(73822),a=s(86197);let r=e=>(0,a.rK)("/api/v1/user",null,{method:"GET",signal:e}),i=(e,t)=>(0,a.rK)("/api/v1/users/".concat(t),null,{method:"GET",signal:e}),d=e=>(0,a.rK)("/api/v1/user/categories/top",null,{method:"GET",signal:e}),o=e=>(0,a.rK)("/api/v1/user/livestreams",null,{method:"GET",signal:e}),c=(e,t)=>(0,a.rK)("/api/v2/user/filtered-categories",null,{method:"PUT",signal:e,body:JSON.stringify(t)}),u=e=>(0,a.rK)("/api/v2/user/filtered-categories",null,{method:"GET",signal:e}),m=e=>(0,a.rK)("/api/v2/user/payment-profile",null,{method:"GET",signal:e}),h=(e,t)=>(0,a.rK)("/api/v2/user/payment-methods",null,{method:"POST",signal:e,body:JSON.stringify(t)}),x=(e,t)=>(0,a.rK)("/api/v2/user/payment-methods/delete",null,{method:"POST",signal:e,body:JSON.stringify(t)}),p=(e,t)=>(0,a.rK)("/api/v2/user/payment-methods/default",null,{method:"POST",signal:e,body:JSON.stringify(t)}),y=e=>(0,a.rK)("/api/v2/user/subscriptions",null,{method:"GET",signal:e}),f=e=>(0,a.rK)("/api/v2/user/verified-status",null,{method:"GET",signal:e}),g=e=>(0,a.rK)("/setup-2fa",null,{method:"GET",signal:e}),v=(e,t)=>(0,a.rK)("/verify-2fa",null,{method:"POST",signal:e,body:JSON.stringify(t)}),j=e=>(0,a.rK)("/remove-2fa",null,{method:"PUT",signal:e}),b={get:()=>(0,l.C)({queryKey:["User","get"],queryFn:e=>{let{signal:t}=e;return r(t)}}),show:e=>(0,l.C)({queryKey:["User","show",e],queryFn:t=>{let{signal:s}=t;return i(s,e)}}),top:e=>(0,l.C)({queryKey:["User","top"],queryFn:e=>{let{signal:t}=e;return d(t)},enabled:e}),livestreams:e=>(0,l.C)({queryKey:["User","livestreams"],queryFn:e=>{let{signal:t}=e;return o(t)},enabled:e}),getFilteredCategories:e=>(0,l.C)({queryKey:["User","getFilteredCategories"],queryFn:e=>{let{signal:t}=e;return u(t)},enabled:e}),getPaymentProfile:e=>(0,l.C)({queryKey:["User","getPaymentProfile"],queryFn:e=>{let{signal:t}=e;return m(t)},enabled:e}),getSubscriptions:e=>(0,l.C)({queryKey:["User","getSubscriptions"],queryFn:e=>{let{signal:t}=e;return y(t)},enabled:e}),getVerifiedStatus:e=>(0,l.C)({queryKey:["User","getVerifiedStatus"],queryFn:e=>{let{signal:t}=e;return f(t)},enabled:e}),setup2fa:e=>(0,l.C)({queryKey:["User","setup2fa"],queryFn:e=>{let{signal:t}=e;return g(t)},enabled:e})},w={useUpdateFilteredCategories:e=>{let t=(0,n.useMutation)({mutationFn:async e=>c(null,e)});return e?t:null},useAddPaymentMethod:e=>{let t=(0,n.useMutation)({mutationKey:["User","AddPaymentMethod"],mutationFn:async e=>h(null,e)});return e?t:null},useDeletePaymentMethod:e=>{let t=(0,n.useMutation)({mutationFn:async e=>x(null,e)});return e?t:null},useChangeDefaultPaymentMethod:e=>{let t=(0,n.useMutation)({mutationFn:async e=>p(null,e)});return e?t:null},useVerify2fa:e=>{let t=(0,n.useMutation)({mutationFn:async e=>v(null,e)});return e?t:null},useRemove2fa:e=>{let t=(0,n.useMutation)({mutationFn:async()=>j(null)});return e?t:null}}},61183:function(e,t,s){s.d(t,{X:function(){return x}});var l=s(27573),n=s(69389);let a={amazonpay:e=>{let{fill:t,...s}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:t||"white",...s,children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M15.9 30a16.8 16.8 0 0 1-12.7-6.2l-.1-.1v-.4h.3l2.4 1.5a21.6 21.6 0 0 0 11.5 2.8 20 20 0 0 0 7.6-2l1.1-.5h.6v.6l-.3.3c-2.1 2-4.6 3-7.4 3.6l-3 .4m10.4-6-1.7.1h-.4c-.2 0-.2 0-.1-.2l.2-.1c.6-.4 1.3-.6 2-.7.7-.1 1.4 0 2 .1.5.1.6.2.6.7 0 1.4-.5 2.7-1.6 3.7l-.1.2h-.3v-.2l.7-2.2.1-.5c.1-.5-.1-.8-.6-.8l-.8-.1m-8-11c-1 0-2 0-3 .3a5 5 0 0 0-1.2.7c-1.1.7-1.4 1.8-1.3 3 0 .7.2 1.3.7 1.8.7.7 1.9.7 2.8.2.8-.5 1.3-1.2 1.6-2 .4-1.4.3-2.7.3-4m.8 7.4-1 1a6.8 6.8 0 0 1-4.6 1.6c-1 0-1.9 0-2.8-.4a4.7 4.7 0 0 1-3-3.3 7 7 0 0 1 1-5.8c.8-1.2 2-2 3.5-2.5a20 20 0 0 1 4-.7l2.1-.3c0-.9.1-1.8-.2-2.6-.3-.8-.9-1.2-1.6-1.4-1.2-.3-2.5.2-3.2 1.1l-.4 1c-.2.6-.4.8-1 .7l-3.1-.4c-.5 0-.7-.3-.6-.8.4-2.3 1.7-4 4-4.8 2.5-1 5.1-1 7.7-.1a5 5 0 0 1 3.5 4.7v8.3a5 5 0 0 0 1 3l.5.8c.3.3.2.6-.1 1l-2.7 2c-.5.4-.8.4-1.3 0a8 8 0 0 1-1.6-1.8l-.2-.4",clipRule:"evenodd"})})},amex:e=>{let{fill:t,...s}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"white",viewBox:"0 0 32 32",...s,children:(0,l.jsx)("path",{d:"m20.2 20.5-3.5-3.8v1.6h-4.4v1.4h4.3v1.6h-4.3v1.3h4.4v1.6l3.5-3.7Zm-7.8-10.2-.3-1-.4 1-.8 2h2.3l-.8-2Zm0 0-.3-1-.4 1-.8 2h2.3l-.8-2Zm0 0-.3-1-.4 1-.8 2h2.3l-.8-2Zm7.8 10.2-3.5-3.8v1.6h-4.4v1.4h4.3v1.6h-4.3v1.3h4.4v1.6l3.5-3.7Zm0 0-3.5-3.8v1.6h-4.4v1.4h4.3v1.6h-4.3v1.3h4.4v1.6l3.5-3.7ZM20 7.8l1.5 3.8.4 1 .4-1 1.4-3.8h3.2V6.3h-4.1l-1 2.5-.9-2.5h-5.5v2.4l-1-2.4H9.6L5.2 16.7h3.6v9H20l1.6-1.7 1.4 1.7h4v-3l-2.2-2.3 2.1-2.1v-3h-2V9.4l-.3 1-1.8 5h-1.9l-1.8-5-.4-1v6h-4.1l-.6-1.5h-3.7l-.6 1.4H7.4l3.4-7.5h2.6l3.3 7.5V7.8h3.2Zm-.7 8.9 2.3 2.5 2.3-2.5h2.4l-3.5 3.8 3.5 3.7h-2.5l-2.3-2.4-2.3 2.4h-8.7v-7.5h8.8Zm-6.9 1.6v1.4h4.3v1.6h-4.3v1.3h4.4v1.6l3.5-3.7-3.5-3.8v1.6h-4.4Zm-.2-9-.4 1-.8 2h2.3l-.8-2-.3-1Zm8.1 11.2-3.5-3.8v1.6h-4.4v1.4h4.3v1.6h-4.3v1.3h4.4v1.6l3.5-3.7Zm0 0-3.5-3.8v1.6h-4.4v1.4h4.3v1.6h-4.3v1.3h4.4v1.6l3.5-3.7Zm-7.8-10.2-.3-1-.4 1-.8 2h2.3l-.8-2Z"})})},mastercard:e=>{let{fill:t,...s}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"white",viewBox:"0 0 32 32",...s,children:(0,l.jsx)("path",{d:"m15.2 23 .2.2c-1.3 1-3 1.5-4.7 1.5a8.7 8.7 0 1 1 4.7-16l-.2.3a9.3 9.3 0 0 0 0 14Zm6.1-15.6c-1.7 0-3.4.5-4.7 1.4l.2.2a9.3 9.3 0 0 1 0 14l-.2.2c1.3 1 3 1.5 4.7 1.5a8.7 8.7 0 0 0 0-17.3ZM16 9.2l-.3.3a8.6 8.6 0 0 0 .3 13.3l.3-.3A8.6 8.6 0 0 0 16 9.2Z"})})},moonpay:e=>{let{fill:t,...s}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"white",viewBox:"0 0 32 32",...s,children:(0,l.jsx)("path",{d:"M26.2 10.7a3.8 3.8 0 1 0 0-7.6 3.8 3.8 0 0 0 0 7.6ZM12.7 29.3a10.7 10.7 0 1 0 0-21.3 10.7 10.7 0 0 0 0 21.3Z"})})},paypal:e=>{let{fill:t,...s}=e;return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"white",viewBox:"0 0 32 32",...s,children:[(0,l.jsx)("path",{d:"M12.9 17.5H15a13 13 0 0 0 5.2-.8 8 8 0 0 0 4-3.5c.9-1.7 1.4-3.6 1.4-5.5A5 5 0 0 0 25 5c-.7-1.3-2-2.1-3.4-2.5a12 12 0 0 0-3.8-.5H9c-.7 0-1.2.4-1.3 1.2L5.9 14.7 4 26c-.1.5.2.9.8.9H10c.2 0 .2 0 .3-.2a13866.5 13866.5 0 0 1 1.2-8c.1-.7.6-1.2 1.4-1.2Z"}),(0,l.jsx)("path",{d:"M25.8 19.5a9.5 9.5 0 0 0 2-4.3c.4-3.2-.4-4.4-.9-5v.4c-.3 1.1-.7 2.3-1.3 3.3-.9 1.5-2 2.7-3.4 3.5a12.4 12.4 0 0 1-6 1.7h-2.5a210.2 210.2 0 0 0-.7.2L11.3 30h4c.5-.2.8-.5.9-1l.5-3.4.4-2.4c0-.5.4-.8.9-1h.5c1.4 0 2.8 0 4-.5a7 7 0 0 0 3.3-2.2Z"})]})},visa:e=>{let{fill:t,...s}=e;return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"white",viewBox:"0 0 32 32",...s,children:(0,l.jsx)("path",{d:"M12.6 11.6 9 20.4H6.6l-1.8-7c-.1-.4-.2-.6-.6-.8-.5-.3-1.4-.5-2.2-.7v-.3h4c.5 0 1 .4 1 1l1 5 2.3-6h2.4Zm9.4 6c0-2.4-3.2-2.5-3.2-3.5 0-.4.3-.7 1-.8.3 0 1.2 0 2.2.4l.4-1.8a6 6 0 0 0-2-.4c-2.3 0-3.9 1.2-4 2.9 0 1.2 1.2 2 2 2.4 1 .4 1.2.7 1.2 1 0 .6-.7.9-1.3.9-1.2 0-1.8-.3-2.4-.6l-.4 2c.6.2 1.5.4 2.6.4 2.3 0 3.9-1.1 3.9-3m6 2.9h2l-1.8-8.8h-2a1 1 0 0 0-1 .7l-3.3 8h2.4l.4-1.2h3l.2 1.3Zm-2.6-3.1 1.2-3.3.7 3.3h-2Zm-9.5-5.7-2 8.8h-2.2l1.9-8.8h2.3Z"})})}};var r=s(91870),i=s(43546),d=s(35449);let o=e=>{let{value:t,onValueChange:s,name:n,children:a}=e;return(0,l.jsx)(r.Ee,{className:"flex flex-col gap-2 lg:gap-3",name:n,value:t,onValueChange:s,children:a})};o.displayName="PaymentMethod.CardList";let c=e=>{let{children:t,className:s}=e;return(0,l.jsx)("div",{className:(0,d.cn)("bg-shade-lower flex w-full flex-col gap-y-2 rounded px-2 py-3 lg:flex-row lg:px-5 lg:py-4",s),children:t})};c.displayName="PaymentMethod.CardRoot";let u=()=>(0,l.jsx)("span",{className:"text-text-secondary tracking-wide",children:"••••"}),m=e=>{let{id:t,brand:s,last4:i,expMonth:o,expYear:c,shouldGrow:m=!0}=e,h=(0,n.useTranslations)("Payments"),x=a[s];return(0,l.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,l.jsx)(r.mJ,{value:t,className:"shrink-0",children:(0,l.jsx)(r.Q4,{})}),(0,l.jsxs)("div",{className:(0,d.cn)("flex flex-col lg:flex-row",m&&"lg:grow",!m&&"lg:gap-20"),children:[(0,l.jsxs)("div",{className:(0,d.cn)("flex flex-wrap items-center gap-2",m&&"lg:grow"),children:[x&&(0,l.jsx)(x,{className:"fill-secondary size-8"}),(0,l.jsxs)("div",{className:"flex gap-1",children:[[...[,,,,].keys()].map((e,t)=>(0,l.jsx)(u,{},t)),(0,l.jsx)("span",{className:"font-semibold tracking-wide",children:i})]})]}),(0,l.jsx)("span",{className:"text-text-secondary flex items-center gap-2 text-sm font-medium lg:gap-3",children:h.rich("card_expires_at",{month:"".concat(o<10?"0":"").concat(o),year:c,date:e=>(0,l.jsx)("span",{className:"font-semibold",children:e})})})]})]})};m.displayName="PaymentMethod.CardNumber";let h=()=>(0,l.jsx)(i.aM,{className:"bg-grey-700 h-16 w-full"});h.displayName="PaymentMethod.CardSkeleton";let x={CardList:o,CardRoot:c,CardNumber:m,CardSkeleton:h,CardPreview:e=>{let{last4:t,brand:s,expMonth:r,expYear:i}=e,o=(0,n.useTranslations)("Payments"),c=a[s];return(0,l.jsxs)("div",{className:"bg-shade-lower flex w-full flex-wrap justify-between gap-6 rounded px-5 py-4",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[c&&(0,l.jsx)(c,{className:"fill-secondary size-8"}),(0,l.jsxs)("div",{className:"flex gap-1",children:[[...[,,,,].keys()].map((e,t)=>(0,l.jsx)(u,{},t)),(0,l.jsx)("span",{className:"font-semibold",children:t})]})]}),(0,l.jsx)("div",{className:"text-grey-400 flex items-center gap-3 text-sm font-medium",children:o.rich("card_expires_at",{month:"".concat(r<10?"0":"").concat(r),year:i,date:e=>(0,l.jsx)("span",{className:(0,d.cn)("font-semibold text-white"),children:e})})})]})}}},78040:function(e,t,s){s.d(t,{d:function(){return n}});var l=s(27573);let n=e=>{let{fill:t,...s}=e;return(0,l.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,l.jsx)("path",{d:"M28.3884 17.9111V14.3837L17.7752 14.3775L17.7689 3.76428H14.2416L14.2353 14.3775L3.62213 14.3837L3.62213 17.9111L14.2353 17.9173L14.2416 28.5305H17.7689L17.7752 17.9173L28.3884 17.9111Z",fill:"current"})})}},14237:function(e,t,s){s.d(t,{e:function(){return r}});var l=s(27573),n=s(20358),a=s(16622);let r=e=>{let{onVerify:t}=e;return(0,l.jsx)(n.Z,{sitekey:a.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY,onChange:e=>{t(e)}})}},44850:function(e,t,s){let l;s.d(t,{d:function(){return r}});var n=s(48418),a=s(16622);let r=e=>(l||(l=(0,n.J)(a.env.NEXT_PUBLIC_STRIPE_PUBLIC_KEY,{locale:e})),l)},8598:function(e,t,s){s.d(t,{o:function(){return l}});let l=(e,t)=>{if(t.current){let s=t.current.getBoundingClientRect();if(e.detail.originalEvent.clientX>s.left&&e.detail.originalEvent.clientX<s.left+s.width&&e.detail.originalEvent.clientY>s.top&&e.detail.originalEvent.clientY<s.top+s.height){e.preventDefault();return}}}}}]);