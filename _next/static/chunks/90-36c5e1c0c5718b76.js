(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{10718:function(e,t,s){"use strict";s.d(t,{a:function(){return c},R:function(){return d}});var n=s(3316),l=s(73822),r=s(86197);let a=(e,t)=>(0,r.rK)("/api/v2/channels/".concat(t,"/bans"),null,{method:"GET",signal:e}),i=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/bans"),null,{method:"POST",signal:e,body:JSON.stringify(s)}),o=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/bans/").concat(s),null,{method:"DELETE",signal:e}),d={listBan:(e,t)=>(0,n.C)({queryKey:["Ban","listBan",t],queryFn:e=>{let{signal:s}=e;return a(s,t)},enabled:e})},c={useCreateBan:(e,t)=>{let s=(0,l.useMutation)({mutationFn:async e=>i(null,t,e)});return e?s:null},useDeleteBan:(e,t)=>{let s=(0,l.useMutation)({mutationFn:async e=>o(null,t,e)});return e?s:null}}},14930:function(e,t,s){"use strict";s.d(t,{j:function(){return d}});var n=s(96196),l=s(3316),r=s(86197);let a=(e,t,s,n)=>(0,r.rK)("/api/v2/channels/".concat(t,"/users/").concat(s,"/messages"),{cursor:n},{method:"GET",signal:e}),i=(e,t)=>(0,r.rK)("/api/v2/users/".concat(t,"/messages"),null,{method:"GET",signal:e}),o=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/messages"),{start_time:s},{method:"GET",signal:e}),d={getMessagesByChannelAndUser:(e,t,s,l)=>(0,n.t)({queryKey:["ChatHistory","getMessagesByChannelAndUser",t,s],queryFn:e=>{let{signal:n,pageParam:l}=e;return a(n,t,s,l.cursor)},initialPageParam:{cursor:l},getNextPageParam:e=>(null==e?void 0:e.data.cursor)?{cursor:e.data.cursor}:void 0}),getMessagesByUser:e=>(0,l.C)({queryKey:["ChatHistory","getMessagesByUser",e],queryFn:t=>{let{signal:s}=t;return i(s,e)}}),getMessagesByChannel:(e,t)=>(0,l.C)({queryKey:["ChatHistory","getMessagesByChannel",e,t],queryFn:s=>{let{signal:n}=s;return o(n,e,t)}}),getMessagesHistoryByChannel:(e,t)=>(0,n.t)({queryKey:["ChatHistory","getMessagesByChannel",e,t],queryFn:t=>{let{signal:s,pageParam:n}=t;return o(s,e,n.start_time)},initialPageParam:{start_time:t},getNextPageParam:(e,t,s)=>{if(null==e?void 0:e.data)return{start_time:new Date(new Date(s.start_time).getTime()+5e3).toISOString()}}})}},31567:function(e,t,s){"use strict";s.d(t,{W:function(){return i}});var n=s(73822),l=s(86197);let r=(e,t,s)=>(0,l.rK)("/api/v2/messages/send/".concat(t),null,{method:"POST",signal:e,body:JSON.stringify(s)}),a=(e,t,s)=>(0,l.rK)("/api/v2/chatrooms/".concat(t,"/messages/").concat(s),null,{method:"DELETE",signal:e}),i={useSend:e=>(0,n.useMutation)({mutationFn:async t=>r(null,e,t)}),useDelete:(e,t)=>{let s=(0,n.useMutation)({mutationFn:async e=>a(null,t,e)});return e?s:null}}},34595:function(e,t,s){"use strict";s.d(t,{e:function(){return v},y:function(){return g}});var n=s(3316),l=s(73822),r=s(86197);let a=(e,t)=>(0,r.rK)("/api/v1/".concat(t,"/chatroom"),null,{method:"GET",signal:e}),i=(e,t,s)=>(0,r.rK)("/api/v1/chatrooms/".concat(t),null,{method:"PUT",signal:e,body:JSON.stringify(s)}),o=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/pinned-message"),null,{method:"POST",signal:e,body:JSON.stringify(s)}),d=(e,t)=>(0,r.rK)("/api/v2/channels/".concat(t,"/pinned-message"),null,{method:"DELETE",signal:e}),c=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/chatroom"),null,{method:"PUT",signal:e,body:JSON.stringify(s)}),u=(e,t)=>(0,r.rK)("/api/v2/channels/".concat(t,"/chatroom"),null,{method:"GET",signal:e}),h=(e,t)=>(0,r.rK)("/api/v2/channels/".concat(t,"/chatroom/banned-words"),null,{method:"GET",signal:e}),m=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/chatroom/banned-words"),null,{method:"PUT",signal:e,body:JSON.stringify(s)}),x=(e,t)=>(0,r.rK)("/api/v2/channels/".concat(t,"/chatroom/rules"),null,{method:"GET",signal:e}),f=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/chatroom/rules"),null,{method:"PUT",signal:e,body:JSON.stringify(s)}),p=(e,t)=>(0,r.rK)("/api/internal/v1/channels/".concat(t,"/chatroom/settings"),null,{method:"GET",signal:e}),g={show:e=>(0,n.C)({queryKey:["Chatroom","show",e],queryFn:t=>{let{signal:s}=t;return a(s,e)}}),get:e=>(0,n.C)({queryKey:["Chatroom","get",e],queryFn:t=>{let{signal:s}=t;return u(s,e)}}),getChatBannedWords:(e,t)=>(0,n.C)({queryKey:["Chatroom","getChatBannedWords",t],queryFn:e=>{let{signal:s}=e;return h(s,t)},enabled:e}),getRules:e=>(0,n.C)({queryKey:["Chatroom","getRules",e],queryFn:t=>{let{signal:s}=t;return x(s,e)}}),getSettings:e=>(0,n.C)({queryKey:["Chatroom","getSettings",e],queryFn:t=>{let{signal:s}=t;return p(s,e)}})},v={useUpdate:(e,t)=>{let s=(0,l.useMutation)({mutationFn:async e=>i(null,t,e)});return e?s:null},useCreatePinnedMessage:(e,t)=>{let s=(0,l.useMutation)({mutationFn:async e=>o(null,t,e)});return e?s:null},useDeletePinnedMessage:(e,t)=>{let s=(0,l.useMutation)({mutationFn:async()=>d(null,t)});return e?s:null},useModify:(e,t)=>{let s=(0,l.useMutation)({mutationFn:async e=>c(null,t,e)});return e?s:null},useUpdateChatBannedWords:e=>(0,l.useMutation)({mutationFn:async t=>m(null,e,t)}),useModifyRules:e=>(0,l.useMutation)({mutationFn:async t=>f(null,e,t)})}},76913:function(e,t,s){"use strict";s.d(t,{d:function(){return i}});var n=s(3316);s(73822);var l=s(86197);let r=e=>(0,l.rK)("/emotes",null,{method:"GET",signal:e}),a=(e,t)=>(0,l.rK)("/emotes/".concat(t),null,{method:"GET",signal:e}),i={index:e=>(0,n.C)({queryKey:["Emote","index"],queryFn:e=>{let{signal:t}=e;return r(t)},enabled:e}),channelEmotes:e=>(0,n.C)({queryKey:["Emote","channelEmotes",e],queryFn:t=>{let{signal:s}=t;return a(s,e)}})}},89765:function(e,t,s){"use strict";s.d(t,{f:function(){return u},R:function(){return c}});var n=s(73822),l=s(3316),r=s(86197);let a=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/polls"),null,{method:"POST",signal:e,body:JSON.stringify(s)}),i=(e,t)=>(0,r.rK)("/api/v2/channels/".concat(t,"/polls"),null,{method:"DELETE",signal:e}),o=(e,t)=>(0,r.rK)("/api/v2/channels/".concat(t,"/polls"),null,{method:"GET",signal:e}),d=(e,t,s)=>(0,r.rK)("/api/v2/channels/".concat(t,"/polls/vote"),null,{method:"POST",signal:e,body:JSON.stringify(s)}),c={get:e=>(0,l.C)({queryKey:["Poll","get",e],queryFn:t=>{let{signal:s}=t;return o(s,e)}})},u={useCreate:(e,t)=>{let s=(0,n.useMutation)({mutationFn:async e=>a(null,t,e)});return e?s:null},useDelete:(e,t)=>{let s=(0,n.useMutation)({mutationFn:async()=>i(null,t)});return e?s:null},useVote:(e,t)=>{let s=(0,n.useMutation)({mutationFn:async e=>d(null,t,e)});return e?s:null}}},48218:function(e,t,s){"use strict";s.d(t,{BannedUsersDialogWrapper:function(){return S}});var n=s(27573),l=s(69389),r=s(45431),a=s(7653),i=s(10718),o=s(7101),d=s(48451),c=s(67291),u=s(24326),h=s(29414),m=s(71789),x=s(8817),f=s(66195),p=s(35449),g=s(2560),v=s(47875),j=s(79423),C=s(33837),y=s(35416);let w=e=>{let{direction:t,onSortChange:s,disabled:l}=e;return(0,n.jsx)("button",{className:(0,p.cn)("flex h-fit w-fit cursor-pointer flex-col items-center justify-center",l&&"pointer-events-none cursor-default"),disabled:l,onClick:()=>l?void 0:t?"asc"===t?s("desc"):"desc"===t?s(void 0):void 0:s("asc"),children:(0,n.jsx)(()=>t?"asc"===t?(0,n.jsx)(y.L,{className:"size-2.5 -rotate-90"}):"desc"===t?(0,n.jsx)(y.L,{className:"size-2.5 rotate-90"}):null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.L,{className:"size-2.5 -rotate-90"}),(0,n.jsx)(y.L,{className:"size-2.5 rotate-90"})]}),{})})};w.displayName="BannedUsersDialog.SortButton";let b=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex flex-col text-sm",children:t})};b.displayName="BannedUsersDialog.Table";let _=e=>{let{children:t,className:s,header:l}=e;return(0,n.jsx)("div",{className:(0,p.cn)("flex min-w-0 flex-row flex-nowrap",!l&&"betterhover:hover:border-transparent betterhover:hover:bg-white/5 border-b border-white/5 transition-all last:border-0",l&&"overflow-hidden rounded bg-black/20",s),children:t})};_.displayName="BannedUsersDialog.TableRow";let H=e=>{let{children:t,disabled:s,headerCell:l}=e;return(0,n.jsx)("span",{"aria-disabled":s,className:(0,p.cn)("flex min-w-0 flex-1 flex-row items-center truncate p-2",l&&"select-none gap-2 font-bold",s&&"opacity-60"),title:"string"==typeof t?t:void 0,children:t})};H.displayName="BannedUsersDialog.TableCell";let N={Table:b,TableRow:_,TableCell:H,SortButton:w};var L=s(43546);let E=()=>(0,n.jsxs)(N.TableRow,{className:"betterhover:hover:border-white/5 betterhover:hover:bg-transparent h-[44px]",children:[(0,n.jsx)(N.TableCell,{children:(0,n.jsx)(L.Qr,{className:"w-[4.75rem] max-w-full text-sm",skeletonClass:"bg-[#24272C]"})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsx)(L.Qr,{className:"w-[4.75rem] max-w-full text-sm",skeletonClass:"bg-[#24272C]"})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsx)(L.Qr,{className:"w-[4.75rem] max-w-full text-sm",skeletonClass:"bg-[#24272C]"})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsx)(L.Qr,{className:"w-[4.75rem] max-w-full text-sm",skeletonClass:"bg-[#24272C]"})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsx)(L.aM,{className:"h-8 w-[5.4rem] bg-[#24272C]"})})]});E.displayName="BannedUsersDialogSkeleton.Row";let M={Row:E},S=()=>{var e;let t=(0,l.useTranslations)("BannedUsers"),[s,y]=(0,a.useState)(!1),[w,b]=(0,a.useState)({field:"banDate",direction:"desc"}),[_,H]=(0,a.useState)(""),{channelSlug:L}=(0,C.r)(),E=e=>{y(!0)};(0,a.useEffect)(()=>(window.addEventListener(c.u,E),()=>{window.removeEventListener(c.u,E)}),[]);let S="authenticated"===(0,d.k)().status,{data:V,status:F}=(0,g.useQuery)({...i.R.listBan(S,L),enabled:s}),k=i.a.useDeleteBan(S,L),B=V||[],T=B?B.map(e=>({...e,banId:e.banned_user.id+e.banned_by.id+e.ban.banned_at+e.ban.expires_at})):[],D=(e=w.direction?"username"===w.field?T.length?T.toSorted((e,t)=>{let s=e.banned_user.username,n=t.banned_user.username;return"desc"===w.direction?s.localeCompare(n):"asc"===w.direction?n.localeCompare(s):0}):[]:"issuer"===w.field?T.length?T.toSorted((e,t)=>{let s=e.banned_by.username,n=t.banned_by.username;return"desc"===w.direction?s.localeCompare(n)||0:"asc"===w.direction&&n.localeCompare(s)||0}):[]:"banDate"===w.field?T.length?T.toSorted((e,t)=>{let s=new Date(e.ban.banned_at).getTime(),n=new Date(t.ban.banned_at).getTime();return"desc"===w.direction?s>n?1:-1:"asc"===w.direction?n>s?1:-1:0}):[]:"unbanDate"===w.field?T.length?T.toSorted((e,t)=>{if(e.ban.permanent&&!t.ban.permanent)return 1;if(!e.ban.permanent&&t.ban.permanent)return -1;let s=new Date(e.ban.expires_at).getTime(),n=new Date(t.ban.expires_at).getTime();return"desc"===w.direction?s>n?1:-1:"asc"===w.direction?n>s?1:-1:0}):[]:T:T,_.trim().length?e.filter(e=>e.banned_user.username.toLowerCase().trim().includes(_.trim().toLowerCase())):e),Z=(e,t)=>{v.H.emit(j.t.Unban,{username:e,type:t?"unban":"untimeout"})},A="success"!==F||!(null==V?void 0:V.length);return(0,n.jsx)(x.fC,{open:s,onOpenChange:y,children:(0,n.jsxs)(x.VY,{className:"flex max-h-[75vh] max-w-[60vw] flex-col gap-4 overflow-hidden",children:[(0,n.jsx)(x.h4,{children:(0,n.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,n.jsx)(x.Dx,{children:t("title")}),(0,n.jsx)(x.x8,{})]})}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(f.fC,{placeholder:t("search_placeholder"),value:_,onChange:e=>H(e.target.value)}),(0,n.jsxs)(N.Table,{children:[(0,n.jsxs)(N.TableRow,{header:!0,children:[(0,n.jsxs)(N.TableCell,{headerCell:!0,disabled:A,children:[(0,n.jsx)("span",{children:t("username")}),(0,n.jsx)(N.SortButton,{disabled:A,direction:"username"===w.field?w.direction:void 0,onSortChange:e=>b({field:"username",direction:e})})]}),(0,n.jsxs)(N.TableCell,{headerCell:!0,disabled:A,children:[(0,n.jsx)("span",{children:t("banned_by")}),(0,n.jsx)(N.SortButton,{disabled:A,direction:"issuer"===w.field?w.direction:void 0,onSortChange:e=>b({field:"issuer",direction:e})})]}),(0,n.jsxs)(N.TableCell,{disabled:A,headerCell:!0,children:[(0,n.jsx)("span",{children:t("ban_date")}),(0,n.jsx)(N.SortButton,{disabled:A,direction:"banDate"===w.field?w.direction:void 0,onSortChange:e=>b({field:"banDate",direction:e})})]}),(0,n.jsxs)(N.TableCell,{disabled:A,headerCell:!0,children:[(0,n.jsx)("span",{children:t("unban_date")}),(0,n.jsx)(N.SortButton,{disabled:A,direction:"unbanDate"===w.field?w.direction:void 0,onSortChange:e=>b({field:"unbanDate",direction:e})})]}),(0,n.jsx)(N.TableCell,{disabled:A,headerCell:!0,children:t("reason")}),(0,n.jsx)(N.TableCell,{disabled:A,headerCell:!0,children:t("actions")})]}),"success"===F&&D.length>0&&(0,n.jsx)(r.Z,{data:D,itemKey:"banId",itemHeight:44,height:440,styles:{verticalScrollBar:{width:4},verticalScrollBarThumb:{borderRadius:"15px",background:"rgba(255, 255, 255, 0.25)"}},children:e=>{var s,l;let r=!(null===(l=e.ban.reason)||void 0===l?void 0:null===(s=l.trim())||void 0===s?void 0:s.length),a=r?t("ban_reason_empty"):e.ban.reason;return(0,n.jsx)("div",{children:(0,n.jsxs)(N.TableRow,{className:"h-[44px]",children:[(0,n.jsx)(N.TableCell,{children:(0,n.jsx)("span",{title:e.banned_user.username,className:"max-w-full truncate",children:e.banned_user.username})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsx)("span",{title:e.banned_by.username,className:"max-w-full truncate",children:e.banned_by.username})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsx)("span",{title:new Date(e.ban.banned_at).toLocaleString(),className:"max-w-full truncate",children:(0,n.jsx)(m.r,{date:e.ban.banned_at,format:"numericWithTime"})})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsx)("span",{title:new Date(e.ban.expires_at).toLocaleString(),className:(0,p.cn)("max-w-full truncate",e.ban.permanent&&"opacity-60"),children:e.ban.permanent?t("permanent_ban"):(0,n.jsx)(m.r,{date:e.ban.expires_at,format:"numericWithTime"})})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsx)("span",{title:a,className:(0,p.cn)("max-w-full truncate",r&&"opacity-60"),children:a})}),(0,n.jsx)(N.TableCell,{children:(0,n.jsxs)(u.zx,{className:"flex flex-row items-center justify-center gap-1",variant:"danger",size:"sm",onClick:()=>Z(e.banned_user.username,e.ban.permanent),disabled:!!(k&&k.isPending),children:[(0,n.jsx)(o.p,{className:"size-4"}),t("delete_ban")]})})]})})}}),("success"===F&&!(null==V?void 0:V.length)||"error"===F)&&(0,n.jsx)(h.$c,{type:"general",title:t("no_banned_users_title"),subtitle:t("no_banned_users_subtitle")}),"success"===F&&V&&V.length>0&&!D.length&&(0,n.jsx)(h.$c,{type:"search",title:t("no_search_results_title"),subtitle:t("no_search_results_subtitle")}),"pending"===F&&Array.from({length:10}).map((e,t)=>(0,n.jsx)(M.Row,{},t))]})]})]})})}},62889:function(e,t,s){"use strict";s.d(t,{CategoryDialogWrapper:function(){return V}});var n=s(27573),l=s(69389),r=s(7653),a=s(78406),i=s(8817),o=s(8840),d=s(2560),c=s(24819),u=s(33837),h=s(26862),m=s(3982),x=s(2696),f=s(19728),p=s(48451),g=s(81904),v=s(81266),j=s(38467),C=s(66195),y=s(81623),w=s(37355),b=s(35449);let _="https://files.kick.com/images/subcategories/15/banner/responsives/8f43401b-0d59-4802-8f70-cd5e259adc9b___banner_245_327.webp",H=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex flex-col gap-2.5",children:t})};H.displayName="CategoryDialog.Section";let N=e=>{let{src:t,srcSet:s,name:l}=e;return(0,n.jsx)("div",{className:"h-10 w-[30px]",children:(0,n.jsx)(g.ImgLoader,{draggable:!1,className:"relative aspect-[164/219] w-full object-cover",src:t||_,sizes:"166px",srcSet:s,alt:l,loading:"lazy"})})};N.displayName="CategoryDialog.CategoryThumbnail";let L=e=>{let{name:t,src:s,srcSet:l}=e,r=(0,h.yb)(e=>e.selectedCategory),a={src:(null==r?void 0:r.src)||s||_,srcSet:(null==r?void 0:r.srcSet)||l||"",name:(null==r?void 0:r.name)||t||""};return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(N,{src:a.src,srcSet:a.srcSet,name:a.name}),(0,n.jsx)("span",{className:"text-sm font-semibold text-green-500",children:a.name})]})};L.displayName="CategoryDialog.SelectedCategory";let E=()=>{let e=(0,l.useTranslations)("CategoryDialog"),t=(0,h.yb)(e=>e.query),s=(0,h.yb)(e=>e.setQuery);return(0,n.jsx)("div",{className:"relative w-full",children:(0,n.jsx)(C.qk,{leftIcon:(0,n.jsx)(f.W,{className:"size-4"}),children:(0,n.jsx)(C.fC,{value:t,onChange:e=>{s(e.target.value)},type:"search","aria-label":e("search_categories"),placeholder:e("search_categories")})})})};E.displayName="CategoryDialog.SearchInput";let M=e=>{let{livestreamSlug:t}=e,s=(0,l.useTranslations)("CategoryDialog"),a=(0,p.k)(),i=x.j.useUpdateStream("authenticated"===a.status,t),o=(0,h.yb)(e=>e.selectedCategory),d=(0,h.yb)(e=>e.setIsOpen),c=(0,h.yb)(e=>e.setApiError),[u,m]=(0,r.useState)(!1);return(0,n.jsxs)(j.zx,{disabled:!o,onClick:()=>{o&&i&&(m(!0),i.mutate({subcategoryId:o.id},{onError:()=>{c(s("error_api"))},onSuccess:()=>{d(!1)},onSettled:()=>{m(!1)}}))},className:"flex gap-2",children:[u&&(0,n.jsx)(w.$,{}),s("update_category_button")]})};M.displayName="CategoryDialog.Submit";let S={Section:H,SelectedCategory:L,SearchInput:E,SearchResults:()=>{let e=(0,l.useTranslations)("CategoryDialog"),t=(0,h.yb)(e=>e.setQuery),s=(0,h.yb)(e=>e.setQueryResults),a=(0,h.yb)(e=>e.query),i=(0,h.yb)(e=>e.results),[o]=(0,m.nj)(a,100),{data:d,isLoading:c}=(0,v.YT)({searchQuery:o.trim(),queryBy:"name"}),u=(0,h.yb)(e=>e.setSelectedCategory),x=0===o.trim().length,f=!x&&0===i.length&&!c,p=e=>{let s=Number(e.id);isNaN(s)||(u({name:e.name,id:s,src:e.src,srcSet:e.srcset}),t(""))};return(0,r.useEffect)(()=>{(null==d?void 0:d.hits.length)&&!c?s(d.hits.map(e=>e.document)):((null==d?void 0:d.hits.length)!==0||c)&&""!==o||s([])},[d,c,s,o]),(0,n.jsx)("div",{className:(0,b.cn)("rounded p-4",!x&&"bg-shade-lower"),children:(0,n.jsxs)(y.x,{className:"h-[300px]",children:[f&&(0,n.jsx)("p",{className:"text-grey-300 text-sm",children:e("no_categories_found")}),!f&&(0,n.jsx)("ul",{className:"flex flex-col gap-3",children:i.map(e=>(0,n.jsx)("li",{children:(0,n.jsxs)("button",{className:"flex w-full items-center gap-2",onClick:()=>p(e),children:[(0,n.jsx)(N,{src:e.src,srcSet:e.srcset,name:e.name}),(0,n.jsx)("span",{className:"text-left text-sm font-bold",children:e.name})]})},e.id))})]})})},Submit:M,Error:e=>{let{error:t,className:s}=e;return(0,n.jsx)("p",{className:(0,b.cn)("text-danger-lower text-sm",s),children:t})}},V=()=>{var e;let t=(0,l.useTranslations)("CategoryDialog"),{channelSlug:s}=(0,u.r)(),m=(0,h.yb)(e=>e.isOpen),x=(0,h.yb)(e=>e.setIsOpen),f=(0,h.yb)(e=>e.apiError),p=(0,h.yb)(e=>e.resetCategoryDialog),{data:g}=(0,d.useQuery)({...a.u.show(s),select:e=>null==e?void 0:e.livestream}),v=null==g?void 0:null===(e=g.categories)||void 0===e?void 0:e[0];return(0,r.useEffect)(()=>{let e=()=>{x(!0)};return window.addEventListener(c.T,e),()=>{window.removeEventListener(c.T,e)}},[x]),(0,n.jsx)(i.fC,{open:m,onOpenChange:e=>{e||p()},children:(0,n.jsxs)(i.VY,{onOpenAutoFocus:e=>e.preventDefault(),children:[(0,n.jsx)(i.h4,{children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(i.Dx,{children:t("title")}),(0,n.jsx)(i.x8,{})]})}),!g&&(0,n.jsx)(S.Error,{error:t("error_no_livestream")}),g&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsxs)(S.Section,{children:[(0,n.jsx)(o.H3,{size:"sm",children:t("selected_category")}),(0,n.jsx)(S.SelectedCategory,{name:null==v?void 0:v.name})]}),(0,n.jsxs)(S.Section,{children:[(0,n.jsx)(o.H3,{size:"sm",children:t("search_categories")}),(0,n.jsx)(S.SearchInput,{}),(0,n.jsx)(S.SearchResults,{})]}),f&&(0,n.jsx)(S.Error,{error:f})]}),(0,n.jsx)(i.$_,{children:(0,n.jsx)(S.Submit,{livestreamSlug:g.slug})})]})]})})}},26862:function(e,t,s){"use strict";s.d(t,{FU:function(){return r},jz:function(){return i},yb:function(){return o}});var n=s(53198),l=s(89628);let r={isOpen:!1,query:"",results:[],selectedCategory:void 0,apiError:void 0},a=(0,l.T)(e=>(0,n.M)(t=>({isOpen:e.isOpen,query:e.query,results:e.results,selectedCategory:e.selectedCategory,apiError:e.apiError,setIsOpen:e=>t({isOpen:e}),setQuery:e=>t({query:e}),setQueryResults:e=>t({results:e}),setSelectedCategory:e=>t({selectedCategory:e}),setApiError:e=>t({apiError:e}),resetCategoryDialog:()=>t(e)}))),i=a.Provider,o=a.useStore},96755:function(e,t,s){"use strict";s.d(t,{ChatroomBannerWrapper:function(){return M}});var n=s(27573),l=s(62124),r=s(69389),a=s(7653),i=s(20080),o=s(48082),d=s(93461),c=s(57690),u=s(85095),h=s(41350),m=s(11396),x=s(97912),f=s(66990),p=s(33837),g=s(58786),v=s(46711),j=s(70129),C=s(14148),y=s(35449);let w=e=>{let{children:t,containerWidth:s,speed:l=5,withMask:r=!0}=e,{ref:a,width:i}=(0,h.h)(),o=s-i;if(s)return(0,n.jsx)("div",{className:(0,y.cn)("relative flex h-full w-full max-w-full flex-row items-center justify-center overflow-x-hidden transition-opacity",i?"opacity-100":"opacity-0"),style:{maskImage:r?"linear-gradient(to right, transparent, black 10%, black 90%, transparent)":void 0},children:(0,n.jsx)(g.E.div,{className:"absolute flex flex-row whitespace-nowrap text-center",initial:{left:0},style:{width:2*i+o,gap:o},animate:"animate",variants:{animate:{x:[0,-s],transition:{x:{repeat:1/0,repeatType:"loop",duration:l,ease:"linear"}}}},children:Array.from({length:2}).map((e,s)=>(0,n.jsx)("div",{className:"w-fit",ref:0===s?a:void 0,"aria-hidden":s>0,children:t},s))})})};w.displayName="ChatroomBanner.InfiniteMarquee";let b={visible:{y:0,opacity:1,maxHeight:40,transition:{opacity:{delay:.15},y:{delay:.15}}},hidden:{y:-15,opacity:0,maxHeight:0}},_=(0,a.forwardRef)((e,t)=>{let{children:s}=e;return(0,n.jsx)("div",{ref:t,className:"min-h-0 empty:hidden",children:(0,n.jsx)(g.E.div,{layout:!0,variants:b,initial:"hidden",animate:"visible",transition:{bounce:.5,type:"spring",duration:.3},exit:"hidden",className:"z-absolute bg-shade-higher relative flex min-h-0 w-[full] min-w-full max-w-full flex-col overflow-hidden rounded text-sm text-white empty:hidden",style:{height:40},children:s},"chatroom-banner-root")},"chatroom-banner-root-container")});_.displayName="ChatroomBanner.Root";let H=e=>{let{secondsLeft:t,countdown:s,barStyle:l}=e,r="visible"===(0,C.x)(),i=(0,v.c)(t/s);return(0,a.useEffect)(()=>(r&&(i.set(t/s),(0,j.j)(i,0,{duration:t,ease:"linear"})),()=>{i.stop()}),[t,r,i,s]),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 h-1 w-full overflow-hidden bg-white/10",children:(0,n.jsx)(g.E.div,{className:"h-full w-full origin-left bg-white/30",style:{scaleX:i,...l}})})};H.displayName="ChatroomBanner.CountdownBar";let N={Root:_,InfiniteMarquee:w,CountdownBar:H},L="#53FC18",E={giftsub:(0,n.jsx)(o.O,{className:"size-4 fill-current"}),sub:(0,n.jsx)(c.s,{className:"size-4 fill-current"}),host:(0,n.jsx)(d.f,{className:"size-4 fill-current"})},M=()=>{var e;let t=(0,r.useTranslations)("Chatroom.EventBanner"),{ref:s,width:o}=(0,h.h)(),{chatroomId:d}=(0,p.r)(),[c,g]=(0,a.useState)([]),[v,j]=(0,a.useState)((null==c?void 0:null===(e=c[0])||void 0===e?void 0:e.countdown)||null),C=c.length>0,y=C?c[0]:null,w=(0,u.Y)(e=>e.isPusherConnected),b=(0,f.Z)(x.l,e=>e.showEventsBanner),_=(0,u.Y)(e=>e.on),H=(0,u.Y)(e=>e.off),M=(0,m.Y)(()=>j(e=>null===e?null:e-1),1e3),S=(0,a.useCallback)(()=>{let e=(null==c?void 0:c[1])||null;if(!e){j(null),g([]);return}j(e.countdown),g(e=>[...e].slice(1))},[c]),V=(0,a.useCallback)(function(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case"sub":return(0,n.jsx)("span",{children:t.rich("subscription_event",{username:()=>(0,n.jsx)("strong",{children:s}),count:()=>(0,n.jsx)("strong",{children:l}),monthCount:l})});case"giftsub":return(0,n.jsx)("span",{children:t.rich("subscription_gift_event",{username:()=>(0,n.jsx)("strong",{children:s}),count:()=>(0,n.jsx)("strong",{children:l}),subCount:l})});case"host":return(0,n.jsx)("span",{children:t.rich("host_event",{username:()=>(0,n.jsx)("strong",{children:s}),count:()=>(0,n.jsx)("strong",{children:l}),viewerCount:l})});default:return null}},[t]),F=e=>{let t="giftsub"===e.type?Math.min(15+(e.count||0),120):"sub"===e.type?15:60,s={type:e.type,content:V(e.type,e.username,e.count)||"",countdown:t,username:e.username,count:e.count};g(e=>{let t=[...e];return t.push(s),t})},k=e=>{F({type:"host",username:e.user.username,count:e.message.numberOfViewers})},B=e=>{F({type:"sub",username:e.username,count:e.months})},T=e=>{F({type:"giftsub",username:e.gifter_username,count:e.gifted_usernames.length})},D=(0,a.useMemo)(()=>{if(!y)return null;let e="giftsub"===y.type?(0,i.j)(y.count):L;return(0,n.jsx)("span",{className:"shrink-0 grow-0",style:{fill:e},children:E[y.type]})},[y]),Z=(0,a.useMemo)(()=>(null==y?void 0:y.content)||null,[y]),A=(0,a.useMemo)(()=>y&&"sub"!==y.type&&"giftsub"===y.type?(0,i.j)(y.count):L,[y]);return(0,a.useEffect)(()=>{null!==v&&v<1&&S()},[v,S]),(0,a.useEffect)(()=>{if(c.length&&null===v&&!M.active){var e;j((null==c?void 0:null===(e=c[0])||void 0===e?void 0:e.countdown)||0),M.start()}else!c.length&&M.active&&M.stop()},[c,M,v]),(0,a.useEffect)(()=>M.stop,[]),(0,a.useEffect)(()=>(w&&d&&(_("chatrooms.".concat(d),"App\\Events\\StreamHostedEvent",k),_("chatrooms.".concat(d,".v2"),"App\\Events\\GiftedSubscriptionsEvent",T),_("chatrooms.".concat(d,".v2"),"App\\Events\\SubscriptionEvent",B)),()=>{d&&w&&(H("chatrooms.".concat(d),"App\\Events\\StreamHostedEvent",k),H("chatrooms.".concat(d,".v2"),"App\\Events\\GiftedSubscriptionsEvent",T),H("chatrooms.".concat(d,".v2"),"App\\Events\\SubscriptionEvent",B))}),[w]),(0,n.jsx)(l.M,{children:C&&!!b&&(0,n.jsxs)(N.Root,{ref:s,children:[(0,n.jsx)(N.InfiniteMarquee,{containerWidth:o,children:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2 pb-1",style:{fill:A},children:[D,Z]})}),(0,n.jsx)(N.CountdownBar,{countdown:c[0].countdown,secondsLeft:null!=v?v:0,barStyle:{backgroundColor:A}})]})})}},96228:function(e,t,s){"use strict";s.d(t,{J:function(){return H},HB:function(){return _}});var n=s(27573),l=s(7653),r=s(9495),a=s(7101),i=s(730),o=s(48451),d=s(38467),c=s(71789);let u=(0,l.memo)(e=>{let{elapsedMs:t}=e,s=Math.floor(t/36e5),n=Math.floor(t%36e5/6e4),l=s.toString().padStart(2,"0"),r=n.toString().padStart(2,"0"),a=Math.floor(t%6e4/1e3).toString().padStart(2,"0");return s>0?"".concat(l,":").concat(r,":").concat(a):n>0?"".concat(r,":").concat(a):"00:".concat(a)});var h=s(35449),m=s(97912),x=s(47875),f=s(79423),p=s(59079),g=s(2547),v=s(79281);let j=(0,l.forwardRef)((e,t)=>{let{children:s,selfMention:l,showcaseOnly:r,message:a}=e;return(0,n.jsxs)("div",{className:(0,h.cn)("group relative",!r&&"py-[1px] last:pb-[5px]"),ref:t,children:[(0,n.jsx)("div",{className:(0,h.cn)("group-hover:bg-shade-lower w-full min-w-0 shrink-0 break-words rounded-lg px-2 py-1",!r&&l&&"border border-green-500"),style:{fontSize:"var(--chatroom-font-size)"},children:s}),!r&&(0,n.jsx)("div",{className:"hidden group-hover:flex",children:(0,n.jsx)(g.MessageActions,{message:a})})]})}),C=e=>{let{message:t,showcaseOnly:s}=e;return(0,n.jsxs)("div",{className:(0,h.cn)("inline-flex",s&&"pointer-events-none"),style:{display:"var(--chatroom-mod-actions-display)"},children:[(0,n.jsx)(d.Ei,{disabled:s,onClick:()=>x.H.emit(f.t.DeleteMessage,{messageId:t.id}),size:"xs",variant:"text",children:(0,n.jsx)(a.p,{})}),(0,n.jsx)(d.Ei,{size:"xs",variant:"text",disabled:s,onClick:()=>x.H.emit(f.t.Timeout,{username:t.sender.username,minutes:5}),children:(0,n.jsx)(i.T,{})}),(0,n.jsx)(d.Ei,{size:"xs",variant:"text",disabled:s,onClick:()=>x.H.emit(f.t.Ban,{username:t.sender.username,reason:""}),children:(0,n.jsx)(r.S,{})})]})},y=e=>{let{created_at:t,adjusted_timestamp:s}=e;return(0,n.jsx)("span",{className:"text-neutral pr-1 font-semibold",style:{display:"var(--chatroom-timestamps-display)",fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:s?(0,n.jsx)(u,{elapsedMs:s}):(0,n.jsx)(c.r,{format:"hour",date:t})})},w=()=>(0,n.jsx)("span",{className:"inline-flex font-bold","aria-hidden":!0,children:":\xa0"}),b=(0,l.forwardRef)((e,t)=>{var s;let{showcaseOnly:l,channelSlug:r,selfMention:a,message:i}=e,d=(0,o.k)(),{id:c,sender:u,content:h,ui_metadata:x}=i,f=(null===(s=d.user)||void 0===s?void 0:s.id)===u.id;return(0,n.jsxs)(j,{ref:t,id:c,senderId:u.id,senderUsername:u.username,selfMention:a,showcaseOnly:l,message:i,children:[(0,n.jsx)(C,{message:i,showcaseOnly:l}),(0,n.jsx)(y,{created_at:i.created_at,adjusted_timestamp:null==x?void 0:x.adjusted_timestamp}),(0,n.jsx)(p.D,{sender:u,showcaseOnly:l,channelSlug:r,messageId:c}),(0,n.jsx)(w,{}),(null==x?void 0:x.deleted)?(0,n.jsxs)("span",{className:"text-neutral",children:["user_deleted"!==x.deleted&&(0,n.jsx)("span",{className:"line-through",children:(0,n.jsx)(v.F,{content:h,id:c})}),"mod_deleted"===x.deleted&&(0,n.jsx)("span",{className:"font-semibold",style:{fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:"\xa0(Deleted)"}),"mod_ban"===x.deleted&&(0,n.jsx)("span",{className:"font-semibold",style:{fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:"\xa0(Banned)"}),"mod_timeout"===x.deleted&&(0,n.jsx)("span",{className:"font-semibold",style:{fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:"\xa0(Timed out)"})]}):(0,n.jsx)("span",{className:"font-normal leading-[1.55]",onDoubleClick:f?void 0:()=>{let{setReplyingMessage:e,editorInstance:t}=m.l.getState();e(i),t.current&&t.current.focus()},children:(0,n.jsx)(v.F,{content:h,id:c})})]})}),_={Root:j,ModAction:C,Timestamp:y,Spacer:w},H=(0,l.memo)(b)},36270:function(e,t,s){"use strict";s.d(t,{B:function(){return f}});var n=s(27573),l=s(69389),r=s(7653),a=s(24858),i=s(35449),o=s(47875),d=s(79423),c=s(59079),u=s(2547),h=s(96228),m=s(79281);let x=(0,r.forwardRef)((e,t)=>{let{message:s,showcaseOnly:x,channelSlug:f,selfMention:p}=e,{id:g,sender:v,content:j,created_at:C,ui_metadata:y,metadata:w}=s,b=(0,l.useTranslations)("Chatroom"),_=(0,r.useRef)(null);return(0,n.jsxs)("div",{ref:t,className:"group relative py-[1px] last:pb-[5px]",children:[(0,n.jsxs)("div",{className:(0,i.cn)("group-hover:bg-shade-lower flex w-full min-w-0 shrink-0 flex-col break-words rounded-lg px-2 py-[4px]",p&&"border border-green-500"),style:{fontSize:"var(--chatroom-font-size)"},children:[(0,n.jsxs)("div",{className:"w-full min-w-0 shrink-0 truncate text-xs font-medium text-white/40",ref:_,children:[(0,n.jsx)(a.V,{className:"mb-0.5 inline size-3",fill:"currentColor"}),(0,n.jsx)("span",{className:"ml-1",children:b.rich("chat_replying_to_message",{user:()=>{var e;return(0,n.jsx)("button",{className:"betterhover:hover:text-white/100 inline cursor-pointer text-white/40",onClick:x?void 0:()=>{var e;return o.H.emit(d.t.OpenIdentity,{username:(null==w?void 0:null===(e=w.original_sender)||void 0===e?void 0:e.username)||v.username,ref:_.current||void 0})},children:null==w?void 0:null===(e=w.original_sender)||void 0===e?void 0:e.username})},message:()=>{var e,t;return(0,n.jsx)("span",{className:"inline",title:(null==w?void 0:null===(e=w.original_message)||void 0===e?void 0:e.content)||"",children:(0,n.jsx)(m.F,{content:(null==w?void 0:null===(t=w.original_message)||void 0===t?void 0:t.content)||"",id:g})})}})})]}),(0,n.jsxs)("div",{className:"w-full min-w-0 shrink-0 break-words",children:[(0,n.jsx)(h.HB.ModAction,{message:s}),(0,n.jsx)(h.HB.Timestamp,{created_at:C,adjusted_timestamp:null==y?void 0:y.adjusted_timestamp}),(0,n.jsx)(c.D,{sender:v,showcaseOnly:x,channelSlug:f,messageId:g}),(0,n.jsx)(h.HB.Spacer,{}),(null==y?void 0:y.deleted)?(0,n.jsxs)("span",{className:"text-neutral",children:["user_deleted"!==y.deleted&&(0,n.jsx)("span",{className:"line-through",children:(0,n.jsx)(m.F,{content:j,id:g})}),"mod_deleted"===y.deleted&&(0,n.jsx)("span",{className:"font-semibold",style:{fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:"\xa0(Deleted)"}),"mod_ban"===y.deleted&&(0,n.jsx)("span",{className:"font-semibold",style:{fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:"\xa0(Banned)"}),"mod_timeout"===y.deleted&&(0,n.jsx)("span",{className:"font-semibold",style:{fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:"\xa0(Timed out)"})]}):(0,n.jsx)("span",{children:(0,n.jsx)(m.F,{content:j,id:g})})]})]}),!x&&(0,n.jsx)("div",{className:"hidden group-hover:flex",children:(0,n.jsx)(u.MessageActions,{message:s})})]})}),f=(0,r.memo)(x)},79281:function(e,t,s){"use strict";s.d(t,{F:function(){return u}});var n=s(27573),l=s(7653),r=s(11953),a=s(63091);let i=(0,l.memo)(e=>{let{id:t,name:s}=e;return(0,n.jsx)("span",{className:"relative mx-px inline-block h-[1.2em] w-[calc(var(--chatroom-font-size)*28/13)] align-middle","data-emote-id":t,"data-emote-name":s,children:(0,n.jsx)(a.Q,{align:"center",text:s,children:(0,n.jsx)("div",{className:"absolute left-0 top-1/2 -translate-y-1/2",children:(0,n.jsx)("img",{className:"aspect-square w-[calc(var(--chatroom-font-size)*28/13)]",src:(0,r.AU)(t),alt:s,draggable:"false"})})})})}),o=e=>{let{content:t,rules:s,messageId:n}=e,l=[],r=0;for(let e=0;e<t.length;){let a=!1;for(let i=0;i<s.length;i++){let o=s[i];if(o){o.pattern.lastIndex=e;let s=o.pattern.exec(t);if(s&&s.index===e){e>r&&l.push(t.substring(r,e)),l.push(o.componentFactory(s,n,l.length)),r=e=o.pattern.lastIndex,a=!0;break}}}!a&&e++}return r<t.length&&l.push(t.substring(r)),l},d={pattern:RegExp("\\[emote:(?<id>\\d+)[:]?(?<name>[a-zA-Z0-9-_!]*)[:]?\\]","g"),componentFactory:(e,t,s)=>e.groups&&e.groups.id&&e.groups.name?(0,n.jsx)(i,{id:e.groups.id,name:e.groups.name},"".concat(t,"-").concat(s)):null},c={pattern:/(https:\/\/[www.]?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b[-a-zA-Z0-9()@:%_+.~#?&/=]*)/gi,componentFactory:(e,t,s)=>{let l=e[0];return l?(0,n.jsx)("a",{href:l,className:"underline",target:"_blank",rel:"noreferrer",children:l},"".concat(t,"-").concat(s)):null}},u=(0,l.memo)(e=>{let{content:t,id:s}=e;return(0,n.jsx)(o,{content:t,rules:[d,c],messageId:s})})},71062:function(e,t,s){"use strict";s.d(t,{ChatroomEntries:function(){return ei}});var n=s(27573),l=s(7653),r=s(78406),a=s(14930),i=s(48451),o=s(85095),d=s(41350),c=s(66930),u=s(48553),h=s(2560),m=s(97912),x=s(47875),f=s(79423),p=s(20792),g=s(33837),v=s(45431),j=s(95543),C=s(69389);let y=(0,l.forwardRef)((e,t)=>{let s=(0,C.useTranslations)("Chatroom");return(0,n.jsxs)("div",{className:"flex w-full min-w-0 shrink-0 items-center gap-2 py-[5px]",ref:t,children:[(0,n.jsx)("div",{className:"h-px grow bg-green-500"}),(0,n.jsx)("div",{className:"text-sm font-semibold text-[rgb(83,252,24)]",children:s("new_messages")}),(0,n.jsx)("div",{className:"h-px grow bg-green-500"})]})});var w=s(93461),b=s(71789);let _=(0,l.forwardRef)((e,t)=>{let{children:s}=e;return(0,n.jsx)("div",{className:"relative py-[1px] last:pb-[5px]",ref:t,children:(0,n.jsx)("div",{ref:t,className:"bg-shade-lower w-full min-w-0 shrink-0 break-words rounded px-2 py-[4px]",style:{fontSize:"var(--chatroom-font-size)"},children:s})})});_.displayName="ChatHostEvent.Root";let H=e=>{let{createdAt:t}=e;return(0,n.jsx)("span",{className:"text-neutral pr-1 font-semibold",style:{display:"var(--chatroom-timestamps-display)",fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:(0,n.jsx)(b.r,{format:"hour",date:t})})};H.displayName="ChatHostEvent.EventDate";let N=()=>(0,n.jsx)(w.f,{className:"mr-1 inline h-4 w-4",fill:"rgb(255, 157, 0)"});N.displayName="ChatHostEvent.Icon";let L=e=>{let{hoster:t,viewer_count:s}=e,r=(0,C.useTranslations)("ChatroomEvents"),a=(0,l.useRef)(null);return(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary",ref:a,children:r.rich("host",{user:()=>(0,n.jsx)("span",{onClick:()=>x.H.emit(f.t.OpenIdentity,{username:t.username,ref:a.current||void 0}),"aria-hidden":!0,className:"font-bold",children:t.username}),viewers:()=>(0,n.jsx)("span",{className:"text-primary font-bold",children:s}),viewerCount:s})})},E=(0,l.forwardRef)((e,t)=>(0,n.jsxs)(_,{ref:t,children:[(0,n.jsx)(H,{createdAt:e.created_at}),(0,n.jsx)(N,{}),(0,n.jsx)(L,{...e})]})),M=(0,l.memo)(E);var S=s(96228),V=s(36270),F=s(9495),k=s(7101),B=s(730);let T=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",...s,children:(0,n.jsx)("path",{d:"M16 3.43994C12.45 3.43994 9.25 4.90994 6.96 7.27994L3.44 3.75994V13.4999H13.18L12.29 12.6099L9.8 10.1199C11.35 8.46994 13.56 7.43994 16 7.43994C20.71 7.43994 24.55 11.2799 24.55 15.9999C24.55 17.8299 23.97 19.5399 22.97 20.9299L16.95 14.9099L15.94 15.9299L14.13 17.7399L14.19 17.8099L19.96 23.5699C18.77 24.1999 17.43 24.5499 16 24.5499C13.64 24.5499 11.51 23.5899 9.96 22.0399L7.13 24.8699C9.4 27.1499 12.53 28.5499 16 28.5499C22.93 28.5499 28.55 22.9299 28.55 15.9999C28.55 9.06994 22.93 3.43994 16 3.43994Z"})})};var D=s(36697);let Z=e=>{let{createdAt:t}=e;return(0,n.jsx)("span",{className:"text-neutral pr-1 font-semibold",style:{display:"var(--chatroom-timestamps-display)",fontSize:"calc(var(--chatroom-font-size) - 2px)"},children:(0,n.jsx)(b.r,{format:"hour",date:t})})},A=(0,l.forwardRef)((e,t)=>{let{children:s}=e;return(0,n.jsx)("div",{className:"relative py-[1px] last:pb-[5px]",ref:t,children:(0,n.jsx)("div",{ref:t,className:"bg-shade-lower w-full min-w-0 shrink-0 break-words rounded px-2 py-[4px]",style:{fontSize:"var(--chatroom-font-size)"},children:s})})}),P=e=>{let{Icon:t}=e;return(0,n.jsx)(t,{className:"mr-1 inline h-4 w-4",fill:"rgb(255, 157, 0)"})},I=e=>{let{by:t,target:s}=e,l=(0,C.useTranslations)("ChatroomEvents.ModActions");return(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary",children:l.rich("mod_banned_user",{moderatorHTML:()=>(0,n.jsx)("b",{children:t.username}),userHTML:()=>(0,n.jsx)("b",{children:s.username})})})},z=e=>{let{by:t,target:s}=e,l=(0,C.useTranslations)("ChatroomEvents.ModActions");return(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary",children:l.rich("mod_unbanned_user",{moderatorHTML:()=>(0,n.jsx)("b",{children:t.username}),userHTML:()=>(0,n.jsx)("b",{children:s.username})})})},R=e=>{let{by:t,target:s,duration:l}=e,r=(0,C.useTranslations)("ChatroomEvents.ModActions");return(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary",children:r.rich("mod_timed_out_user",{moderatorHTML:()=>(0,n.jsx)("b",{children:t.username}),userHTML:()=>(0,n.jsx)("b",{children:s.username}),durationHTML:()=>(0,n.jsx)(D.f,{format:"short",durationInMilliseconds:6e4*l})})})},U=e=>{let{by:t,target:s}=e,l=(0,C.useTranslations)("ChatroomEvents.ModActions");return(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary",children:l.rich("mod_removed_timeout_user",{moderatorHTML:()=>(0,n.jsx)("b",{children:t.username}),userHTML:()=>(0,n.jsx)("b",{children:s.username})})})},q=()=>{let e=(0,C.useTranslations)("ChatroomEvents.ModActions");return(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary",children:e("chat_cleared")})},O=(0,l.forwardRef)((e,t)=>"ban"===e.action?(0,n.jsxs)(A,{ref:t,children:[(0,n.jsx)(Z,{createdAt:e.created_at}),(0,n.jsx)(P,{Icon:F.S}),(0,n.jsx)(I,{...e})]}):"timeout"===e.action?(0,n.jsxs)(A,{ref:t,children:[(0,n.jsx)(Z,{createdAt:e.created_at}),(0,n.jsx)(P,{Icon:B.T}),(0,n.jsx)(R,{...e})]}):"unban"===e.action?(0,n.jsxs)(A,{ref:t,children:[(0,n.jsx)(Z,{createdAt:e.created_at}),(0,n.jsx)(P,{Icon:T}),(0,n.jsx)(z,{...e})]}):"remove_timeout"===e.action?(0,n.jsxs)(A,{ref:t,children:[(0,n.jsx)(Z,{createdAt:e.created_at}),(0,n.jsx)(P,{Icon:T}),(0,n.jsx)(U,{...e})]}):"clear"===e.action?(0,n.jsxs)(A,{ref:t,children:[(0,n.jsx)(Z,{createdAt:e.created_at}),(0,n.jsx)(P,{Icon:k.p}),(0,n.jsx)(q,{})]}):void 0),Q=(0,l.memo)(O);var K=s(20080),G=s(48082),Y=s(57690),J=s(35449);let W="#53FC18",$=(0,l.forwardRef)((e,t)=>{let{children:s,...r}=e,a=(0,l.useMemo)(()=>{if("gifted_subscription"===r.type){var e;return(0,K.j)(null!==(e=null==r?void 0:r.amount)&&void 0!==e?e:1)}if("subscription"===r.type)return W},[r]);return(0,n.jsx)("div",{ref:t,className:"py-[1px] last:pb-[5px]",style:{fontSize:"var(--chatroom-font-size)"},children:(0,n.jsx)("div",{className:(0,J.cn)("bg-shade-base relative box-border flex flex-row gap-2 border-l-4 p-2"),style:{borderColor:null!=a?a:void 0},children:s})})}),X=e=>{let{Icon:t}=e;return(0,n.jsx)(t,{className:"size-6 shrink-0 grow-0",fill:W})},ee=e=>{let{months:t,username:s}=e,r=(0,C.useTranslations)("ChatroomEvents"),a=(0,l.useRef)(null);return(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary",ref:a,children:r.rich("subscribed",{user:()=>(0,n.jsx)("button",{onClick:()=>x.H.emit(f.t.OpenIdentity,{username:s,ref:a.current||void 0}),className:"inline font-bold text-white",children:s}),months:()=>(0,n.jsx)("span",{children:t}),monthsCount:t})})},et=(0,l.forwardRef)((e,t)=>{let{username:s,gifted_usernames:r,gifter_total:a}=e,i=(0,C.useTranslations)("ChatroomEvents"),o=(0,l.useRef)(null),d=(0,l.useMemo)(()=>(0,K.j)(a),[a]);return(0,n.jsxs)("div",{className:"flex flex-col",ref:t,children:[(0,n.jsxs)($,{type:"gifted_subscription",amount:a,children:[(0,n.jsx)(K.E,{className:"size-6 shrink-0 grow-0",quantity:a}),(0,n.jsxs)("div",{className:"grow-1 flex flex-col",children:[(0,n.jsx)("button",{className:"inline self-baseline font-bold leading-6",onClick:()=>x.H.emit(f.t.OpenIdentity,{username:s,ref:o.current||void 0}),children:s}),(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary",children:i.rich("has_gifted",{subCount:r.length,quantity:()=>(0,n.jsx)("span",{children:r.length}),totalGiftCount:a,totalCount:e=>(0,n.jsx)("span",{children:e})})})]})]}),r.map(e=>(0,n.jsxs)($,{type:"gifted_subscription",amount:a,children:[(0,n.jsx)("div",{className:"flex size-6 shrink-0 grow-0 flex-row justify-center",children:(0,n.jsx)(G.O,{className:"my-auto size-4",fill:d})}),(0,n.jsx)("span",{style:{fontSize:"calc(100% - 1px)"},className:"text-text-secondary leading-6",children:i.rich("gifted_to",{user:()=>(0,n.jsx)("button",{className:"inline font-bold text-white",onClick:()=>x.H.emit(f.t.OpenIdentity,{username:s,ref:o.current||void 0}),children:s}),giftedUser:()=>(0,n.jsx)("button",{className:"inline font-bold text-white",onClick:()=>x.H.emit(f.t.OpenIdentity,{username:e,ref:o.current||void 0}),children:e})})})]},e))]})}),es=(0,l.forwardRef)((e,t)=>"subscribed"===e.action?(0,n.jsxs)($,{ref:t,type:"subscription",children:[(0,n.jsx)(X,{Icon:Y.s}),(0,n.jsx)(ee,{...e})]}):"gifted"===e.action?(0,n.jsx)(et,{...e,ref:t}):void 0),en=(0,l.memo)(es),el=(0,l.forwardRef)((e,t)=>{let{chatEntry:s,selfUsername:r,channelSlug:a}=e,i=s.type===j.f.MESSAGE&&"reply"===s.data.type&&s.data.metadata,o=(0,l.useMemo)(()=>{var e,t,n,l;let a=(null===(n=s.data)||void 0===n?void 0:null===(t=n.metadata)||void 0===t?void 0:null===(e=t.original_sender)||void 0===e?void 0:e.username)===r,o=null===(l=s.data)||void 0===l?void 0:l.content;return!!i&&!!a||!!o&&!!r&&RegExp("@".concat(r,"\\b"),"ig").test(o)},[s.data,i,r]);return s.type===j.f.DIVIDER?(0,n.jsx)(y,{ref:t}):s.type===j.f.MOD_ACTION?(0,n.jsx)(Q,{ref:t,...s.data}):s.type===j.f.SUBSCRIPTIONS?(0,n.jsx)(en,{ref:t,...s.data}):s.type===j.f.HOST?(0,n.jsx)(M,{ref:t,...s.data}):i?(0,n.jsx)(V.B,{ref:t,message:s.data,channelSlug:a,selfMention:o}):(0,n.jsx)(S.J,{ref:t,message:s.data,channelSlug:a,selfMention:o})}),er=(0,l.memo)(el),ea=(0,l.forwardRef)((e,t)=>{var s;let{channelSlug:l,height:r}=e,a=(0,i.k)(),o=(0,m.l)(e=>e.entries),d=(0,m.l)(e=>e.pauseEnabled),c=(0,m.l)(e=>e.setPaused),u=null===(s=a.user)||void 0===s?void 0:s.username;return(0,n.jsx)(v.Z,{id:"chatroom-messages",height:r,itemHeight:30,className:"w-full min-w-0 max-w-full px-2 lg:px-3",itemKey:"id",data:o,ref:t,onScroll:e=>{d&&Math.ceil(e.currentTarget.scrollTop+e.currentTarget.clientHeight)>=e.currentTarget.scrollHeight&&c(!1)},styles:{verticalScrollBar:{width:4},verticalScrollBarThumb:{borderRadius:"15px",background:"rgba(255, 255, 255, 0.25)"}},children:e=>(0,n.jsx)(er,{channelSlug:l,selfUsername:u,chatEntry:e},e.id)})}),ei=e=>{var t;let{children:s}=e,{chatroomId:v,channelId:j,channelSlug:C}=(0,g.r)(),y=(0,l.useRef)(null),w=function(){let e=(0,l.useRef)(!1);return(0,l.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,l.useCallback)(()=>e.current,[])}(),b=(0,i.k)(),{data:_}=(0,h.useQuery)(a.j.getMessagesByChannel(j)),{data:H}=(0,h.useQuery)(r.u.me("authenticated"===b.status,C)),N=(0,o.Y)(e=>e.isPusherConnected),L=(0,o.Y)(e=>e.on),E=(0,o.Y)(e=>e.off),M=(0,m.l)(e=>e.addToQueue),S=(0,m.l)(e=>e.messageListRef),V=(0,m.l)(e=>e.handleUnbanUserEvent),F=(0,m.l)(e=>e.handleBanUserEvent),k=(0,m.l)(e=>e.handleGiftedSubscriptionsEvent),B=(0,m.l)(e=>e.handleSubscriptionEvent),T=(0,m.l)(e=>e.handleClearChatEvent),D=(0,m.l)(e=>e.handleDeleteChatMessageEvent),Z=(0,m.l)(e=>e.handleHostEvent),[A,{height:P}]=(0,d.y)(),[I]=(0,c.c)(P,25);(0,l.useEffect)(()=>{H?m.l.getState().setUserPermissions({isBroadcaster:H.is_broadcaster,isModerator:H.is_moderator,isAdmin:H.is_super_admin}):m.l.getState().setUserPermissions({isBroadcaster:!1,isModerator:!1,isAdmin:!1})},[H]);let z=e=>{if(m.l.getState().pauseEnabled)return;let t=e.target;if(t&&t.closest("#chatroom-messages")){if(e.deltaY>=0)return;let t=document.getElementById("chatroom-messages"),s=null==t?void 0:t.firstElementChild,n=null==s?void 0:s.firstElementChild;if(!s||!n||n.clientHeight<s.clientHeight)return;m.l.getState().setPaused(!0)}},R=(0,l.useCallback)(e=>{x.H.emit(f.t.SubGift,e),k(e)},[k]);return(0,l.useEffect)(()=>(N&&v&&w()&&(m.l.getState().reset(v),m.l.getState().setRef(y),L("chatrooms.".concat(v,".v2"),"App\\Events\\ChatMessageEvent",M),L("chatrooms.".concat(v,".v2"),"App\\Events\\MessageDeletedEvent",D),L("chatrooms.".concat(v,".v2"),"App\\Events\\UserBannedEvent",F),L("chatrooms.".concat(v,".v2"),"App\\Events\\UserUnbannedEvent",V),L("chatrooms.".concat(v,".v2"),"App\\Events\\SubscriptionEvent",B),L("chatrooms.".concat(v,".v2"),"App\\Events\\GiftedSubscriptionsEvent",R),L("chatrooms.".concat(v,".v2"),"App\\Events\\ChatroomClearEvent",T),L("chatrooms.".concat(v),"App\\Events\\StreamHostedEvent",Z)),()=>{v&&N&&(E("chatrooms.".concat(v,".v2"),"App\\Events\\ChatMessageEvent",M),E("chatrooms.".concat(v,".v2"),"App\\Events\\MessageDeletedEvent",D),E("chatrooms.".concat(v,".v2"),"App\\Events\\UserBannedEvent",F),E("chatrooms.".concat(v,".v2"),"App\\Events\\UserUnbannedEvent",V),E("chatrooms.".concat(v,".v2"),"App\\Events\\SubscriptionEvent",B),E("chatrooms.".concat(v,".v2"),"App\\Events\\GiftedSubscriptionsEvent",R),E("chatrooms.".concat(v,".v2"),"App\\Events\\ChatroomClearEvent",T),E("chatrooms.".concat(v),"App\\Events\\StreamHostedEvent",Z))}),[N,w]),(0,l.useEffect)(()=>{let e=setInterval(()=>{m.l.getState().flushQueue()},550);return window.addEventListener("wheel",z,{passive:!0}),()=>{window.removeEventListener("wheel",z),clearInterval(e)}},[]),(0,u.Y)(()=>{var e;(null==_?void 0:null===(e=_.data)||void 0===e?void 0:e.messages)&&(null==S?void 0:S.current)&&w()&&m.l.getState().hydrateFromHistory(_.data.messages)},[null==_?void 0:null===(t=_.data)||void 0===t?void 0:t.messages,S,w]),(0,u.Y)(()=>{I>0&&m.l.getState().scrollToLastMessage()},[I]),(0,n.jsxs)("div",{className:"bg-surface-lower relative shrink grow overflow-y-hidden",ref:A,children:[s,(0,n.jsx)("div",{className:"absolute inset-0",children:(0,n.jsx)(ea,{height:I,channelSlug:C,ref:y})}),(0,n.jsx)(p.F.Root,{children:(0,n.jsx)(p.F.Paused,{})})]})}},19769:function(e,t,s){"use strict";s.d(t,{ChatroomReplayEntries:function(){return f}});var n=s(27573),l=s(45431),r=s(7653),a=s(14930),i=s(1667),o=s(41350),d=s(48553),c=s(98100),u=s(20792),h=s(33837),m=s(96228),x=s(36270);let f=e=>{let{startedAt:t,channelSlug:s,clipDialogProgress:f}=e,p=new Date(t).getTime(),[g,v]=(0,o.y)(),j=(0,r.useRef)(null),{channelId:C}=(0,h.r)(),y=(0,i.n)(e=>e.currentProgressInMs),w=null!=f?f:y,b=(0,r.useRef)(0),_=(0,r.useRef)(-2500),[H,N]=(0,r.useState)(0),[L,E]=(0,r.useState)(t),[M,S]=(0,r.useState)(!1),{data:V,fetchNextPage:F}=(0,c.useInfiniteQuery)({...a.j.getMessagesHistoryByChannel(C,L),enabled:"0001-01-01T00:00:00Z"!==t});(0,r.useEffect)(()=>{if(w-b.current>2e3||w<b.current){b.current=w,_.current=w-2500,N(w),E(new Date(p+w).toISOString());return}w>H+500&&N(w),b.current=w,w-_.current>=5e3&&(F(),_.current=w)},[H,F,w,p]);let k=(0,r.useMemo)(()=>V?V.pages.flatMap(e=>(null==e?void 0:e.data)?e.data.messages:[]):[],[V]),B=e=>{if(M)return;let t=e.target;if(t&&t.closest("#chatroom-messages")&&e.deltaY<0){S(!0);return}},T=(0,r.useMemo)(()=>k.filter(e=>new Date(e.created_at).getTime()<=p+H),[k,H,p]),D=()=>{var e;null===(e=j.current)||void 0===e||e.scrollTo({index:T.length-1,align:"bottom"})};return((0,d.Y)(()=>{M||D()},[T.length,v.height]),(0,r.useEffect)(()=>(window.addEventListener("wheel",B,{passive:!0}),()=>{window.removeEventListener("wheel",B)}),[]),V)?(0,n.jsxs)("div",{className:"bg-surface-lower absolute inset-0 pb-2",ref:g,children:[(0,n.jsx)(l.Z,{id:"chatroom-messages",height:v.height,itemHeight:44,className:"w-full min-w-0 max-w-full px-2 lg:px-3",itemKey:"id",ref:j,data:T,onScroll:e=>{M&&Math.ceil(e.currentTarget.scrollTop+e.currentTarget.clientHeight)>=e.currentTarget.scrollHeight&&S(!1)},children:e=>{let t=new Date(e.created_at).getTime()-p;if(t<=0&&(t=1e3),"reply"===e.type&&e.metadata){let l="object"==typeof e.metadata?e.metadata:void 0!==e.metadata?JSON.parse(e.metadata):void 0;return(0,n.jsx)(x.B,{message:{...e,ui_metadata:{adjusted_timestamp:t},metadata:l},channelSlug:s},e.id)}return(0,n.jsx)(m.J,{message:{...e,ui_metadata:{adjusted_timestamp:t}},channelSlug:s},e.id)}}),(0,n.jsx)(u.F.Root,{children:(0,n.jsx)(u.F.ReplayPaused,{paused:M,resume:()=>{S(!1),D()}})})]}):null}},51291:function(e,t,s){"use strict";s.d(t,{Jg:function(){return i},fu:function(){return r}});var n=s(27573),l=s(7653);let r=8,a=e=>{let{children:t}=e;return 0===l.Children.count(t)?null:(0,n.jsx)("div",{className:"absolute w-full empty:hidden",style:{paddingTop:"".concat(6,"px"),paddingBottom:"".concat(6,"px")},children:(0,n.jsx)("div",{className:"relative flex h-fit w-full flex-col gap-1.5 transition-[padding-left,padding-right] empty:hidden",style:{paddingLeft:"".concat(r,"px"),paddingRight:"".concat(r,"px")},children:t})})};a.displayName="ChatroomEvents.Stack";let i={Stack:a}},7195:function(e,t,s){"use strict";s.d(t,{ChatroomFooter:function(){return se}});var n,l,r,a,i=s(27573),o=s(7653),d=s(78406),c=s(48451),u=s(85095),h=s(91145),m=s(35449),x=s(26821),f=s(2560),p=s(97912),g=s(66990),v=s(69389),j=s(11592);let C=(e,t)=>({textSplit:new RegExp("(".concat(e,"{2}[^").concat(e,"]{1,}").concat(e,"{2}[^").concat(e,"]{1,}").concat(e,"{2})")),markDetection:RegExp("".concat(e,"{2}(?<text").concat(t,">[^").concat(e,"]{1,})").concat(e,"{2}(?<prop").concat(t,">[^").concat(e,"]{1,})").concat(e,"{2}"),"g")}),y=[{type:"class",attrName:"className",delimiter:"~",parseProp:e=>e,get regexp(){return C(this.delimiter,this.type)}},{type:"style",attrName:"style",delimiter:"\\$",get regexp(){return C(this.delimiter,this.type)},parseProp:e=>(0,j.wv)(e)}],w=y.reduce((e,t)=>{var s,n;return null===(s=e.textSplit)||void 0===s||s.push("(?:".concat(t.regexp.textSplit.source,")")),null===(n=e.markDetection)||void 0===n||n.push("(?:".concat(t.regexp.markDetection.source,")")),e},{textSplit:[],markDetection:[]}),b={textSplit:null!==(r=null===(n=w.textSplit)||void 0===n?void 0:n.join("|"))&&void 0!==r?r:"",markDetection:null!==(a=null===(l=w.markDetection)||void 0===l?void 0:l.join("|"))&&void 0!==a?a:""},_=e=>{let{text:t,key:s}=e;return(0,i.jsx)("span",{children:t},s)},H=e=>{let{text:t,...s}=e;if(!y.map(e=>e.delimiter).some(e=>t.includes(e.replace(/\\/g,""))))return _({key:1,text:t});let n=t.split(new RegExp(b.textSplit)).filter(e=>!!e),l=t.matchAll(RegExp(b.markDetection,"g")),r=l.next().value,a=n.map((e,t)=>{if(!r||[...r][0].toString()!==e)return _({key:t,text:e});let s={markType:"",markProp:"",parsedText:""};for(let[e,t]of Object.entries(r.groups).filter(e=>e[1]))/^prop/.test(e)?(s.markType=e.replace("prop",""),s.markProp=t):/^text/.test(e)&&(s.parsedText=t);let n=y.find(e=>e.type===s.markType);if(!n)return _({key:1,text:e});r=l.next().value;let a={[n.attrName]:n.parseProp(s.markProp)};return(0,i.jsx)("span",{...a,children:s.parsedText},t)});return(0,i.jsx)("span",{...s,children:a})};var N=s(99355);let L=e=>{let{expanded:t,onClickOutside:s,children:n,className:l,...r}=e,[a,d]=(0,o.useState)(null);return(0,N.O)(()=>{s&&t&&s[0]()},null==s?void 0:s[1],[a,...(null==s?void 0:s[2])||[]]),(0,i.jsx)("div",{ref:d,className:(0,m.cn)("relative rounded-t bg-[#0F1214]","flex h-auto min-h-0 w-full flex-col overflow-hidden break-all",t&&"bg-shade-base min-h-[50px] border-l border-r border-t border-[#A8B1B822]",l),style:{background:"linear-gradient(to bottom, #0F1214 33%, #191B1F 66%)",backgroundSize:"100% 300%",backgroundPosition:t?"0 100%":"0 0%",maxHeight:t?"50vh":"0vh",transition:"max-height 350ms, background 200ms, background-position 300ms",transitionTimingFunction:"ease-out"},...r,children:(0,i.jsx)("div",{className:(0,m.cn)("overflow-y-auto pt-1 transition-opacity duration-300",t&&"opacity-100",!t&&"opacity-0"),style:{transitionTimingFunction:"cubic-bezier(.14,.98,.49,1)"},children:n})})},E=(0,o.forwardRef)((e,t)=>{let{className:s,children:n,...l}=e;return(0,i.jsx)("ul",{ref:t,className:(0,m.cn)("flex h-full flex-col gap-0.5 overflow-y-auto px-1 pb-1",s),...l,children:n})});E.displayName="ExpandablePanelList";let M=e=>{let{highlighted:t,empty:s,clickable:n=!0,className:l,children:r,...a}=e;return(0,i.jsx)("li",{className:(0,m.cn)("bg-transparent py-1.5 text-sm font-medium lg:px-2.5",l,s&&"text-neutral text-center",!s&&"rounded-sm text-white focus:bg-transparent focus-visible:outline-none",!s&&n&&"betterhover:hover:!bg-[#2A2D32] cursor-pointer transition-colors duration-200 ease-out",!s&&t&&"bg-[#2A2D32AA] text-white"),...a,children:r})},S=e=>{let{...t}=e,s=(0,v.useTranslations)("Chatroom.ChatCommands"),n=(0,o.useRef)(null),l=(0,p.l)(e=>e.mentionSetQueryTerm),r=(0,p.l)(e=>e.mentionResetStore),a=(0,p.l)(e=>e.activeCommandArg),d=(0,p.l)(e=>e.commandQueryResults),c=(0,p.l)(e=>e.commandIsValid),u=(0,p.l)(e=>e.highlightedCommandIndex),h=(0,p.l)(e=>e.resetCommandQuery),m=(0,p.l)(e=>e.setHighlightedCommandIndex),x=(0,p.l)(e=>e.currentCommandArgValue),f=(0,p.l)(e=>e.applySuggestedCommand),g=(0,p.l)(e=>e.expandedPanelId),j=(0,p.l)(e=>e.setExpandedPanelId),C=e=>{m(e),f()};return(0,o.useEffect)(()=>()=>{h(),j(null),r&&r()},[h,r,j]),(0,o.useEffect)(()=>{let e=p.l.getState().currentCommand;(null==a?void 0:a.type)==="username"?(l(x.trim()),"chat_mentions_list"!==g&&j("chat_mentions_list")):"command_suggestion_list"!==g&&e.length&&((null==a?void 0:a.type)||!x.length)&&j("command_suggestion_list")},[null==a?void 0:a.type,x,g,j,l]),(0,o.useEffect)(()=>{let e=document.querySelector(":root");e&&e.style.setProperty("--chat-command-validation-color",c?"#53fc18":"#e9113c")},[c]),(0,o.useEffect)(()=>{if(n.current&&"number"==typeof u){var e;let t=null===(e=n.current)||void 0===e?void 0:e.childNodes.item(u);null==t||t.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})}},[u]),(0,i.jsx)(L,{expanded:"command_suggestion_list"===g,...t,children:(0,i.jsxs)(E,{ref:n,children:[[...d].map((e,t)=>(0,i.jsx)(M,{highlighted:t===u,onClick:()=>C(t),children:(0,i.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,i.jsx)(H,{className:"text-sm",text:"".concat(e.parsedMatch)}),(0,i.jsx)("div",{className:"whitespace-break-spaces text-xs text-gray-500",children:a?(0,i.jsxs)("span",{children:[(0,i.jsxs)("span",{className:"font-medium text-gray-400/70",children:["[",a.label,"]:"]}),(0,i.jsx)("span",{className:"px-1",children:s(a.description)}),(0,i.jsxs)("span",{className:"italic text-gray-500/80",children:["(",a.required?s("required"):s("optional"),")"]})]}):s(e.command.description)})]})},t)),0===d.length&&(0,i.jsx)(M,{empty:!0,children:"No command matches"})]})})};var V=s(74822),F=s(76913);let k=(e,t,s)=>{var n;let l="current"in t?t.current:t;if(!e.current||!l)return;let r=s.duration||500,a=e.current,i=Math.max(0,l.getBoundingClientRect().top-a.getBoundingClientRect().top+a.scrollTop-((null===(n=s.offset)||void 0===n?void 0:n.top)||0)),o=a.scrollTop,d=i-o,c=null,u=e=>{null===c&&(c=e);let t=e-c,n=B(t,o,d,r);a.scrollTop=n,t<r?requestAnimationFrame(u):s.callBack&&s.callBack()};requestAnimationFrame(u)},B=(e,t,s,n)=>(e/=n/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t;var T=s(70948);let D=e=>{let{fill:t,...s}=e;return(0,i.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,i.jsx)("path",{d:"M16 4C9.37 4 4 9.37 4 16C4 22.63 9.37 28 16 28C22.63 28 28 22.63 28 16C28 9.37 22.63 4 16 4ZM24.865 14.5H20.5V8.215C22.7725 9.535 24.415 11.815 24.865 14.5ZM17.5 7.135V14.5H14.5V7.135C14.9875 7.0525 15.49 7 16 7C16.51 7 17.0125 7.0525 17.5 7.135ZM11.5 8.215V14.5H7.135C7.585 11.815 9.2275 9.535 11.5 8.215ZM7.135 17.5H11.5V23.785C9.2275 22.465 7.585 20.185 7.135 17.5ZM14.5 24.865V17.5H17.5V24.865C17.0125 24.9475 16.51 25 16 25C15.49 25 14.9875 24.9475 14.5 24.865ZM20.5 23.785V17.5H24.865C24.415 20.185 22.7725 22.465 20.5 23.785Z",fill:"current"})})};var Z=s(32973),A=s(76408),P=s(19728),I=s(19168),z=s(11953),R=s(4984),U=s(38467),q=s(66195),O=s(63091),Q=s(50858);let K=e=>{let{children:t,className:s}=e;return(0,i.jsx)("div",{className:(0,m.cn)("grid gap-2",s),children:t})};K.displayName="ChatEmotesPicker.SectionContainer";let G=e=>{let{children:t,name:s}=e;return(0,i.jsx)("span",{className:"text-grey-400 text-xs font-medium",id:"emote-picker-section-name-".concat(s),children:t})};G.displayName="ChatEmotesPicker.SectionName";let Y=e=>{let{emote:t,onClick:s,channelSlug:n,align:l}=e,r=(0,v.useTranslations)("EmotePicker");return(0,i.jsx)(O.Q,{align:l,text:t.locked?r("subscribers_only"):t.name,children:(0,i.jsxs)("button",{onClick:()=>{t.locked?(0,I.x)({type:"subscription",channelSlug:n,subscription:{tier:1,monthCount:1}}):s(t.name,t.id,t.useEverywhere)},disabled:t.locked,className:"betterhover:hover:bg-white/10 disabled:betterhover:hover:bg-white/10 relative aspect-square size-10 rounded-sm p-1 disabled:opacity-40 lg:size-9",children:[(0,i.jsx)("img",{className:"aspect-square size-8 lg:size-7",src:(0,z.AU)(t.id),alt:t.name,loading:"lazy"}),t.locked&&(0,i.jsx)(Z.m,{className:"absolute bottom-0 right-0 h-2 w-2"})]})})};Y.displayName="ChatEmotesPicker.EmoteButton";let J=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"grid grid-cols-8 justify-between gap-2",children:t})};J.displayName="ChatEmotesPicker.SectionList";let W=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"grid gap-4 pt-2.5 lg:px-2 lg:pt-2",children:t})};W.displayName="ChatEmotesPicker.Header";let $=(0,o.forwardRef)((e,t)=>{let{onClose:s,...n}=e,l=(0,v.useTranslations)("EmotePicker");return(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(q.qk,{leftIcon:(0,i.jsx)(P.W,{className:"size-4"}),className:"grow",children:(0,i.jsx)(q.fC,{placeholder:l("search_emotes"),className:"w-full",id:Q.fg,ref:t,...n})}),(0,i.jsx)(U.Ei,{variant:"text",size:"sm",onClick:s,children:(0,i.jsx)(T.T,{})})]})});$.displayName="ChatEmotesPicker.SearchBar";let X=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"relative w-full max-w-full overflow-y-auto",children:(0,i.jsx)("div",{className:"flex items-center gap-2",children:t})})};X.displayName="ChatEmotesPicker.SectionList";let ee=e=>{let{section:t,selected:s,onClick:n}=e,l=(0,o.useMemo)(()=>"Recent"===t.name?(0,i.jsx)(A.Q,{}):"Global"===t.name?(0,i.jsx)(D,{}):"Emojis"===t.name?(0,i.jsx)("img",{src:(0,z.AU)(1730831),alt:"Emojis"}):(0,i.jsx)("img",{src:(0,R.Z)(t.profileImage),alt:t.name}),[t]);return(0,i.jsxs)("button",{className:"group flex size-11 shrink-0 grow-0 flex-col items-center gap-2 lg:size-10 [&_img]:size-7 [&_img]:rounded-full [&_img]:lg:size-6 [&_svg]:size-7 [&_svg]:rounded-full [&_svg]:lg:size-6",onClick:n,type:"button","data-active":s,children:[l,(0,i.jsx)("div",{className:"betterhover:group-hover:bg-[#475054] h-0.5 w-full transition-colors duration-300 group-data-[active=true]:!bg-green-500"})]},t.name)};ee.displayName="ChatEmotesPicker.SectionButton";let et=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"grid h-full grid-rows-[auto_1fr] gap-2 lg:h-[unset] lg:grid-rows-[unset]",children:t})};et.displayName="ChatEmotesPicker.Root";let es=(0,o.forwardRef)((e,t)=>{let{children:s,...n}=e;return(0,i.jsx)("div",{className:"overflow-y-auto py-2 lg:h-60 lg:pl-2 lg:pr-4",ref:t,...n,children:(0,i.jsx)("div",{className:"grid gap-2",children:s})})});es.displayName="ChatEmotesPicker.Body";let en={Body:es,EmoteButton:Y,Header:W,Root:et,SearchBar:$,SectionButton:ee,SectionContainer:K,SectionEmotesList:J,SectionList:X,SectionName:G};var el=s(33837),er=s(16797);let ea=e=>{let{isOpen:t,onClose:s}=e,n=(0,h.dD)(),l=(0,c.k)(),r=(0,v.useTranslations)("EmotePicker"),{channelSlug:a}=(0,el.r)(),u=(0,o.useRef)(null),m=(0,o.useRef)(!1),x=(0,o.useRef)(null),[g,j]=(0,o.useState)("Recent"),[C,y]=(0,o.useState)(""),w=(0,p.l)(e=>e.editorInstance),b=(0,p.l)(e=>e.emotesRecent),{data:_}=(0,f.useQuery)(F.d.channelEmotes(a)),{data:H,status:N}=(0,f.useQuery)(d.u.me("authenticated"===l.status,a)),L=(0,o.useMemo)(()=>{if(!_||!H)return[];let e=H.subscription&&new Date(H.subscription.expires_at)>new Date||H.is_broadcaster||H.is_super_admin,t=[];_.forEach(s=>{"number"==typeof s.id?t.push({name:s.user.username,type:"channel",profileImage:s.user.profile_pic,emotes:s.emotes.map(t=>({id:t.id,name:t.name,locked:s.slug===a&&!e&&t.subscribers_only,useEverywhere:t.subscribers_only}))}):"Global"===s.name&&t.push({name:s.name,type:"global",emotes:s.emotes.map(e=>({id:e.id,name:e.name,locked:!1,useEverywhere:!0}))})});let s=_.find(e=>"Emojis"===e.name);return s&&t.unshift({name:"Emojis",type:"global",emotes:s.emotes.map(e=>({id:e.id,name:e.name,locked:!1,useEverywhere:!0}))}),b.length>0&&t.unshift({name:"Recent",type:"global",emotes:b.map(e=>({id:e.id,locked:!1,name:e.name,useEverywhere:!0}))}),t},[_,H,a,b]),E=(0,o.useMemo)(()=>""!==C.trim(),[C]),M=e=>{let t=document.getElementById("emote-picker-section-name-".concat(e));t&&u.current?(m.current=!0,k(u,t,{duration:250,offset:{top:6},callBack:()=>{m.current=!1,j(e)}})):j(e)},S=(e,t,s)=>{w.current&&(w.current.focus(),w.current.update(()=>{let n=(0,V.dL)();if(n){let l=(0,er.mx)({emoteId:t,emoteName:e});n.insertNodes([l]),s&&p.l.getState().emoteAddToRecent(e,t)}}))};if((0,o.useEffect)(()=>{j("Recent")},[]),(0,o.useEffect)(()=>{let e=t&&!!(null==u?void 0:u.current),s=null;return e&&(s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!m.current&&j(e.target.id.replace("emote-picker-section-name-",""))})},{root:u.current,threshold:1,rootMargin:"0px 0px -200px 0px"}),u.current.querySelectorAll("[id^='emote-picker-section-name-']").forEach(e=>{e&&s&&s.observe(e)})),()=>{s&&s.disconnect()}},[t]),(0,o.useEffect)(()=>{t&&x.current&&x.current.focus(),t||y("")},[t]),"authenticated"!==l.status||"success"!==N||!H)return null;let B=L.some(e=>e.emotes.some(e=>e.name.toLocaleLowerCase().includes(C.toLocaleLowerCase())));return(0,i.jsxs)(en.Root,{children:[(0,i.jsxs)(en.Header,{children:[!n&&(0,i.jsx)(en.SearchBar,{value:C,onChange:e=>y(e.target.value),ref:x,onClose:s}),(0,i.jsx)(en.SectionList,{children:L.map(e=>(0,i.jsx)(en.SectionButton,{onClick:()=>M(e.name),section:e,selected:g===e.name},e.name))})]}),(0,i.jsx)(en.Body,{ref:u,children:B?L.map(e=>(0,i.jsx)(ei,{section:e,onClick:S,channelSlug:a,search:E?C:void 0},e.name)):(0,i.jsx)("span",{className:"text-grey-400 w-full min-w-0 truncate text-center text-xs font-semibold",children:r("no_emotes")})})]})},ei=e=>{var t,s,n;let{section:l,onClick:r,className:a,channelSlug:o,search:d}=e,c=(0,v.useTranslations)("EmotePicker");if(!(null===(t=l.emotes)||void 0===t?void 0:t.length))return null;let u=d?null===(s=l.emotes)||void 0===s?void 0:s.filter(e=>e.name.toLocaleLowerCase().includes(d.toLocaleLowerCase())):l.emotes;return u&&0!==u.length?(0,i.jsxs)(en.SectionContainer,{className:(0,m.cn)("grid gap-2",a),children:[(0,i.jsx)(en.SectionName,{name:l.name,children:"Global"===(n=l.name)||"Emojis"===n||"Recent"===n?c(n):n}),(0,i.jsx)(en.SectionEmotesList,{children:u.map((e,t)=>(0,i.jsx)(en.EmoteButton,{align:t%8<4?"start":"center",emote:e,onClick:r,channelSlug:o},"".concat(t,"-").concat(e.name)))})]}):null},eo=e=>{let{...t}=e,s=(0,p.l)(e=>e.emotesPickerButtonRef),n=(0,p.l)(e=>e.expandedPanelId),l=(0,p.l)(e=>e.setExpandedPanelId),r="chat_emotes_picker"===n,a=()=>{"chat_emotes_picker"===n&&l(null)};return(0,i.jsx)(L,{expanded:r,onClickOutside:[a,null,[s]],...t,children:(0,i.jsx)(ea,{isOpen:r,onClose:a})})},ed=e=>{let{...t}=e,s=(0,v.useTranslations)("Chatroom"),{channelSlug:n}=(0,el.r)(),l=(0,p.l)(e=>e.emoteBeingTyped),r=(0,p.l)(e=>e.emoteHighlightedIndex),a=(0,p.l)(e=>e.emotesFilteredByInput),d=(0,o.useMemo)(()=>null!=a?a:[],[a]),c=(0,o.useRef)(null),u=(0,p.l)(e=>e.setExpandedPanelId),h=(0,p.l)(e=>e.expandedPanelId),x=(0,p.l)(e=>e.currentCommand);(0,o.useEffect)(()=>{x.length>0||("chat_emotes_picker"!==h&&l?u("chat_emote_suggestion_list"):"chat_emote_suggestion_list"===h&&u(null))},[x.length,l,h,u]),(0,o.useEffect)(()=>{if(c.current&&"number"==typeof r){var e;let t=null===(e=c.current)||void 0===e?void 0:e.childNodes.item(r);null==t||t.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})}},[r]),(0,o.useEffect)(()=>{(0===d.length||d.length>0&&r>=d.length)&&p.l.getState().setEmoteHighlightedIndex(0)},[d,r]);let f=e=>{p.l.getState().applySuggestedEmote(e,n)};return(0,i.jsx)(L,{expanded:"chat_emote_suggestion_list"===h,onClickOutside:[()=>{p.l.getState().resetEmoteQuery()}],...t,children:(0,i.jsxs)(E,{ref:c,children:[null==d?void 0:d.map((e,t)=>(0,i.jsx)(M,{highlighted:t===r,onClick:t=>{t.preventDefault(),t.stopPropagation(),f(e)},children:(0,i.jsxs)("div",{className:"relative flex items-center gap-4",children:[(0,i.jsx)("img",{className:(0,m.cn)("aspect-square w-6",{"opacity-50":e.locked}),src:(0,z.AU)(e.id),alt:e.name,loading:"lazy"}),(0,i.jsxs)("div",{className:(0,m.cn)("flex items-center gap-1.5",{"text-grey-600":e.locked}),children:[e.name,e.locked&&(0,i.jsx)(Z.m,{className:"fill-grey-600 h-2.5 w-2.5"})]})]})},e.id)),(null==d?void 0:d.length)===0&&(0,i.jsx)(M,{empty:!0,children:s("no_emote_results")})]})})};var ec=s(19719);let eu=e=>{let{...t}=e,s=(0,v.useTranslations)("Chatroom"),n=(0,o.useRef)(null),l=(0,p.l)(e=>e.expandedPanelId),r=(0,p.l)(e=>e.mentionQueryResults),a=(0,p.l)(e=>e.mentionHighlightedIndex),d=(0,p.l)(e=>e.editorInstance),c=null!=r?r:[],u=(0,p.l)(e=>e.setExpandedPanelId),h=e=>{let{currentCommand:t}=p.l.getState();d.current&&(t.length?(0,ec.xN)({editor:d.current,username:e}):(0,ec.AF)({editor:d.current,username:e}))};return(0,o.useEffect)(()=>{if(n.current&&"number"==typeof a){var e;let t=null===(e=n.current)||void 0===e?void 0:e.childNodes.item(a);null==t||t.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})}},[a]),(0,i.jsx)(L,{expanded:"chat_mentions_list"===l,onClickOutside:[()=>{u(null),p.l.getState().mentionResetQuery()}],...t,children:(0,i.jsxs)(E,{ref:n,children:[[...c].map((e,t)=>(0,i.jsx)(M,{highlighted:t===a,onClick:()=>h(e),children:e},e)),0===c.length&&(0,i.jsx)(M,{empty:!0,children:s("no_mention_results")})]})})};var eh=s(89328),em=s(57102),ex=s(24326);let ef=e=>{let{children:t,className:s,...n}=e;return(0,i.jsx)("div",{className:(0,m.cn)("flex flex-col gap-3 overflow-hidden py-2 lg:px-3",s),...n,children:t})};ef.displayName="ChatRules.Root";let ep=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"flex items-center gap-1.5",children:t})};ep.displayName="ChatRules.Header";let eg=e=>{let{children:t,className:s,...n}=e;return(0,i.jsx)("div",{className:(0,m.cn)("text-base font-bold",s),...n,children:t})};eg.displayName="ChatRules.Title";let ev=e=>{let{children:t}=e;return(0,i.jsx)("span",{className:"text-subtle text-xs font-bold",children:t})};ev.displayName="ChatRules.Username";let ej=e=>{let{chatRules:t,className:s,...n}=e;return(0,i.jsx)("div",{className:(0,m.cn)("max-h-full w-full overflow-y-auto whitespace-break-spaces break-keep text-sm",s),...n,children:t.split("\\n").map((e,s)=>(0,i.jsxs)("span",{children:[e,s<t.split("\\n").length-1&&(0,i.jsx)("br",{})]},s))})};ej.displayName="ChatRules.Content";let eC=e=>{let{...t}=e,s=(0,v.useTranslations)("Chatroom");return(0,i.jsx)(ex.zx,{variant:"default",size:"sm",...t,children:s("chat_rules_accept_label")})};eC.displayName="ChatRules.AcceptButton";let ey={Root:ef,Header:ep,Title:eg,Username:ev,Content:ej,AcceptButton:eC};var ew=s(34595),eb=s(966);let e_=e=>{let t=0;for(let s=0,n=e.length;s<n;s++)t=(t<<5)-t+e.charCodeAt(s)|0;return t},eH=()=>{let e=(0,c.k)(),{channelSlug:t,channelId:s,setIsChatRulesAccepted:n,isChatRulesAccepted:l}=(0,el.r)(),{data:r}=(0,f.useQuery)(ew.y.getRules(t)),[a,i]=(0,eb.I)({key:"accepted_chat_rules",defaultValue:[]}),d=(0,o.useCallback)(()=>{n(!0),setTimeout(()=>{p.l.getState().scrollToLastMessage()},100)},[n]);return(0,o.useEffect)(()=>{var l;if(e&&(null===(l=e.user)||void 0===l?void 0:l.slug)===t){d();return}if(null==r?void 0:r.data.rules){let e=a.find(e=>e.chatroomId===s);e?e_(r.data.rules)!==(null==e?void 0:e.hash)?n(!1):d():n(!1)}else d()},[r,s,a,n,e,t,d]),{rules:(null==r?void 0:r.data.rules.trim())||null,accepted:l,accept:()=>{if(r&&""!==r.data.rules){let e=e_(r.data.rules);i([...a.filter(e=>e.chatroomId!==s),{chatroomId:s,hash:e}]),d()}}}},eN=()=>{let e=(0,v.useTranslations)("Chatroom"),t=(0,h.dD)(),{channelSlug:s}=(0,el.r)(),n=(0,p.l)(e=>e.setExpandedPanelId),l="chat_rules"===(0,p.l)(e=>e.expandedPanelId),{rules:r,accepted:a,accept:c}=eH(),{data:u}=(0,f.useQuery)(d.u.show(s));return((0,o.useEffect)(()=>{n(a?null:"chat_rules")},[a,n]),!a&&r&&u)?t?(0,i.jsx)(em.fC,{open:l,dismissible:!1,children:(0,i.jsxs)(em.VY,{children:[(0,i.jsx)(em.h4,{children:(0,i.jsxs)(ey.Header,{children:[(0,i.jsx)(eh.q,{size:"xs",src:u.user.profile_pic}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(em.Dx,{children:e("chat_rules_title")}),(0,i.jsx)(ey.Username,{children:u.user.username})]})]})}),(0,i.jsx)(ey.Root,{className:"py-0",children:(0,i.jsx)(ey.Content,{chatRules:r})}),(0,i.jsx)(em.$_,{children:(0,i.jsx)(ey.AcceptButton,{onClick:c})})]})}):(0,i.jsx)(L,{expanded:l,className:"max-h-[454px]",children:(0,i.jsxs)(ey.Root,{className:"flex flex-col gap-2 overflow-hidden",children:[(0,i.jsxs)(ey.Header,{children:[(0,i.jsx)(eh.q,{size:"xs",src:u.user.profile_pic}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)(ey.Title,{children:e("chat_rules_title")}),(0,i.jsx)(ey.Username,{children:u.user.username})]})]}),(0,i.jsx)(ey.Content,{chatRules:r}),(0,i.jsx)(ey.AcceptButton,{onClick:c})]})}):null};var eL=s(58581),eE=s(1118);let eM=Object.freeze({main:{id:"main",title:"main_menu_title"},identity:{id:"identity",title:"identity"},appearance:{id:"appearance",title:"appearance"},modActions:{id:"modActions",title:"mod_actions"},muted:{id:"muted",title:"muted_users"},banned:{id:"banned",title:"banned_users"}}),eS={"12px":0,"13px":1,"16px":2,"18px":3},eV={0:"12px",1:"13px",2:"16px",3:"18px"},eF=[{label:"size_small",dotStyle:{left:"-1px",width:"10px",height:"10px"},labelStyle:{fontSize:"12px"}},{label:"size_default",dotStyle:{left:"calc(100%/3)",marginLeft:"-4px",width:"12px",height:"12px"},labelStyle:{fontSize:"14px"}},{label:"size_large",dotStyle:{left:"calc(100%/1.5)",marginLeft:"-8px",width:"14px",height:"14px"},labelStyle:{fontSize:"16px"}},{label:"size_x_large",dotStyle:{right:"-4px",width:"16px",height:"16px"},labelStyle:{fontSize:"18px"}}];var ek=s(12567),eB=s(4798);let eT=e=>{let{title:t,handleIdentityUpdate:s,...n}=e,l=(0,ek.T)(e=>e.currentSectionId),{setExpandedPanelId:r}=p.l.getState(),a=e=>{"identity"===l&&s(),"HIDE_PANEL"===e&&r(null),"GO_BACK"===e&&ek.T.getState().goBack()};return(0,i.jsxs)("div",{className:"flex w-full select-none items-center justify-between lg:pb-2.5",...n,children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:["main"!==l&&(0,i.jsx)(U.Ei,{size:"sm","aria-label":"Go back",variant:"text",className:"px-0 transition-none",onClick:()=>a("GO_BACK"),children:(0,i.jsx)(eB.w,{className:"!size-4"})}),(0,i.jsx)("span",{className:(0,m.cn)("text-base font-semibold","main"===l&&"lg:pl-2.5"),children:t})]}),(0,i.jsx)(U.Ei,{size:"sm",variant:"text",onClick:()=>a("HIDE_PANEL"),children:(0,i.jsx)(T.T,{})})]})};var eD=s(18620);let eZ=e=>{let{label:t,children:s,...n}=e;return(0,i.jsx)(M,{className:"h-10",...n,children:(0,i.jsxs)("div",{className:"flex h-full select-none items-center justify-between text-white",children:[(0,i.jsx)("span",{children:t}),s]})})},eA=()=>{let e=(0,v.useTranslations)("ChatroomSettings"),t=(0,p.l)(e=>e.toggleTimestamps),s=(0,p.l)(e=>e.toggleQuickEmotes),n=(0,p.l)(e=>e.toggleLeaderboard),l=(0,p.l)(e=>e.toggleModQuickActions),r=(0,p.l)(e=>e.toggleEventsBanner),a=(0,p.l)(e=>e.userCanModerate),o=(0,g.Z)(p.l,e=>e.showTimestamps),d=(0,g.Z)(p.l,e=>e.showQuickEmotes),c=(0,g.Z)(p.l,e=>e.showLeaderboard),u=(0,g.Z)(p.l,e=>e.showModQuickActions),h=(0,g.Z)(p.l,e=>e.showEventsBanner);return(0,i.jsxs)(E,{className:"px-0",children:[(0,i.jsx)(eZ,{label:e("timestamps"),onClick:t,className:"px-2",children:(0,i.jsx)(eD.r,{checked:o,onCheckedChange:t,onClick:e=>e.preventDefault()})}),(0,i.jsx)(eZ,{label:e("quick_emotes"),onClick:s,className:"px-2",children:(0,i.jsx)(eD.r,{checked:d,onCheckedChange:s,onClick:e=>e.preventDefault()})}),(0,i.jsx)(eZ,{label:e("gifted_sub_leaderboard"),onClick:n,className:"px-2",children:(0,i.jsx)(eD.r,{checked:c,onCheckedChange:n,onClick:e=>e.preventDefault()})}),(0,i.jsx)(eZ,{label:e("event_banners"),onClick:r,className:"px-2",children:(0,i.jsx)(eD.r,{checked:h,onCheckedChange:r,onClick:e=>e.preventDefault()})}),a&&(0,i.jsx)(eZ,{label:e("mod_quick_actions"),onClick:l,className:"px-2",children:(0,i.jsx)(eD.r,{checked:u,onCheckedChange:l,onClick:e=>e.preventDefault()})})]})};var eP=s(96228);let eI=e=>{let{...t}=e,s=(0,o.useRef)(null);return(0,i.jsx)("div",{className:"h-fit w-full rounded-[4px] bg-[#070809] p-2 lg:bg-[#090A0B]",...t,children:(0,i.jsx)(eP.J,{ref:s,message:{type:"message",chatroom_id:1,content:"I [emote:1579047:emojiHeartEyes] kick!",created_at:"2023-12-31T12:34:56Z",id:"12345678-abcd-efgh-ijkl-123456789012",sender:{id:1,username:"moute",identity:{color:"#FF0000",badges:[{text:"Vip",type:"vip"}]},slug:"appearance-channel-test"}},channelSlug:"appearance-channel-test",showcaseOnly:!0})})};var ez=s(65336);let eR=e=>{let{currentStep:t}=e,s=(0,v.useTranslations)("ChatroomSettings"),[n]=t;return(0,i.jsx)(i.Fragment,{children:eF.map((e,t)=>{let{label:l,dotStyle:r,labelStyle:a}=e;return(0,i.jsx)("div",{className:(0,m.cn)("absolute top-1/2 -translate-y-1/2 cursor-pointer rounded-full border-[2px] border-[#191b1f]",n>=t&&"bg-[#52fc18]",n<t&&"bg-surface-tint"),style:r,children:(0,i.jsx)("div",{className:(0,m.cn)("absolute bottom-5 left-1/2 -translate-x-1/2 whitespace-nowrap font-semibold leading-none text-[#768087]",n===t&&"text-white"),style:a,children:"size_default"===l?s(l):"Aa"})},l)})})},eU=(0,o.forwardRef)((e,t)=>{let{value:s,updateValue:n,...l}=e;return(0,i.jsxs)("div",{className:"flex w-full flex-col gap-7 px-2 pb-1",children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:"Font size"}),(0,i.jsxs)(ez.iR,{onValueChange:n,min:0,max:3,step:1,value:s,minStepsBetweenThumbs:1,className:"relative flex h-5 w-full touch-none select-none items-center px-1",...l,ref:t,children:[(0,i.jsxs)(ez.fQ,{className:"bg-surface-tint relative h-[3px] grow rounded-full",children:[(0,i.jsx)(ez.e6,{className:"absolute h-full rounded-full bg-[#52fc18]"}),(0,i.jsx)(eR,{currentStep:s})]}),s.map((e,t)=>(0,i.jsx)(ez.bU,{className:"betterhover:hover:outline-white block h-4 w-4 cursor-pointer rounded-full bg-white outline outline-1 outline-transparent transition-[outline] duration-300","aria-label":"Chat font size"},t))]})]})});eU.displayName="FontSlider";let eq=e=>{let{...t}=e,s=(0,p.l)(e=>e.setFontSize),n=(0,g.Z)(p.l,e=>e.fontSize),l=n?[eS[n]]:[eS[ek.y.fontSize]];return(0,i.jsxs)("div",{className:"flex flex-col gap-2.5",...t,children:[(0,i.jsx)(eI,{}),(0,i.jsx)(eU,{value:l,updateValue:e=>{let[t]=e;return s(eV[null!=t?t:2])}}),(0,i.jsx)(eA,{})]})};var eO=s(21152),eQ=s(43546),eK=s(14991),eG=s(39475),eY=s(7323);let eJ=e=>{let{isSelected:t,isDisabled:s,isLocked:n,children:l,...r}=e;return(0,i.jsx)("div",{className:(0,m.cn)("flex cursor-pointer items-center justify-center rounded-[4px] border-[1px] border-transparent p-1.5 transition-[border-color,opacity] duration-100 ease-out",!t&&!s&&"betterhover:hover:border-[#53FC1866]",t&&!s&&!n&&"betterhover:hover:border-[#53FC18AA]",t&&"border-green-500",s&&"opacity-40",(n||s)&&"cursor-default"),...r,children:l})},eW=e=>{let{description:t,emptyDescription:s,badgeList:n,maxBadge:l,isChannelBadge:r=!1,...a}=e,d=(0,v.useTranslations)("IdentityBadges"),c=(0,p.l)(e=>e.toggleBadge),u=(0,p.l)(e=>e.selectedBadges),{subscriberBadges:h}=(0,el.r)(),m=(0,o.useMemo)(()=>u.filter(e=>Q.AC.includes(e.type)).length>=Q.VV,[u]);return(0,i.jsxs)("div",{className:"border-b-surface-tint flex flex-col gap-2 border-b-2 pb-2",...a,children:[(0,i.jsxs)("div",{className:"text-subtle flex flex-col gap-0.5 text-xs leading-tight",children:[(0,i.jsx)("p",{children:t}),l&&(0,i.jsx)("span",{children:l})]}),(0,i.jsx)("div",{className:"flex flex-wrap items-center gap-1",children:n.length>0?n.map(e=>{let t="staff"===e.type||"broadcaster"===e.type||"moderator"===e.type,s=!!r&&!u.some(t=>t.type===e.type)&&m;return(0,i.jsx)(eJ,{onClick:t?void 0:()=>c({badge:e,isChannelBadge:r}),isSelected:u.some(t=>t.type===e.type),isDisabled:s,isLocked:t,children:(()=>{if("sub_gifter"===e.type)return(0,i.jsx)(eY.$,{badgeType:e.type,badgeSize:"l",tooltipText:d("gifted_subs_quantity",{quantity:e.count||1}),giftCount:e.count||1});if("subscriber"===e.type){var t;let s=null!==(t=(0,eG.jj)(e.count||1,h))&&void 0!==t?t:void 0;return(0,i.jsx)(eY.$,{badgeType:e.type,badgeSize:"l",customBadgeUrl:s,tooltipText:d("subscriber_for_x_months",{months:e.count||1})})}return(0,i.jsx)(eY.$,{badgeType:e.type,badgeSize:"l",tooltipText:"trainwreckstv"===e.type?"trainwreckstv":d(e.type)})})()},e.type)}):(0,i.jsx)("p",{className:"text-grey-500 w-full text-xs leading-[2]",children:s})})]})},e$=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"flex flex-col gap-2",children:t})},eX=e=>{let{...t}=e,s=(0,v.useTranslations)("ChatroomSettings"),n=(0,p.l)(e=>e.availableGlobalBadges),l=(0,p.l)(e=>e.availableChannelBadges);return(0,i.jsxs)("div",{className:"flex flex-col gap-0.5 px-0.5",...t,children:[(0,i.jsx)("span",{className:"text-sm font-semibold leading-4",children:s("badges")}),(0,i.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,i.jsx)(eW,{description:s("badges_global_description"),emptyDescription:s("badges_global_empty_description"),badgeList:n}),(0,i.jsx)(eW,{description:s("badges_channel_description"),maxBadge:s("badges_maximum_label"),emptyDescription:s("badges_channel_empty_description"),badgeList:l,isChannelBadge:!0})]})]})},e0=e=>{let{...t}=e,s=(0,v.useTranslations)("ChatroomSettings"),n=(0,p.l)(e=>e.usernameColor);return(0,i.jsxs)("div",{className:"flex w-full flex-col gap-2 px-0.5 pb-2",...t,children:[(0,i.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,i.jsx)("div",{className:"text-sm font-semibold leading-4",children:s("identity_color_section_title")}),(0,i.jsx)("p",{className:"text-subtle text-xs leading-tight",children:s("identity_color_section_description")})]}),(0,i.jsx)("div",{className:"flex flex-row flex-wrap gap-[0.075rem] px-0.5 lg:grid lg:grid-cols-[repeat(8,min-content)] lg:justify-between lg:gap-x-[unset] lg:gap-y-2.5",children:Q.Co.map(e=>{let t=n===e;return(0,i.jsx)("button",{"aria-label":"Pick color ".concat(e),className:(0,m.cn)("group flex size-9 shrink-0 cursor-pointer items-center justify-center rounded-md border-transparent ring-1 ring-transparent",t&&"pointer-events-none cursor-default ring-green-500",!t&&"betterhover:hover:ring-[#53FC1866]"),onClick:()=>p.l.getState().setUsernameColor(e),children:(0,i.jsx)("div",{className:(0,m.cn)("size-9 rounded-md","border-shade-lower border-2","outline-primary outline outline-0",t&&"outline-1"),style:{backgroundColor:e}})},e)})})]})},e1=()=>{var e,t,s,n,l,r,a,o;let d=(0,c.k)(),u=(0,v.useTranslations)("ChatroomSettings"),{subscriberBadges:h}=(0,el.r)(),m=(0,p.l)(e=>e.selectedBadges),x=(0,p.l)(e=>e.usernameColor);return(0,i.jsxs)("div",{className:"flex min-h-[38px] w-full flex-nowrap items-center overflow-hidden rounded-[4px] bg-[#070809] p-2 text-sm leading-[1.2] lg:bg-[#090A0B] lg:p-2.5",children:[(0,i.jsx)("div",{className:"font-medium",children:u("identity_preview_label")}),(0,i.jsxs)("div",{className:"flex grow flex-nowrap items-center justify-end gap-1 overflow-hidden font-semibold",children:[(0,i.jsx)(eK.R,{className:"gap-1",profile:{id:null!==(l=null===(e=d.user)||void 0===e?void 0:e.id)&&void 0!==l?l:0,username:null!==(r=null===(t=d.user)||void 0===t?void 0:t.username)&&void 0!==r?r:"",slug:null!==(a=null===(s=d.user)||void 0===s?void 0:s.slug)&&void 0!==a?a:"",identity:{badges:m,color:x}},badgeSize:"m",subscriberBadges:h,shouldParseIdentity:!0}),(0,i.jsx)("div",{className:"truncate",style:{color:x},children:null!==(o=null===(n=d.user)||void 0===n?void 0:n.username)&&void 0!==o?o:""})]})]})},e2=e=>{let{channelId:t,userId:s}=e,n=(0,v.useTranslations)("ChatroomSettings"),{data:l,status:r}=(0,f.useQuery)({...eL.C.getUserIdentity(String(t),s),staleTime:3e5,gcTime:(0,eO.d)(3e5)});return((0,o.useEffect)(()=>{if(null==l?void 0:l.data){let e=l.data.identity.badges;p.l.getState().setIdentityValues({badges:e,color:l.data.identity.color})}},[l]),"pending"===r)?(0,i.jsx)(eQ.aM,{className:"bg-surface-tint h-[335px] w-full"}):"error"===r?(0,i.jsx)("p",{className:"text-subtle break-words break-keep px-2 text-center text-sm leading-[1.3]",children:n("identity_loading_error")}):(0,i.jsxs)(e$,{children:[(0,i.jsx)(e1,{}),(0,i.jsx)(eX,{}),(0,i.jsx)(e0,{})]})};var e3=s(67754),e5=s(14822),e9=s(92688);let e4=e=>{let{className:t,...s}=e,n=(0,v.useTranslations)("ChatroomSettings"),{channelSlug:l}=(0,el.r)(),r=(0,e3.usePathname)(),{goToSection:a}=ek.T.getState(),o=(0,p.l)(e=>e.userCanModerate),d=!r.includes("/popout");return(0,i.jsx)("div",{className:(0,m.cn)("w-full",t),...s,children:(0,i.jsxs)(E,{className:"px-0",children:[(0,i.jsx)(eZ,{label:n("identity"),onClick:()=>a("identity"),children:(0,i.jsx)(e5.X,{className:"size-4"})}),(0,i.jsx)(eZ,{label:n("appearance"),onClick:()=>a("appearance"),children:(0,i.jsx)(e5.X,{className:"size-4"})}),o&&(0,i.jsx)(eZ,{label:n("mod_actions"),onClick:()=>a("modActions"),children:(0,i.jsx)(e5.X,{className:"size-4"})}),(0,i.jsx)(eZ,{label:n("muted_users"),onClick:()=>a("muted"),children:(0,i.jsx)(e5.X,{className:"size-4"})}),d&&(0,i.jsx)(eZ,{label:n("popout_chat"),onClick:()=>{window.open("/popout/".concat(l,"/chat"),"_blank","width=320,height=640,menubar=no,toolbar=no,location=no,status=no")},children:(0,i.jsx)(e9.h,{className:"size-4"})})]})})};var e6=s(83079),e8=s(67291),e7=s(84954),te=s(47875),tt=s(79423);let ts=()=>{var e;let t=(0,v.useTranslations)("ChatroomSettings"),{channelSlug:s}=(0,el.r)(),{data:n}=(0,f.useQuery)(d.u.show(s)),l=(0,o.useMemo)(()=>{var e;return!!(null==n?void 0:null===(e=n.livestream)||void 0===e?void 0:e.is_mature)},[null==n?void 0:null===(e=n.livestream)||void 0===e?void 0:e.is_mature]),r=(0,o.useMemo)(()=>!!(null==n?void 0:n.livestream),[null==n?void 0:n.livestream]),a=(0,p.l)(e=>e.userCanModerate),c=(0,g.Z)(p.l,e=>e.showModQuickActions),u=(0,g.Z)(p.l,e=>e.enableModQuickShortcuts),h=(0,p.l)(e=>e.toggleModQuickActions),m=(0,p.l)(e=>e.toggleModQuickShortcuts),x=()=>{te.H.emit(tt.t.SetMature,null)};return a?(0,i.jsxs)(E,{className:"px-0",children:[(0,i.jsx)(eZ,{label:t("mod_quick_actions"),onClick:h,children:(0,i.jsx)(eD.r,{checked:c,onCheckedChange:h,onClick:e=>e.preventDefault()})}),(0,i.jsx)(M,{className:"h-10",onClick:m,children:(0,i.jsxs)("div",{className:"flex h-full select-none items-center justify-between text-white",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[t("mod_shortcuts"),(0,i.jsxs)(e7.zs,{openDelay:100,closeDelay:0,children:[(0,i.jsx)(e7.Yi,{children:(0,i.jsx)(e6.Y,{className:"size-4"})}),(0,i.jsx)(e7.bZ,{side:"top",className:"p-2.5",children:(0,i.jsxs)("div",{className:"flex flex-col gap-2 text-xs font-medium",children:[(0,i.jsx)("p",{children:t("mod_shortcuts_description")}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("kbd",{className:"rounded border border-[#CCCCCC] px-1 py-0.5 font-mono text-xs font-semibold",children:"CTRL"}),(0,i.jsx)("span",{children:t("mod_shortcuts_delete_message")})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("kbd",{className:"rounded border border-[#CCCCCC] px-1 py-0.5 font-mono text-xs font-semibold",children:"SHIFT"}),(0,i.jsx)("span",{children:t("mod_shortcuts_ban_user")})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("kbd",{className:"rounded border border-[#CCCCCC] px-1 py-0.5 font-mono text-xs font-semibold",children:"CTRL"}),"+",(0,i.jsx)("kbd",{className:"rounded border border-[#CCCCCC] px-1 py-0.5 font-mono text-xs font-semibold",children:"SHIFT"})]}),(0,i.jsx)("span",{children:t("mod_shortcuts_timeout_user")})]})]})})]})]}),(0,i.jsx)(eD.r,{checked:u,onCheckedChange:m,onClick:e=>e.preventDefault()})]})}),r&&(0,i.jsx)(eZ,{label:t("mature_mode"),onClick:x,children:(0,i.jsx)(eD.r,{checked:l,onCheckedChange:x,onClick:e=>e.preventDefault()})}),(0,i.jsx)(eZ,{label:t("banned_users"),clickable:!0,onClick:e8.z,children:(0,i.jsx)(e5.X,{className:"size-4"})})]}):null};var tn=s(45431),tl=s(7101);let tr=()=>{var e;let t=(0,v.useTranslations)("ChatroomSettings"),s=(0,p.l)(e=>e.mutedUsers),n=(0,o.useRef)(null);return(0,i.jsxs)("div",{className:"flex flex-col gap-2",ref:n,children:[s&&s.length>0&&(0,i.jsx)(tn.Z,{component:"div",className:"flex h-full flex-col gap-0.5 px-1 pb-1",itemKey:"id",itemHeight:44,data:s,styles:{verticalScrollBar:{width:4},verticalScrollBarThumb:{borderRadius:"15px",background:"rgba(255, 255, 255, 0.25)"}},children:e=>(0,i.jsx)("div",{className:"betterhover:hover:!bg-[#2A2D32] group cursor-pointer rounded-sm bg-transparent px-2.5 py-1.5 pr-1.5 text-sm font-medium text-white transition-colors duration-200 ease-out focus-within:!bg-[#2A2D32]",children:(0,i.jsxs)("button",{className:"group flex items-center gap-2.5 focus-visible:outline-0","aria-label":t("open_user_identity",{username:e.username}),onClick:()=>te.H.emit(tt.t.OpenIdentity,{username:e.username,ref:n.current||void 0}),children:[(0,i.jsx)("span",{className:"flex h-8 grow items-center text-sm font-medium",children:e.username}),(0,i.jsx)(U.Ei,{"aria-label":t("remove_user_from_mute"),size:"sm",variant:"text",onClick:t=>{t.stopPropagation(),te.H.emit(tt.t.ToggleMuteUser,{type:"unmute",userId:e.id,username:e.username})},children:(0,i.jsx)(tl.p,{})})]})},e.id)}),(0,i.jsx)("div",{className:"text-neutral bg-transparent px-2.5 text-center text-sm font-medium",children:(0,i.jsx)("span",{className:"font-normal",children:t.rich("muted_users_count",{count:null!==(e=null==s?void 0:s.length)&&void 0!==e?e:0,countHtml:()=>{var e;return(0,i.jsx)("strong",{className:"text-white",children:null!==(e=null==s?void 0:s.length)&&void 0!==e?e:0})}})})})]})},ta=e=>{var t,s,n,l,r,a,o,d;let{...u}=e,m=(0,v.useTranslations)("ChatroomSettings"),x=(0,c.k)(),{channelId:f}=(0,el.r)(),g=(0,h.dD)(),j=(0,p.l)(e=>e.expandedPanelId),C=(0,p.l)(e=>e.setExpandedPanelId),y=(0,p.l)(e=>e.chatSettingsButtonRef),w=(0,p.l)(e=>e.chatIdentityButtonRef),b="chat_settings"===j,_=(0,ek.T)(e=>e.currentSectionId),H=eM[_],N=eL.$.useUpdateUserIdentity("authenticated"===x.status,String(f),null!==(l=null===(t=x.user)||void 0===t?void 0:t.id.toString())&&void 0!==l?l:""),E=(0,p.l)(e=>e.usernameColor),M=(0,p.l)(e=>e.selectedBadges),S=(0,p.l)(e=>e.availableGlobalBadges),V=(0,p.l)(e=>e.availableChannelBadges),F=(0,eE.Z)(eL.C.getUserIdentity(String(f),null!==(r=null===(s=x.user)||void 0===s?void 0:s.id.toString())&&void 0!==r?r:"")),k=()=>{if(N){let{updateCount:e,setUpdateCount:t}=p.l.getState();if(0===e)return;t(0);let s=new Set(M.map(e=>e.type));F.set({data:{identity:{color:E,badges:[...S,...V].map(e=>({...e,active:s.has(e.type)}))}}}),N.mutate({badges:[...s],color:E},{onError:()=>{F.revert()}})}};return g?(0,i.jsx)(em.fC,{open:b,onOpenChange:e=>C(e?"chat_settings":null),children:(0,i.jsxs)(em.VY,{children:[(0,i.jsx)(em.h4,{children:(0,i.jsx)(eT,{title:m(H.title),handleIdentityUpdate:k})}),"main"===_&&(0,i.jsx)(e4,{}),"muted"===_&&(0,i.jsx)(tr,{}),"identity"===_&&(0,i.jsx)(e2,{channelId:f,userId:null!==(o=null===(a=x.user)||void 0===a?void 0:a.id.toString())&&void 0!==o?o:""}),"appearance"===_&&(0,i.jsx)(eq,{}),"modActions"===_&&(0,i.jsx)(ts,{})]})}):(0,i.jsx)(L,{expanded:b,className:"max-h-[454px]",onClickOutside:[()=>{"identity"===_&&k(),C(null)},null,[y,w]],...u,children:(0,i.jsxs)("div",{className:"overflow-hidden px-2.5 pb-2.5 pt-2",children:[(0,i.jsx)(eT,{title:m(H.title),handleIdentityUpdate:k}),(0,i.jsxs)("div",{className:"max-h-[calc(454px-64px)] overflow-y-auto",children:["main"===_&&(0,i.jsx)(e4,{}),"muted"===_&&(0,i.jsx)(tr,{}),"identity"===_&&(0,i.jsx)(e2,{channelId:f,userId:null!==(d=null===(n=x.user)||void 0===n?void 0:n.id.toString())&&void 0!==d?d:""}),"appearance"===_&&(0,i.jsx)(eq,{}),"modActions"===_&&(0,i.jsx)(ts,{})]})]})})},ti=e=>{let{className:t,...s}=e,n=(0,h.dD)(),l=(0,p.l)(e=>e.expandedPanelId),r=(0,g.Z)(p.l,e=>e.showQuickEmotes);return(0,i.jsxs)("div",{className:(0,m.cn)("z-absolute absolute inset-x-0 bottom-0 h-fit","chat_rules"!==l&&r&&"bottom-[calc(100%-46px)]","chat_rules"===l&&"bottom-[60px]",t),...s,children:[(0,i.jsx)(eN,{}),(0,i.jsx)(eu,{}),(0,i.jsx)(S,{}),!n&&(0,i.jsx)(eo,{}),(0,i.jsx)(ed,{}),(0,i.jsx)(ta,{})]})};var to=s(62124),td=s(58786);let tc=()=>{let e=(0,p.l)(e=>e.expandedPanelId),t=(0,p.l)(e=>e.setExpandedPanelId),s="chat_emotes_picker"===e;return(0,i.jsx)(to.M,{children:s&&(0,i.jsx)(td.E.div,{layout:!0,initial:{y:10,height:"0dvh",maxHeight:"0dvh"},animate:{y:0,height:"25dvh",maxHeight:"25dvh"},exit:{y:10,height:"0dvh",maxHeight:"0dvh"},transition:{duration:.3,type:"spring",bounce:0},children:(0,i.jsx)(ea,{isOpen:s,onClose:()=>{"chat_emotes_picker"===e&&t(null)}})})})};var tu=s(50321),th=s(33574),tm=s(24858);let tx=()=>{let e=(0,v.useTranslations)("Chatroom"),{channelSlug:t}=(0,el.r)(),s=(0,p.l)(e=>e.setReplyingMessage),n=(0,p.l)(e=>e.currentReplyingMessage);return n?(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(tm.V,{className:"size-4"}),(0,i.jsx)("span",{className:"text-sm font-semibold",children:e("chat_replying_to",{username:n.sender.username})}),(0,i.jsx)(U.Ei,{variant:"text",size:"xs",onClick:()=>s(null),className:"ml-auto",children:(0,i.jsx)(T.T,{})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(eP.J,{message:n,channelSlug:t,showcaseOnly:!0})})]}):null};s(39375);var tf=s(53892),tp=s(6511),tg=s(8570),tv=s(94010),tj=s(9308),tC=s(53424),ty=s(46091),tw=s(36697),tb=s(30661);let t_=()=>{let e=(0,v.useTranslations)("Chatroom"),[t]=(0,tb.g)(),s="authenticated"===(0,c.k)().status,{channelSlug:n,isChatRulesAccepted:l}=(0,el.r)(),{data:r}=(0,f.useQuery)(d.u.me(s,n)),[a,u]=(0,o.useState)({locked:!0,reason:""}),h=(0,p.l)(e=>e.userCanModerate),m=(0,p.l)(e=>e.userIsMeetingFollowRequirement),x=(0,p.l)(e=>e.userIsSubscriber),g=(0,p.l)(e=>e.userIsFollower),j=(0,p.l)(e=>e.userSlowedFor),C=(0,ek.T)(e=>e.settingsLoaded),y=(0,ek.T)(e=>e.subscribersMode),w=(0,ek.T)(e=>e.followersMode),b=(0,ek.T)(e=>e.followMinDuration),_=(0,ek.T)(e=>e.slowMode);(0,o.useEffect)(()=>{l?u((()=>{if(!C||!r)return{locked:!0,reason:""};if(h)return{locked:!1,reason:""};let t=r.banned;if(t){if(t.permanent)return{locked:!0,reason:e("chat_banned")};if(t.expires_at){let s=new Date(t.banned_at).getTime(),n=new Date(t.expires_at).getTime()-s+5e3;return{locked:!0,reason:e.rich("chat_timed_out",{duration:()=>(0,i.jsx)(tw.f,{format:"short",durationInMilliseconds:n})})}}}if(y&&!x)return{locked:!0,reason:e("chat_subscribers_only_mode")};if(w){if(!g)return{locked:!0,reason:e("chat_followers_only_mode")};if(!m)return{locked:!0,reason:e("chat_followers_only_mode_delay",{followDelay:b})}}return _&&j>0?{locked:!0,reason:e("chat_slow_mode_delay",{slowDelay:j})}:{locked:!1,reason:""}})()):u({locked:!0,reason:""})},[r,h,C,y,x,w,b,g,m,_,j,l,e]);let H=!!s&&a.locked,N=H?a.reason:e("chat_input_placeholder");return(0,o.useEffect)(()=>{p.l.getState().setChatLocked({isLocked:H,placeholder:N})},[H,N]),(0,o.useEffect)(()=>{t.setEditable(!H)},[t,H]),null};var tH=s(69505),tN=s(273);let tL=()=>{let[e]=(0,tb.g)(),t=(0,p.l)(e=>e.expandedPanelId),s="chat_mentions_list"===t||"chat_emote_suggestion_list"===t||"command_suggestion_list"===t;return(0,o.useEffect)(()=>{let t=t=>{if(!tH.D1)return!1;let s=(0,V.dL)();if((0,V.OP)(s)){let n=s.anchor.getNode();if((0,V.Rl)(n)){let s=n.getFirstChild();if((0,er.i5)(s)||(0,tN.kz)(s))return t.preventDefault(),e.dispatchCommand(V.BM,void 0),!0}else if((0,V.Gg)(n)&&""===n.getTextContent().trim()){let e=n.getPreviousSibling();if(((0,er.i5)(e)||(0,tN.kz)(e))&&!e.getPreviousSibling())return t.preventDefault(),n.remove(),e.remove(),!0}}return!1};return(0,tH.qV)(e.registerTextContentListener(e=>{if(0===e.trim().length&&s){let{setExpandedPanelId:e,resetCommandQuery:t,resetEmoteQuery:s,mentionResetQuery:n}=p.l.getState();t(),s(),n(),e(null)}}),e.registerCommand(V.yb,e=>"Backspace"===e.key&&t(e),V.Eo),e.registerCommand(V.aR,t,V.Eo))},[e,s]),null};var tE=s(66858);let tM=()=>{let[e]=(0,tb.g)(),t=(0,p.l)(e=>e.userCanModerate);return(0,o.useEffect)(()=>(0,tH.qV)(e.registerNodeTransform(V.R2,e=>{let s=e.getTextContent(),n=e.getPreviousSibling();if(s.startsWith("/")&&!n&&t){let t=(0,tE.JH)(s);e.replace(t)}}),e.registerNodeTransform(tE.zw,e=>{let t=e.getTextContent();if(!t.startsWith("/")){let s=(0,V.MX)(t);if(e.replace(s),t.length){let{resetCommandQuery:e,mentionResetQuery:t,setExpandedPanelId:s}=p.l.getState();e(),t(),s(null)}}})),[e,t]),null},tS=()=>{let[e]=(0,tb.g)(),t=e=>{if("command_suggestion_list"===p.l.getState().expandedPanelId){e.preventDefault();let{commandQueryResults:t,highlightPrevCommandIndex:s,highlightNextCommandIndex:n}=p.l.getState();return t.length&&("ArrowUp"===e.key?s():n()),!0}return!1},s=e=>{e.preventDefault();let{expandedPanelId:t,applySuggestedCommand:s,sendCommand:n,commandIsValid:l}=p.l.getState();return"command_suggestion_list"===t&&(l?n():s(),!0)},n=e=>{let t=e.getTextContent();p.l.getState().setCurrentCommand(t)};return(0,o.useEffect)(()=>(0,tH.qV)(e.registerNodeTransform(tE.zw,n),e.registerCommand(V._0,e=>t(e),V.Eo),e.registerCommand(V.Zb,e=>t(e),V.Eo),e.registerCommand(V.XN,e=>!!e&&s(e),V.Eo)),[e]),null},tV=RegExp("(?<=\\s|^):[a-zA-Z0-9_]{2,}"),tF=RegExp("(?:^|\\s)(:(?<emoteName1>\\w{3,}):)|(?:^|\\s)(?<emoteName2>\\w{3,})\\b"),tk=RegExp("(?<=\\s|^)@\\w*"),tB=e=>{let{node:t,emotes:s}=e,n=Array.from(t.getTextContent().matchAll(RegExp(tF,"g"))).filter(e=>{var t,n;let l=(null===(t=e.groups)||void 0===t?void 0:t.emoteName1)||(null===(n=e.groups)||void 0===n?void 0:n.emoteName2);return l&&s.has(l)});if(n.length)for(let e of n){var l,r,a;let n=(null===(l=e.groups)||void 0===l?void 0:l.emoteName1)||(null===(r=e.groups)||void 0===r?void 0:r.emoteName2);if(!n)continue;let i=s.get(n);if(!i)continue;let o=e[0],d=(null===(a=e.groups)||void 0===a?void 0:a.emoteName1)?":".concat(n,":"):n,c=e.index+(o.startsWith(" ")?1:0),u=c+d.length;for(let e of t.splitText(c,u))if(e.getTextContent()===d&&e.getParent()){let t=(0,er.mx)({emoteId:i,emoteName:n});e.replace(t),(0,ec.O_)(t);break}}},tT=()=>{let[e]=(0,tb.g)(),t=(0,p.l)(e=>e.emotes);return(0,o.useEffect)(()=>e.registerNodeTransform(V.R2,e=>{tB({node:e,emotes:t})}),[e,t]),null},tD=()=>{let[e]=(0,tb.g)(),{channelSlug:t}=(0,el.r)(),s=()=>{let{setExpandedPanelId:e,resetEmoteQuery:t}=p.l.getState();e(null),t()},n=e=>{if("chat_emote_suggestion_list"===p.l.getState().expandedPanelId){e.preventDefault();let{emotesFilteredByInput:t,emoteHighlightedIndex:s,setEmoteHighlightedIndex:n}=p.l.getState();return n("ArrowUp"===e.key?0===s?t.length-1:s-1:s===t.length-1?0:s+1),!0}return!1},l=e=>{if("chat_emote_suggestion_list"===p.l.getState().expandedPanelId){e.preventDefault();let{emotesFilteredByInput:s,emoteHighlightedIndex:n,applySuggestedEmote:l}=p.l.getState();return l(s[n],t),!0}return!1},r=e=>{let t=Array.from(e.getTextContent().matchAll(RegExp(tV,"g"))),{expandedPanelId:n,setExpandedPanelId:l,setEmoteInputMatches:r,setEmoteBeingTyped:a}=p.l.getState();if(t.length){let e=[],i=(0,ec.VL)();for(let s of t)i>=s.index&&i<=s.index+s[0].length&&e.push({text:s[0],offset:s.index});e.length?(r(e),a(e[0].text.slice(1)),"chat_emote_suggestion_list"!==n&&l("chat_emote_suggestion_list")):s()}else"chat_emote_suggestion_list"===n&&s()};return(0,o.useEffect)(()=>(0,tH.qV)(e.registerNodeTransform(V.R2,r),e.registerCommand(V._0,e=>n(e),V.Eo),e.registerCommand(V.Zb,e=>n(e),V.Eo),e.registerCommand(V.XN,e=>!!e&&l(e),V.Eo)),[e]),null},tZ=()=>{let[e]=(0,tb.g)(),t=()=>{let{setExpandedPanelId:e,mentionResetQuery:t}=p.l.getState();e(null),t()},s=e=>{if("chat_mentions_list"===p.l.getState().expandedPanelId){e.preventDefault();let{mentionQueryResults:t,mentionHighlightPrevIndex:s,mentionHighlightNextIndex:n}=p.l.getState();return t.length&&("ArrowUp"===e.key?s():n()),!0}return!1},n=t=>{let{mentionQueryResults:s,mentionGetHighlightedUsername:n,expandedPanelId:l,currentCommand:r,commandIsValid:a,sendCommand:i}=p.l.getState();if("chat_mentions_list"===l){if(t.preventDefault(),s.length){let t=n();t&&(r.length?(0,ec.xN)({editor:e,username:t}):(0,ec.AF)({editor:e,username:t}))}else!s.length&&a&&i();return!0}return!1},l=e=>{let s=Array.from(e.getTextContent().matchAll(RegExp(tk,"g"))),{expandedPanelId:n,setExpandedPanelId:l,mentionSetInputMatches:r}=p.l.getState();if(s.length){let e=[],a=(0,ec.VL)();for(let t of s)a>=t.index&&a<=t.index+t[0].length&&e.push({text:t[0],offset:t.index});if(e.length){r(e);let t=e[0].text.slice(1),{mentionSetQueryTerm:s,mentionQueryResults:a,mentionUserList:i,mentionSetQueryResults:o}=p.l.getState();"chat_mentions_list"!==n&&l("chat_mentions_list"),t.length?s(t):a.length||o([...i.values()].map(e=>e.username).sort((e,t)=>e.localeCompare(t)))}else"chat_mentions_list"===n&&t()}else"chat_mentions_list"===n&&t()};return(0,o.useEffect)(()=>(0,tH.qV)(e.registerNodeTransform(V.R2,l),e.registerCommand(V._0,e=>s(e),V.Eo),e.registerCommand(V.Zb,e=>s(e),V.Eo),e.registerCommand(V.XN,e=>!!e&&n(e),V.Eo)),[e]),null},tA=()=>{let[e]=(0,tb.g)();return(0,o.useEffect)(()=>e.registerCommand(V.A1,t=>{if(t instanceof ClipboardEvent){var s,n,l;if(t.preventDefault(),null===(s=t.clipboardData)||void 0===s?void 0:s.getData("application/x-lexical-editor"))return!1;let r=(null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain"))||"";if(r.trim().length>0){let t=Array.from(p.l.getState().emotes.keys()),s=RegExp("(?<!:)(\\b(?:".concat(t.join("|"),")\\b)(?!:)"),"g"),n=r.replace(s,e=>":".concat(e,":"));(0,ec.pB)({editor:e,text:n})}else{let s;let n=(null===(l=t.clipboardData)||void 0===l?void 0:l.getData("text/html"))||"";(s=n.startsWith("<")?n.replace(/<img[^>]*src="https:\/\/files\.kick\.com\/emotes\/\d+\/fullsize"[^>]*alt="([^"]*)"[^>]*>/g,(e,t)=>":".concat(t,":")).replace(/<div[^>]*data-side="top"[^>]*>.*?<\/div>/g,"").replace(/<\/?[^>]+(>|$)/g,""):"").trim().length>0&&(0,ec.pB)({editor:e,text:s})}return!0}return!1},V.Eo),[e]),null},tP=()=>{let[e]=(0,tb.g)(),t=(0,e3.usePathname)();return(0,o.useEffect)(()=>e.registerCommand(V.Zq,e=>{let{currentReplyingMessage:t,setReplyingMessage:s}=p.l.getState();return!!t&&(e.preventDefault(),s(null),!0)},V.Eo),[e]),(0,o.useEffect)(()=>{p.l.getState().setReplyingMessage(null)},[t]),null};var tI=s(3698);let tz=()=>{let[e]=(0,tb.g)(),t=(0,tI.C)(e);return(0,o.useEffect)(()=>e.registerCommand(V._0,s=>{let n=p.l.getState().lastSentMessage;return!!t&&!!n&&(s.preventDefault(),(0,ec.pB)({editor:e,text:n}),!0)},V.Eo),[e,t]),null};var tR=s(31567),tU=s(2190);let tq=()=>{let e=(0,v.useTranslations)("Chatroom.ChatInput"),[t]=(0,tb.g)(),{openAuthenticationLogIn:s}=(0,th.a)(),{chatroomId:n}=(0,el.r)(),l="authenticated"===(0,c.k)().status,r=tR.W.useSend(n.toString()),a=t=>{let{content:s,type:n,metadata:l}=t;r.mutate({content:s,type:n,metadata:l},{onSuccess:t=>{if(null==t?void 0:t.status.error){console.log("ERROR CHAT MESSAGE ON SUCCESS",t),tU.A.error(e("send_chat_message_error"));return}},onError:t=>{console.log("ERROR CHAT MESSAGE",t),tU.A.error(e("send_chat_message_error"))}})},i=()=>{if(!l){s();return}let{expandedPanelId:t,getMessage:n,currentCommand:r,commandIsValid:i,sendCommand:o,applySuggestedCommand:d,currentReplyingMessage:c,setReplyingMessage:u}=p.l.getState();if("chat_mentions_list"===t||"command_suggestion_list"===t||"chat_emote_suggestion_list"===t||r.length)"command_suggestion_list"===t?i?o():d():"chat_mentions_list"===t&&i&&o();else{let t=n();if(!t)return;if("object"==typeof t){tU.A.error(e(t.reason));return}c?(a({content:t,type:"reply",metadata:{original_message:{id:c.id,content:c.content},original_sender:{id:c.sender.id,username:c.sender.username}}}),u(null)):a({content:t,type:"message",metadata:{}})}};return(0,o.useEffect)(()=>t.registerCommand(V.XN,e=>(null==e||e.preventDefault(),i(),!0),V.u6),[t,l]),null},tO=()=>{let e=(0,ek.T)(e=>e.slowMode),t=(0,ek.T)(e=>e.messageInterval),s=(0,p.l)(e=>e.userCanModerate),n=(0,p.l)(e=>e.userSlowedFor),l=(0,o.useRef)(null);return(0,o.useEffect)(()=>(e&&t>0&&!s&&n>0&&!l.current?l.current=setInterval(()=>{p.l.getState().decrementUserSlowedFor()},1e3):l.current&&(clearInterval(l.current),l.current=null),()=>{l.current&&(clearInterval(l.current),l.current=null)}),[e,t,s,n]),null},tQ={namespace:"ChatInput",theme:{paragraph:"editor-paragraph",placeholder:"editor-placeholder"},nodes:[er.Ey,tN.AV,tE.zw],onError:e=>{console.error(e)}},tK=()=>{let{channelSlug:e}=(0,el.r)(),t=(0,o.useRef)(null),{data:s}=(0,f.useQuery)(F.d.channelEmotes(e)),n=(0,p.l)(e=>e.userIsSubscriber),l=(0,p.l)(e=>e.chatPlaceholder);return(0,o.useEffect)(()=>{if(s){let t=new Map,l=new Map;for(let r of s)for(let s of r.emotes){if(s.subscribers_only&&r.slug===e&&!n){l.set(s.name,s.id);continue}t.set(s.name,s.id)}p.l.getState().setEmotes(t),p.l.getState().setLockedEmotes(l)}},[s,n,e]),(0,o.useEffect)(()=>{t.current&&p.l.getState().setEditorInstance(t)},[]),(0,i.jsx)(tp.R,{initialConfig:{...tQ,editable:!1},children:(0,i.jsxs)("div",{className:"relative w-full",children:[(0,i.jsx)(tv.n,{editorRef:t}),(0,i.jsx)(ty.B,{contentEditable:(0,i.jsx)(tg.f,{className:"editor-input","data-input":!0,style:{outline:"none"}}),placeholder:(0,i.jsx)("div",{className:"pointer-events-none absolute left-2.5 top-1/2 -translate-y-1/2 select-none pl-[1px] text-sm font-medium leading-[1.15] text-[#768087]",children:l}),ErrorBoundary:tj.g}),(0,i.jsx)(tC.e,{}),(0,i.jsx)(tf.y,{}),(0,i.jsx)(t_,{}),(0,i.jsx)(tO,{}),(0,i.jsx)(tq,{}),(0,i.jsx)(tz,{}),(0,i.jsx)(tP,{}),(0,i.jsx)(tM,{}),(0,i.jsx)(tS,{}),(0,i.jsx)(tT,{}),(0,i.jsx)(tD,{}),(0,i.jsx)(tZ,{}),(0,i.jsx)(tA,{}),(0,i.jsx)(tL,{})]})})},tG=e=>{let{badge:t,giftCount:s,subCount:n,...l}=e,r=(0,v.useTranslations)("IdentityBadges"),{subscriberBadges:a}=(0,el.r)(),[d,c]=(0,o.useState)(null);return(0,o.useEffect)(()=>{d&&p.l.getState().setChatIdentityButtonRef(d)},[d]),(0,i.jsx)(ex.zx,{variant:"text",size:"sm",className:"h-[30px] px-[5px]",ref:c,...l,children:(()=>{if("sub_gifter"===t&&s)return(0,i.jsx)(eY.$,{badgeType:t,badgeSize:"xl",tooltipText:r("gifted_subs_quantity",{quantity:s}),giftCount:s,className:"justify-center"});if("subscriber"===t&&n){var e;let s=null!==(e=(0,eG.jj)(n,a))&&void 0!==e?e:void 0;return(0,i.jsx)(eY.$,{badgeType:t,badgeSize:"xl",customBadgeUrl:s,tooltipText:r("subscriber_for_x_months",{months:n||1}),className:"justify-center"})}return(0,i.jsx)(eY.$,{badgeType:t,badgeSize:"xl",tooltipText:"trainwreckstv"===t?"trainwreckstv":r(t),className:"justify-center"})})()})},tY=e=>{let{Icon:t,...s}=e,[n,l]=(0,o.useState)(null);return(0,o.useEffect)(()=>{n&&p.l.getState().setEmotesPickerButtonRef(n)},[n]),(0,i.jsx)(U.Ei,{variant:"text",size:"sm",ref:l,...s,children:(0,i.jsx)(t,{})})},tJ=()=>{var e,t,s;let n="authenticated"===(0,c.k)().status,{openAuthenticationLogIn:l}=(0,th.a)(),{channelSlug:r}=(0,el.r)(),{data:a}=(0,f.useQuery)(d.u.me(n,r)),u=(0,ek.T)(e=>e.openedFrom),h=(0,ek.T)(e=>e.currentSectionId),x=(0,p.l)(e=>e.expandedPanelId),g=(0,p.l)(e=>e.setExpandedPanelId),v=(0,p.l)(e=>e.currentReplyingMessage),j=(0,p.l)(e=>e.isChatLocked),C=null==j||j,y=(0,o.useMemo)(()=>{if(a&&n){var e,t;if(a.is_broadcaster)return"broadcaster";if(a.is_super_admin)return"staff";if(a.is_moderator)return"moderator";if(a.subscription)return"subscriber";if((null===(t=a.leaderboards)||void 0===t?void 0:null===(e=t.gifts)||void 0===e?void 0:e.quantity)&&a.leaderboards.gifts.quantity>0)return"sub_gifter"}return null},[a,n]),w=e=>{let{goToSection:t,setOpenedFrom:s}=ek.T.getState(),n="chat_settings"===x;if(n&&"identity_button"===u){"identity"!==h?t("identity"):(g(null),s(void 0));return}if(n&&"identity_button"!==u){t(null!=e?e:"identity"),s("identity_button");return}if(!n){t(null!=e?e:"identity"),g("chat_settings"),s("identity_button");return}},b=e=>{n?w(e):l()};return(0,i.jsxs)("div",{className:(0,m.cn)("flex grow flex-col gap-2",v&&"-m-1.5 rounded-md border-2 border-[#24272C] p-1 shadow-sm shadow-[#24272C]"),children:[(0,i.jsx)(tx,{}),(0,i.jsxs)("div",{className:(0,m.cn)("border-grey-700 betterhover:hover:border-grey-400 flex w-full items-center rounded border-2 px-2 transition-colors duration-200 ease-in-out",!C&&"focus-within:border-transparent focus-within:bg-[#070809] focus-within:outline-none focus-within:ring-1 focus-within:ring-[#F4F5F6] focus-within:ring-offset-1 focus-within:hover:border-transparent"),children:[!C&&y&&(0,i.jsx)(tG,{badge:y,subCount:null==a?void 0:null===(e=a.subscription)||void 0===e?void 0:e.duration,giftCount:null==a?void 0:null===(s=a.leaderboards)||void 0===s?void 0:null===(t=s.gifts)||void 0===t?void 0:t.quantity,onClick:()=>b("identity")}),C&&(0,i.jsx)(Z.m,{className:"-mr-1 ml-1 size-4",fill:"#999999"}),(0,i.jsx)(tK,{}),!C&&(0,i.jsx)(tY,{Icon:tu.Z,onClick:()=>{n?"chat_emotes_picker"===x?g(null):g("chat_emotes_picker"):l()}})]})]})},tW=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:(0,m.cn)("flex h-7 max-h-7 w-full max-w-full flex-wrap items-center gap-[0.208rem] overflow-hidden"),children:t})};tW.displayName="ChatQuickEmotes.Root";let t$=e=>{let{name:t,id:s,onClick:n,align:l,disabled:r}=e;return(0,i.jsx)(O.Q,{align:l,text:t,children:(0,i.jsx)("button",{onClick:n,disabled:r,className:(0,m.cn)("relative aspect-square h-full shrink-0 rounded-sm p-0.5",!r&&"betterhover:hover:bg-white/10",r&&"opacity-50"),children:(0,i.jsx)("img",{draggable:"false",className:"aspect-square w-full",src:(0,z.AU)(s),alt:t})})})};t$.displayName="ChatQuickEmotes.Emote";let tX=()=>(0,i.jsx)(eQ.aM,{className:"aspect-square w-full rounded-sm"});tX.displayName="ChatQuickEmotes.EmoteSkeleton";let t0={Root:tW,Emote:t$,EmoteSkeleton:tX},t1={visible:{height:36,opacity:1},hidden:{height:0,opacity:0}},t2=()=>{let e=(0,v.useTranslations)("Chatroom.ChatInput"),{channelSlug:t,chatroomId:s}=(0,el.r)(),n="authenticated"===(0,c.k)().status,l=(0,p.l)(e=>e.isChatLocked),r=(0,p.l)(e=>e.emotesRecent),a=(0,p.l)(e=>e.showQuickEmotes),{data:u}=(0,f.useQuery)(F.d.channelEmotes(t)),{data:h}=(0,f.useQuery)(d.u.me(n,t)),x=tR.W.useSend(s.toString()),g=(0,o.useMemo)(()=>{if(!h||!u)return[];if(0===r.length){let e=u.find(e=>"Emojis"===e.name);return e?e.emotes.slice(0,10).map(e=>({id:e.id,name:e.name})):[]}let e=h.subscription&&new Date(h.subscription.expires_at)>new Date,s=u.reduce((s,n)=>{let l=[];return l=n.slug!==t||e?n.emotes.map(e=>e.id):n.emotes.filter(e=>!e.subscribers_only).map(e=>e.id),s.concat(l)},[]),n=r.filter(e=>s.includes(e.id)).slice(0,10).map(e=>({id:e.id,name:e.name}));if(n.length<10){let e=u.find(e=>"Emojis"===e.name);if(!e)return n;let t=e.emotes.map(e=>({id:e.id,name:e.name})).slice(0,10-n.length);return[...n,...t]}return n},[h,u,r,t]),j=(t,s)=>{x&&!l&&x.mutate({content:"[emote:".concat(s,":").concat(t,"]"),type:"message",metadata:{}},{onSuccess:()=>{p.l.getState().emoteAddToRecent(t,s)},onError:()=>{tU.A.error(e("send_chat_message_error"))}})};return(0,i.jsx)(to.M,{children:a&&(0,i.jsx)(td.E.div,{initial:"hidden",animate:"visible",exit:"hidden",variants:t1,transition:{duration:.5,bounce:0,ease:"linear"},className:(0,m.cn)("overflow-hidden pb-2"),children:(0,i.jsx)(t0.Root,{children:0===g.length?Array.from({length:10}).map((e,t)=>(0,i.jsx)(t0.EmoteSkeleton,{},t)):g.slice(0,10).map((e,t)=>(0,i.jsx)(t0.Emote,{align:t<3?"start":"center",id:e.id,name:e.name,onClick:()=>j(e.name,e.id),disabled:l},t))})},"chat-quick-emotes")})};var t3=s(43993),t5=s(1749),t9=s(62219),t4=s(67434);let t6=(0,o.forwardRef)((e,t)=>{let{Icon:s,text:n,...l}=e,r=(0,t5.s)();return(0,i.jsxs)("div",{ref:t,className:(0,m.cn)("betterhover:hover:bg-[#24272C] flex cursor-help items-center gap-1 rounded-[4px] px-1.5 py-1.5 transition-colors ease-in-out","ltr"===r?"flex-row":"flex-row-reverse"),...l,children:[(0,i.jsx)(s,{width:16,height:16,fill:"#999999"}),n&&(0,i.jsx)("div",{className:"hidden lg:block",children:n})]})}),t8=e=>{let{slug:t}=e,s=(0,t5.s)(),n=(0,t4.h)({slug:t});return n?(0,i.jsx)(t9.u,{text:n.subtitle||n.title,side:"ltr"===s?"left":"right",children:(0,i.jsx)(t6,{Icon:n.Icon,text:n.title})}):null},t7=()=>{let e=(0,v.useTranslations)("Chatroom"),{openAuthenticationLogIn:t}=(0,th.a)(),[s,n]=(0,o.useState)(null);(0,o.useEffect)(()=>{s&&p.l.getState().setChatSettingsButtonRef(s)},[s]);let l=(0,c.k)(),{channelSlug:r,isChatRulesAccepted:a}=(0,el.r)(),{goToSection:d,setOpenedFrom:u}=ek.T.getState(),m=(0,ek.T)(e=>e.openedFrom),x=(0,h.dD)(),f=(0,p.l)(e=>e.setExpandedPanelId),g=(0,p.l)(e=>e.expandedPanelId),j=(0,p.l)(e=>e.editorInstance),C=e=>{if("chat_settings"===g&&"settings_button"===m){f(null),u(void 0);return}if("chat_settings"===g&&"settings_button"!==m){d(null!=e?e:"main"),u("settings_button");return}if("chat_settings"!==g){d(null!=e?e:"main"),f("chat_settings"),u("settings_button");return}},y=e=>{"authenticated"===l.status?C(e):t()};return(0,i.jsxs)("div",{className:"flex shrink-0 grow-0 items-center justify-between gap-2 lg:w-full lg:gap-0",children:[!x&&(0,i.jsx)("div",{className:"text-xs font-semibold text-[#999999]",children:(0,i.jsx)(t8,{slug:r})}),(0,i.jsxs)("div",{className:"flex items-center gap-x-2",children:[a&&(0,i.jsx)(U.Ei,{ref:n,variant:"text",size:"sm",onClick:()=>y("main"),children:(0,i.jsx)(t3.e,{})}),(0,i.jsx)(ex.zx,{size:"sm",className:"hidden lg:inline-flex",disabled:!a,onClick:()=>{j.current&&j.current.dispatchCommand(V.XN,null)},children:e("send_message")})]})]})},se=()=>{let e=(0,h.dD)(),t=(0,c.k)(),s="authenticated"===t.status,n=(0,x.useQueryClient)(),l=(0,u.Y)(e=>e.isPusherConnected),r=(0,u.Y)(e=>e.on),a=(0,u.Y)(e=>e.off),[g,v]=(0,o.useState)(!1),{channelSlug:j,chatroomId:C}=(0,el.r)(),{data:y}=(0,f.useQuery)(d.u.me(s,j)),w=(0,p.l)(e=>e.expandedPanelId),b=(0,o.useCallback)(e=>{var s;e.user.slug===(null===(s=t.user)||void 0===s?void 0:s.slug)&&n.setQueryData(d.u.me(!0,j).queryKey,t=>{if(!t)return t;let s=new Date;return{...t,banned:{banned_at:new Date().toISOString(),permanent:e.permanent,expires_at:e.expires_at||new Date(s.setFullYear(s.getFullYear()+2)).toISOString(),reason:""}}})},[j,n,t]),_=(0,o.useCallback)(e=>{t.user&&e.user.slug===t.user.slug&&n.setQueryData(d.u.me(!0,j).queryKey,e=>e?{...e,banned:null}:e)},[j,n,t]);return(0,o.useEffect)(()=>{let e=null;if(y&&y.banned&&!y.banned.permanent){let t=new Date().getTime(),s=new Date(y.banned.expires_at).getTime()-t;s>0&&(e=setTimeout(()=>{n.setQueryData(d.u.me(!0,j).queryKey,e=>e?{...e,banned:null}:e)},s))}return()=>{e&&clearTimeout(e)}},[y,j,n]),(0,o.useEffect)(()=>(C&&l&&(r("chatrooms.".concat(C,".v2"),"App\\Events\\UserBannedEvent",b),r("chatrooms.".concat(C,".v2"),"App\\Events\\UserUnbannedEvent",_)),()=>{C&&l&&(a("chatrooms.".concat(C,".v2"),"App\\Events\\UserBannedEvent",b),a("chatrooms.".concat(C,".v2"),"App\\Events\\UserUnbannedEvent",_))}),[l]),(0,o.useLayoutEffect)(()=>{let e=setTimeout(()=>{v(!0)},500);return()=>{clearTimeout(e)}},[]),(0,i.jsxs)("div",{className:(0,m.cn)("relative flex w-full shrink-0 flex-col"),children:[s&&g&&(0,i.jsx)(ti,{}),(0,i.jsxs)("div",{className:(0,m.cn)("z-common bg-grey-950 flex w-full shrink-0 flex-col overflow-hidden border-x border-b border-t border-transparent px-4 py-3 transition-colors lg:px-5",null!=w&&"bg-shade-base rounded-b-sm border-[#A8B1B822] border-t-transparent"),children:[s&&!e&&(0,i.jsx)(t2,{}),(0,i.jsxs)("div",{className:"flex gap-2 lg:flex-col lg:gap-4",children:[(0,i.jsx)(tJ,{}),(0,i.jsx)(t7,{})]}),e&&(0,i.jsx)(tc,{})]})]})}},67434:function(e,t,s){"use strict";s.d(t,{h:function(){return j}});var n=s(69389),l=s(7653),r=s(78406),a=s(34595),i=s(27573);let o=e=>{let{fill:t,...s}=e;return(0,i.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,i.jsx)("path",{d:"M25.25 14.6H18.6438L20.4375 2L6 17.4H12.2475L10.8125 30L25.25 14.6Z",fill:"current"})})};var d=s(9495),c=s(50321);let u=e=>{let{fill:t,...s}=e;return(0,i.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30 16C30 23.732 23.732 30 16 30C8.26801 30 2 23.732 2 16C2 8.26801 8.26801 2 16 2C23.732 2 30 8.26801 30 16ZM18.752 16L23 11.747L20.253 9L16 13.248L11.747 9L9 11.747L13.248 16L9 20.253L11.747 23L16 18.752L20.253 23L23 20.253L18.752 16Z"})})};var h=s(23737),m=s(84056),x=s(53753),f=s(48451),p=s(2560),g=s(97912),v=s(12567);let j=e=>{let{slug:t}=e,s=(0,n.useTranslations)("Chatroom"),i=(0,f.k)(),{status:j}=(0,p.useQuery)(a.y.get(t)),{data:C,status:y}=(0,p.useQuery)(r.u.me("authenticated"===i.status,t)),w=(0,v.T)(e=>e.slowMode),b=(0,v.T)(e=>e.emotesMode),_=(0,v.T)(e=>e.subscribersMode),H=(0,v.T)(e=>e.followersMode),N=(0,v.T)(e=>e.messageInterval),L=(0,g.l)(e=>e.userIsSubscriber),E=(0,g.l)(e=>e.userIsFollower),M=(0,l.useMemo)(()=>{if("pending"===j||"authenticated"===i.status&&"pending"===y)return!0},[j,i,y]),S=(null==C?void 0:C.banned)||!1;return(0,l.useMemo)(()=>M?{id:"connecting",title:s("connection_to_chatroom"),subtitle:null,Icon:o}:"error"===j?{id:"chat_settings_loading_error",title:s("connection_to_chatroom_failed"),subtitle:null,Icon:u}:S?S.permanent?{id:"banned",title:s("chat_banned"),subtitle:null,Icon:d.S}:{id:"timeout",title:s("chat_banned_until",{expirationAt:new Date(S.expires_at)}),subtitle:null,Icon:d.S}:_&&!L?{id:"subscribers_only",title:s("chat_subscribers_only_mode"),subtitle:null,Icon:x.b}:H&&!E?{id:"followers_only",title:s("chat_followers_only_mode"),subtitle:null,Icon:h.$}:b?{id:"emotes_only",title:s("chat_emotes_only_mode"),subtitle:null,Icon:c.Z}:w?{id:"slow_mode",title:s("chat_slow_mode"),subtitle:s("chat_messages_interval",{messagesInterval:N}),Icon:m.v}:null,[j,M,b,H,S,N,w,_,s,E,L])||null}},20792:function(e,t,s){"use strict";s.d(t,{F:function(){return u}});var n=s(27573),l=s(62124),r=s(58786),a=s(69389),i=s(89148),o=s(24326),d=s(97912);let c=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"absolute bottom-2 left-0 right-0 flex items-center justify-center gap-2",children:t})};c.displayName="InformationsContainer.Root";let u={Root:c,Paused:()=>{let e=(0,d.l)(e=>e.pauseEnabled),t=(0,a.useTranslations)("Chatroom");return(0,n.jsx)(l.M,{children:e&&(0,n.jsx)(r.E.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},children:(0,n.jsxs)(o.zx,{variant:"highlight",className:"bg-surface-base betterhover:hover:bg-surface-higher",size:"sm",onClick:()=>{d.l.getState().setPaused(!1),d.l.getState().scrollToLastMessage()},children:[(0,n.jsx)(i.f,{}),(0,n.jsx)("span",{children:t("chat_paused")})]})},"chatroom-paused")})},ReplayPaused:e=>{let{paused:t,resume:s}=e,d=(0,a.useTranslations)("Chatroom");return(0,n.jsx)(l.M,{children:t&&(0,n.jsx)(r.E.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},children:(0,n.jsxs)(o.zx,{variant:"highlight",className:"bg-surface-base betterhover:hover:bg-surface-higher",size:"sm",onClick:s,children:[(0,n.jsx)(i.f,{}),(0,n.jsx)("span",{children:d("chat_paused")})]})},"chatroom-paused")})}}},7647:function(e,t,s){"use strict";s.d(t,{ChatroomLeaderboard:function(){return et}});var n=s(27573),l=s(62124),r=s(7653),a=s(78406),i=s(48451),o=s(2560),d=s(97912),c=s(66990),u=s(58786),h=s(69389),m=s(1749),x=s(1667),f=s(98293),p=s(33574),g=s(91145),v=s(19168),j=s(96357),C=s(57102),y=s(34109),w=s(35449),b=s(41350),_=s(47875),H=s(79423),N=s(20080),L=s(62219),E=s(35416);let M=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_93_793)",children:[(0,n.jsx)("path",{d:"M3.66998 0V6.725L14.09 17.15H25.91L36.33 6.725V0H3.66998Z",fill:"#FF501D"}),(0,n.jsx)("path",{d:"M24.9 0H15.1V13.88H24.9V0Z",fill:"#FBC900"}),(0,n.jsx)("path",{d:"M40 16H0V22.5H40V16Z",fill:"#FF501D"}),(0,n.jsx)("path",{d:"M40 14H0V20.5H40V14Z",fill:"#FBC900"}),(0,n.jsx)("path",{d:"M40 24.5H0V31H40V24.5Z",fill:"#FF501D"}),(0,n.jsx)("path",{d:"M40 22.5H0V29H40V22.5Z",fill:"#FBC900"}),(0,n.jsx)("path",{d:"M13.37 10.2603H26.63C26.63 10.2603 36.04 17.3503 36.315 17.5653V29.8053C32.33 33.7903 30.1 36.0203 26.115 40.0053H13.875C9.88999 36.0203 7.65999 33.7903 3.67499 29.8053L5.99499 18.3653C9.97999 14.3803 9.37999 14.2453 13.36 10.2603H13.37Z",fill:"#FF501D"}),(0,n.jsx)("path",{d:"M8.4307 8.25083L5.24872 5.06885L2.06674 8.25083L5.24872 11.4328L8.4307 8.25083Z",fill:"white"}),(0,n.jsx)("path",{d:"M38.5025 32.5013L35.1296 29.1284L31.7567 32.5013L35.1296 35.8742L38.5025 32.5013Z",fill:"white"}),(0,n.jsx)("path",{d:"M15.57 35.9198L7.76001 28.1098V19.2548L15.57 11.4448H24.43L32.24 19.2548V28.1098L24.43 35.9198H15.57Z",fill:"#FBC900"}),(0,n.jsx)("path",{d:"M23 14.0148V32.2948H18.035V18.5798H17.93L13.93 20.9648V16.7548L18.43 14.0098H22.995L23 14.0148Z",fill:"black"}),(0,n.jsx)("path",{d:"M36.315 17.5652L32.24 19.2552L24.43 11.4452H15.57L7.76 19.2552V28.1102L3.685 29.8002V17.5652L13.88 7.36523H26.12L36.315 17.5652Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_93_793",children:(0,n.jsx)("rect",{width:"40",height:"40",fill:"white"})})})]})},S=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_93_794)",children:[(0,n.jsx)("path",{d:"M3.67004 0V6.725L14.09 17.15H25.91L36.33 6.725V0H3.67004Z",fill:"#7B8C83"}),(0,n.jsx)("path",{d:"M24.9 0H15.1V13.88H24.9V0Z",fill:"#CACCCB"}),(0,n.jsx)("path",{d:"M40 21H0V27.5H40V21Z",fill:"#7B8C83"}),(0,n.jsx)("path",{d:"M40 19H0V25.5H40V19Z",fill:"#CACCCB"}),(0,n.jsx)("path",{d:"M13.3699 10.2603H26.6299C26.6299 10.2603 36.0399 17.3503 36.3149 17.5653V29.8053C32.3299 33.7903 30.0999 36.0203 26.1149 40.0053H13.8749C9.88993 36.0203 7.65993 33.7903 3.67493 29.8053L5.99493 18.3653C9.97993 14.3803 9.37993 14.2453 13.3599 10.2603H13.3699Z",fill:"#7B8C83"}),(0,n.jsx)("path",{d:"M15.57 35.9198L7.76001 28.1098V19.2548L15.57 11.4448H24.43L32.24 19.2548V28.1098L24.43 35.9198H15.57Z",fill:"#CACCCB"}),(0,n.jsx)("path",{d:"M13.465 31.6652V28.3152L19.89 23.0152C20.325 22.6602 20.68 22.3252 20.995 22.0302C21.29 21.7152 21.525 21.4002 21.705 21.0652C21.88 20.7302 21.96 20.3752 21.96 19.9602C21.96 19.5452 21.86 19.1302 21.685 18.8152C21.49 18.5002 21.23 18.2652 20.915 18.0852C20.58 17.9102 20.205 17.8302 19.77 17.8302C19.335 17.8302 18.96 17.9102 18.625 18.0852C18.29 18.2602 18.055 18.5202 17.875 18.8552C17.7 19.1902 17.6 19.6052 17.6 20.0752H13.165C13.165 18.8752 13.44 17.8302 13.975 16.9602C14.525 16.0952 15.295 15.4252 16.28 14.9502C17.265 14.4752 18.43 14.2402 19.77 14.2402C21.11 14.2402 22.33 14.4552 23.355 14.8902C24.36 15.3252 25.15 15.9552 25.7 16.7402C26.25 17.5302 26.53 18.4752 26.53 19.5402C26.53 20.1902 26.39 20.8602 26.115 21.5102C25.84 22.1602 25.345 22.8902 24.635 23.6752C23.925 24.4602 22.92 25.4102 21.6 26.4952L19.985 27.8352V27.9352H26.705V31.6602H13.465V31.6652Z",fill:"black"}),(0,n.jsx)("path",{d:"M36.3149 17.5652L32.2399 19.2552L24.4299 11.4452H15.5699L7.75994 19.2552V28.1102L3.68494 29.8002V17.5652L13.8799 7.36523H26.1199L36.3149 17.5652Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_93_794",children:(0,n.jsx)("rect",{width:"40",height:"40",fill:"white"})})})]})},V=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_93_795)",children:[(0,n.jsx)("path",{d:"M3.67004 0V6.725L14.09 17.15H25.91L36.33 6.725V0H3.67004Z",fill:"#A55E1C"}),(0,n.jsx)("path",{d:"M24.9 0H15.1V13.88H24.9V0Z",fill:"#F2A361"}),(0,n.jsx)("path",{d:"M40 21H0V27.5H40V21Z",fill:"#A55E1C"}),(0,n.jsx)("path",{d:"M40 19H0V25.5H40V19Z",fill:"#F2A361"}),(0,n.jsx)("path",{d:"M13.3699 10.2603H26.6299C26.6299 10.2603 36.0399 17.3503 36.3149 17.5653V29.8053C32.3299 33.7903 30.0999 36.0203 26.1149 40.0053H13.8749C9.88993 36.0203 7.65993 33.7903 3.67493 29.8053L5.99493 18.3653C9.97993 14.3803 9.37993 14.2453 13.3599 10.2603H13.3699Z",fill:"#A55E1C"}),(0,n.jsx)("path",{d:"M15.57 35.9198L7.76001 28.1098V19.2548L15.57 11.4448H24.43L32.24 19.2548V28.1098L24.43 35.9198H15.57Z",fill:"#F2A361"}),(0,n.jsx)("path",{d:"M19.845 31.7851C18.485 31.7851 17.285 31.5501 16.24 31.0751C15.195 30.6001 14.37 29.9701 13.775 29.1451C13.185 28.3151 12.87 27.3701 12.87 26.3101H17.58C17.58 26.6451 17.68 26.9401 17.895 27.1951C18.09 27.4501 18.37 27.6501 18.725 27.8051C19.08 27.9451 19.475 28.0201 19.925 28.0201C20.375 28.0201 20.735 27.9401 21.07 27.7851C21.405 27.6301 21.66 27.4101 21.84 27.1351C22.015 26.8601 22.115 26.5451 22.115 26.1901C22.115 25.8351 22.015 25.5401 21.8 25.2651C21.585 24.9901 21.29 24.7901 20.895 24.6351C20.5 24.4801 20.065 24.4001 19.555 24.4001H17.8V21.1701H19.555C20.03 21.1701 20.42 21.0901 20.775 20.9351C21.13 20.7751 21.405 20.5801 21.605 20.3051C21.805 20.0301 21.9 19.7351 21.9 19.3801C21.9 19.0451 21.82 18.7501 21.665 18.4951C21.505 18.2401 21.27 18.0401 20.955 17.8851C20.66 17.7451 20.305 17.6701 19.91 17.6701C19.475 17.6701 19.1 17.7501 18.765 17.9051C18.43 18.0651 18.175 18.2601 17.975 18.5351C17.775 18.8101 17.68 19.1051 17.68 19.4601H13.205C13.205 18.4151 13.5 17.4701 14.07 16.6601C14.64 15.8501 15.43 15.2201 16.435 14.7701C17.44 14.3151 18.585 14.0801 19.885 14.0801C21.185 14.0801 22.27 14.2951 23.255 14.7301C24.24 15.1651 24.99 15.7551 25.54 16.5051C26.09 17.2551 26.37 18.1201 26.37 19.0851C26.37 20.0501 26.055 20.8401 25.385 21.4501C24.715 22.0601 23.87 22.4351 22.845 22.5351V22.6751C24.225 22.8351 25.27 23.2451 25.98 23.9551C26.69 24.6451 27.025 25.5301 27.005 26.5751C27.005 27.5801 26.71 28.4651 26.1 29.2551C25.49 30.0451 24.64 30.6351 23.58 31.0851C22.495 31.5201 21.255 31.7551 19.855 31.7551V31.7951L19.845 31.7851Z",fill:"black"}),(0,n.jsx)("path",{d:"M36.3149 17.5652L32.2399 19.2552L24.4299 11.4452H15.5699L7.75994 19.2552V28.1102L3.68494 29.8002V17.5652L13.8799 7.36523H26.1199L36.3149 17.5652Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_93_795",children:(0,n.jsx)("rect",{width:"40",height:"40",fill:"white"})})})]})},F=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",...s,children:[(0,n.jsx)("path",{d:"M30 25H2V28.5H30V25Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M30 18H2V21.5H30V18Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M24.75 11L17.75 4H14.25L7.25 11V14.5H24.75V11Z",fill:"currentColor"})]})};var k=s(38467);let B=(0,r.forwardRef)((e,t)=>{let{position:s,className:l,children:r,...a}=e;return(0,n.jsx)("span",{className:(0,w.cn)("text-white",0===s&&"text-orange-300",1===s&&"text-neutral",2===s&&"text-orange-500",l),ref:t,...a,children:r})});B.displayName="LeaderboardsShared.ColoredUsername";let T=e=>{let{side:t,...s}=e;return(0,n.jsx)("button",{className:"group/arrow flex w-5 items-center justify-center",...s,children:(0,n.jsx)("span",{className:"betterhover:group-hover/arrow:bg-[#24272C] flex flex-row items-center justify-center rounded p-1 transition-[background-color]",children:(0,n.jsx)(E.L,{width:18,height:18,className:(0,w.cn)("left"===t&&"rotate-180")})})})};T.displayName="LeaderboardsShared.ArrowButton";let D=e=>{let{isExpanded:t,setIsExpanded:s,className:l}=e;return(0,n.jsxs)("button",{className:(0,w.cn)("flex w-full items-center gap-2",l),onClick:()=>s(!t),children:[(0,n.jsx)("span",{"aria-hidden":!0,className:"h-0.5 grow bg-[#24272c]"}),(0,n.jsx)("div",{children:(0,n.jsx)(F,{width:18,height:18,className:(0,w.cn)(!t&&"rotate-180")})}),(0,n.jsx)("span",{"aria-hidden":!0,className:"h-0.5 grow bg-[#24272c]"})]})};D.displayName="LeaderboardsShared.ExpandCollapseButton";let Z=e=>{let{index:t,...s}=e;return 0===t?(0,n.jsx)(M,{...s}):1===t?(0,n.jsx)(S,{...s}):2===t?(0,n.jsx)(V,{...s}):null};Z.displayName="LeaderboardsShared.PodiumGiftIcon";let A=e=>{let{children:t,className:s}=e,l=(0,h.useTranslations)("Leaderboards"),a=0===r.Children.count(t);return(0,n.jsx)("div",{className:(0,w.cn)("flex flex-col items-center border-y-2 border-y-[#24272c] py-2",s),children:a?(0,n.jsx)("span",{children:l("no_sub_yet")}):t})};A.displayName="LeaderboardsShared.GiftList";let P=e=>{let{gifter:t,position:s,quantity:l,onClick:r}=e,a=(0,h.useTranslations)("Leaderboards"),i=0===s,o=1===s,d=2===s;return(0,n.jsxs)(k.zx,{variant:"text",size:"xs",className:"flex w-full justify-between !text-sm lg:!px-5",onClick:r,children:[(0,n.jsxs)("div",{className:"[&_svg:!size-4] flex items-center gap-1.5",children:[i?(0,n.jsx)(M,{}):o?(0,n.jsx)(S,{}):d?(0,n.jsx)(V,{}):(0,n.jsx)("span",{className:"flex w-4 justify-center text-gray-400",children:s+1}),(0,n.jsx)(B,{position:s,children:t.username})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(N.E,{tooltipText:a("gifted_subs_quantity",{quantity:l}),quantity:l,className:"!size-4"}),(0,n.jsx)("span",{className:"text-xs text-gray-200",children:l})]})]})};P.displayName="LeaderboardsShared.GiftItem";let I={ArrowButton:T,ExpandCollapseButton:D,PodiumGiftIcon:Z,GiftList:A,GiftItem:P,ColoredUsername:B},z=(0,r.forwardRef)((e,t)=>{let{children:s}=e;return(0,n.jsx)("div",{className:(0,w.cn)("flex flex-row text-[13px] font-semibold"),children:(0,n.jsx)("div",{ref:t,className:"absolute inset-x-0 flex w-full flex-row overflow-hidden",children:s})})}),R=e=>{let{quantity:t,badgeSize:s}=e,l=(0,h.useTranslations)("Leaderboards");return(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(N.E,{tooltipText:l("gifted_subs_quantity",{quantity:t}),quantity:t,width:s,height:s}),(0,n.jsx)("span",{className:"text-xs text-gray-200",children:t})]})},U=e=>{let{index:t,gift:s}=e;return 0===t?(0,n.jsxs)("div",{className:"flex min-w-0 max-w-[50%] shrink-0 items-center gap-1",children:[(0,n.jsx)("div",{className:"shrink-0",children:(0,n.jsx)(I.PodiumGiftIcon,{className:"size-8",index:t})}),(0,n.jsxs)("div",{className:"flex flex-col truncate",children:[(0,n.jsx)(L.u,{disabled:!0,text:s.gifter.username,children:(0,n.jsx)(I.ColoredUsername,{position:t,className:"truncate text-left",children:s.gifter.username})}),(0,n.jsx)(R,{badgeSize:14,quantity:s.quantity})]})]}):(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{className:"flex w-full grow-0 items-center gap-1.5 overflow-hidden",children:[(0,n.jsx)("div",{className:"shrink-0",children:(0,n.jsx)(I.PodiumGiftIcon,{className:"size-4",index:t})}),(0,n.jsx)("div",{className:"shrink-1 inline-block truncate",children:(0,n.jsx)(L.u,{disabled:!0,text:s.gifter.username,children:(0,n.jsx)(I.ColoredUsername,{position:t,className:"truncate",children:s.gifter.username})})}),(0,n.jsx)("div",{className:"ml-auto shrink-0",children:(0,n.jsx)(R,{badgeSize:14,quantity:s.quantity})})]})})},q={Root:z,Content:e=>{let{children:t,...s}=e;return(0,n.jsx)("div",{className:"flex w-full flex-col items-center justify-center gap-1 overflow-hidden",...s,children:t})},Title:e=>{let{children:t}=e;return(0,n.jsx)("span",{className:"relative top-1.5 text-sm",children:t})},GiftList:e=>{let{gifts:t,className:s,...l}=e,r=(0,h.useTranslations)("Leaderboards"),a=e=>{let{children:r}=e;return(0,n.jsx)("button",{"aria-label":"Expand leaderboard",className:"h-[64px] w-full",children:(0,n.jsx)("div",{className:(0,w.cn)("flex h-full w-full flex-nowrap items-center justify-center gap-2.5 px-1.5",0===t.length&&"justify-center",s),...l,children:r})})};return 0===t.length?(0,n.jsx)(a,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(I.PodiumGiftIcon,{className:"size-8",index:0}),(0,n.jsx)("span",{children:r("leaderboard_get_in_gift_position",{quantity:1,position:1})})]})}):t.length>=3?(0,n.jsxs)(a,{children:[t[0]&&(0,n.jsx)(U,{index:0,gift:t[0]}),(0,n.jsxs)("div",{className:"shrink-1 flex min-w-0 flex-col gap-1",children:[t[1]&&(0,n.jsx)(U,{index:1,gift:t[1]}),t[2]&&(0,n.jsx)(U,{index:2,gift:t[2]})]})]}):(0,n.jsxs)(a,{children:[t[0]&&(0,n.jsx)(U,{index:0,gift:t[0]}),(0,n.jsxs)("div",{className:"shrink-1 flex flex-col gap-1",children:[t.length>1&&t[1]&&(0,n.jsx)(U,{index:1,gift:t[1]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[1===t.length?(0,n.jsx)(I.PodiumGiftIcon,{className:"size-4",index:1}):(0,n.jsx)(I.PodiumGiftIcon,{className:"size-4",index:2}),(0,n.jsx)("span",{className:"leading-none",children:r("leaderboard_get_in_gift_position",{quantity:1,position:1===t.length?2:3})})]})]})]})}};var O=s(48082),Q=s(24326);let K={Root:(0,r.forwardRef)((e,t)=>{let{children:s}=e;return(0,n.jsx)("div",{className:"flex flex-col text-[13px] font-semibold ",children:(0,n.jsx)("div",{ref:t,className:"absolute flex w-full flex-col",children:s})})}),Header:e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex justify-between",children:t})},HeaderContent:e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex h-[54px] grow flex-col items-center justify-center px-2",children:t})},Title:e=>{let{children:t}=e;return(0,n.jsx)("span",{className:"text-sm",children:t})},Subtitle:e=>{let{children:t}=e;return(0,n.jsx)("span",{children:t})},Footer:e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex flex-col items-center gap-2 p-2",children:t})},CTALabel:e=>{let{nextGifterQuantity:t,position:s}=e,l=(0,h.useTranslations)("Leaderboards");return(0,n.jsx)("p",{className:"text-xs font-semibold",children:l.rich("gift_subs_to_take_position",{quantity:t,quantityElement:e=>(0,n.jsxs)("span",{className:"relative top-[2px] inline-flex items-end gap-0.5 leading-none",children:[(0,n.jsx)(N.E,{quantity:t,className:"!size-4"}),(0,n.jsx)("span",{className:"text-primary",children:e})]}),position:s})})},CTAButton:e=>{let{nextGifterQuantity:t,className:s,variant:l,...r}=e,a=(0,h.useTranslations)("Leaderboards");return(0,n.jsxs)(Q.zx,{variant:l||"default",className:(0,w.cn)("w-fit gap-1.5",s),...r,children:[(0,n.jsx)(O.O,{className:"size-4 fill-black"}),(0,n.jsx)("span",{className:"text-sm leading-none lg:text-[15px]",children:a("gift_subs",{quantity:t>100?100:t})})]})}},G=(0,r.forwardRef)((e,t)=>{let{className:s,...l}=e;return(0,n.jsx)("div",{ref:t,className:(0,w.cn)("border-surface-base flex w-full flex-row flex-nowrap items-center justify-start gap-3 border-b-2 px-4 py-1.5",s),...l})});G.displayName="LeaderboardsMinimized.Root";let Y=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex min-w-0 max-w-fit flex-row flex-nowrap items-center justify-center gap-1 px-1.5 py-1",children:t})};Y.displayName="LeaderboardsMinimized.Item";let J=e=>{let{children:t,className:s,position:l,...r}=e;return(0,n.jsx)(I.ColoredUsername,{position:l,className:(0,w.cn)("min-w-0 max-w-14 truncate text-xs font-semibold",s),...r,children:t})};J.displayName="LeaderboardsMinimized.Username";let W=e=>{let{children:t,...s}=e;return(0,n.jsx)("span",{className:"text-grey-500 text-xs font-semibold",...s,children:t})};W.displayName="LeaderboardsMinimized.GiftCount";let $={Root:G,Item:Y,Username:J,GiftCount:W},X=e=>{let{data:t,slug:s}=e,l=(0,h.useTranslations)("Leaderboards"),a=(0,g.dD)(),o=(0,m.s)(),c=(0,i.k)(),{openAuthenticationLogIn:N}=(0,p.a)(),L=["gifts","gifts_week","gifts_month"],[E,M]=(0,r.useState)(!1),[S,V]=(0,r.useState)("gifts"),[F,{height:k}]=(0,b.y)(),B=(0,r.useRef)(null),T=(0,d.l)(e=>e.totalGifts),D=(0,f.e)(e=>e.showBanner),Z=(0,x.n)(e=>e.isViewingChannelPage),A=(0,r.useMemo)(()=>{var e,s;return d.l.getState().getClosestSubCount({gifters:t[S],selfCount:T[S],selfUsername:null!==(s=null===(e=c.user)||void 0===e?void 0:e.username)&&void 0!==s?s:""})},[S,t,c.user,T]),P=Object.keys(t).filter(e=>!e.includes("_enabled")&&t["".concat(e,"_enabled")]),z=P.length>1;(0,r.useEffect)(()=>{!t.gifts_enabled&&(t.gifts_month_enabled?V("gifts_month"):t.gifts_week_enabled&&V("gifts_week"))},[]);let R=()=>{let e=L.indexOf(S);for(let t=1;t<=L.length;t++){let s=(e+t)%L.length;if(P.includes(L[s]))return L[s]}return S},U=()=>{let e=L.indexOf(S);for(let t=1;t<=L.length;t++){let s=(e-t+L.length)%L.length;if(P.includes(L[s]))return L[s]}return S},O=()=>{if("gifts_week"===S){let e=(0,j.Zi)();return 0===e?l("resets_tomorrow"):l("resets_in",{count:e})}if("gifts_month"===S){let e=(0,j.UF)();return 0===e?l("resets_tomorrow"):l("resets_in",{count:e})}return""},Q=()=>{V(R())},G=()=>{V(U())},Y=e=>{"authenticated"!==c.status?N():(0,v.x)({type:"gift",channelSlug:s,gift:{quantity:e,tier:1}})},J=(0,r.useMemo)(()=>"gifts"===S?"overall_top_gifters":"gifts_week"===S?"weekly_top_gifters":"monthly_top_gifters",[S]);if(!P.length)return null;if(a){let e=t.gifts.slice(0,3);return(0,n.jsxs)(C.fC,{open:E,onOpenChange:M,children:[(0,n.jsx)(C.xz,{asChild:!0,children:(0,n.jsx)(u.E.div,{className:"bg-surface-lower relative flex shrink-0 flex-col text-sm font-medium",animate:{y:0},initial:{y:-38},exit:{y:0},transition:{duration:.4,type:"spring",bounce:0},children:(0,n.jsx)($.Root,{className:(0,w.cn)(D&&!Z&&"border-t-2"),ref:F,children:e.map((e,t)=>(0,n.jsxs)($.Item,{children:[(0,n.jsx)(I.PodiumGiftIcon,{className:"size-3",index:t}),(0,n.jsx)($.Username,{position:t,children:e.username}),(0,n.jsx)($.GiftCount,{children:(0,n.jsx)(y.A,{value:e.quantity,format:{compactDisplay:"long"}})})]},e.user_id))})},"leaderboards-mobile-wrapper")}),(0,n.jsxs)(C.VY,{children:[(0,n.jsxs)(C.h4,{className:"py-2",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[z&&(0,n.jsx)(I.ArrowButton,{side:"left",onClick:G}),(0,n.jsx)(C.Dx,{children:l(J)}),z&&(0,n.jsx)(I.ArrowButton,{side:"right",onClick:Q})]}),!!O().length&&(0,n.jsx)(C.dk,{children:O()})]}),(0,n.jsx)(I.GiftList,{className:"border-y-surface-base/30",children:t[S].map((e,t)=>(0,n.jsx)(I.GiftItem,{gifter:{id:e.user_id,username:e.username},quantity:e.quantity,position:t,onClick:()=>_.H.emit(H.t.OpenIdentity,{username:e.username,ref:(null==B?void 0:B.current)||void 0})},e.user_id))}),(0,n.jsxs)(C.$_,{className:"flex flex-col items-center justify-center",children:[A.position>0&&(0,n.jsx)(K.CTALabel,{nextGifterQuantity:A.giftQuantity,position:A.position}),(0,n.jsx)(K.CTAButton,{size:"lg",nextGifterQuantity:A.giftQuantity,onClick:()=>Y(A.giftQuantity)})]})]})]})}return(0,n.jsxs)(u.E.div,{className:"bg-surface-lower relative flex shrink-0 flex-col text-sm font-medium",animate:{height:k+18},initial:{height:0},exit:{height:0},transition:{duration:.4,type:"spring",bounce:0},ref:B,children:[E?(0,n.jsxs)(K.Root,{ref:F,children:[(0,n.jsxs)(K.Header,{children:[z&&(0,n.jsx)(I.ArrowButton,{side:"left",onClick:G}),(0,n.jsxs)(K.HeaderContent,{children:[(0,n.jsx)(K.Title,{children:l(J)}),("gifts_month"===S||"gifts_week"===S)&&(0,n.jsx)(K.Subtitle,{children:O()})]}),z&&(0,n.jsx)(I.ArrowButton,{side:"right",onClick:Q})]}),(0,n.jsx)(I.GiftList,{children:t[S].map((e,t)=>(0,n.jsx)(I.GiftItem,{gifter:{id:e.user_id,username:e.username},quantity:e.quantity,position:t,onClick:()=>_.H.emit(H.t.OpenIdentity,{username:e.username,ref:(null==B?void 0:B.current)||void 0})},e.user_id))}),(0,n.jsxs)(K.Footer,{children:[A.position>0&&(0,n.jsx)(K.CTALabel,{nextGifterQuantity:A.giftQuantity,position:A.position}),(0,n.jsx)(K.CTAButton,{nextGifterQuantity:A.giftQuantity,onClick:()=>Y(A.giftQuantity)})]})]},"expanded"):(0,n.jsxs)(q.Root,{ref:F,children:[z&&(0,n.jsx)(I.ArrowButton,{side:"ltr"===o?"left":"right",onClick:()=>"ltr"===o?G():Q()}),(0,n.jsxs)(q.Content,{onClick:()=>M(!0),children:[(0,n.jsx)(q.Title,{children:l(J)}),(0,n.jsx)(q.GiftList,{className:(0,w.cn)(!z&&"px-[26px]"),gifts:t[S].map(e=>({gifter:{username:e.username},quantity:e.quantity}))})]}),z&&(0,n.jsx)(I.ArrowButton,{side:"ltr"===o?"right":"left",onClick:()=>"ltr"===o?Q():G()})]},"collapsed"),(0,n.jsx)(I.ExpandCollapseButton,{isExpanded:E,setIsExpanded:()=>M(!E),className:"absolute bottom-0"})]},"leaderboards-wrapper")};var ee=s(33837);let et=()=>{let e=(0,i.k)(),{channelSlug:t}=(0,ee.r)(),{data:s}=(0,o.useQuery)(a.u.getLeaderboards(t)),{data:u}=(0,o.useQuery)(a.u.me("authenticated"===e.status,t)),h=(0,c.Z)(d.l,e=>e.showLeaderboard)&&s&&(s.gifts_enabled||s.gifts_month_enabled||s.gifts_week_enabled);return(0,r.useEffect)(()=>{var t,n;d.l.getState().setSelfGifts({selfUsername:(null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.username)||"",overallGiftQuantity:(null==u?void 0:null===(n=u.leaderboards)||void 0===n?void 0:n.gifts.quantity)||0,monthlyGifters:null==s?void 0:s.gifts_month,weeklyGifters:null==s?void 0:s.gifts_week})},[s,u,e.user]),(0,n.jsx)("div",{className:"overflow-hidden",children:(0,n.jsx)(l.M,{children:h&&(0,n.jsx)(X,{data:s,slug:t})})})}},33837:function(e,t,s){"use strict";s.d(t,{ChatroomProvider:function(){return eJ},r:function(){return eW}});var n=s(27573),l=s(7653),r=s(69389),a=s(53198),i=s(89628),o=s(8817),d=s(62124),c=s(58786),u=s(48388),h=s(54154),m=s(97712),x=s(89765),f=s(48451),p=s(38467),g=s(39155),v=s(66195),j=s(43583),C=s(97818);let y={hidden:{opacity:0,y:-10,maxHeight:0,transition:{type:"spring",bounce:0,duration:.15,maxHeight:{delay:.15}}},visible:{opacity:1,y:0,maxHeight:63,transition:{type:"spring",bounce:0,duration:.15,opacity:{delay:.15},y:{delay:.15}}}},w=()=>{let e=(0,r.useTranslations)("PollDialog");return(0,l.useMemo)(()=>m.z.object({subject:m.z.string().min(2,e("FormErrors.minimum_subject_length",{count:2})).max(64,e("FormErrors.maximum_subject_length",{count:64})),options:m.z.array(m.z.object({name:m.z.string().max(64,e("FormErrors.maximum_option_label_length",{count:64})).refine(e=>0===e.trim().length||e.trim().length>=2,{message:e("FormErrors.minimum_option_label_length",{count:2})})})).refine(e=>e.map(e=>{let{name:t}=e;return t.trim()}).filter(Boolean).length>=2,{message:e("FormErrors.minimum_options",{count:2})}),openDuration:m.z.string().min(1),resultDuration:m.z.string().min(1)}),[e])},b=[30,120,180,240,300],_=[15,30,120,180,240,300],H=()=>{let e=w(),t=(0,u.cI)({defaultValues:{openDuration:String(b[0]),options:Array.from({length:2}).map((e,t)=>({name:""})),resultDuration:String(_[0]),subject:""},resolver:(0,C.F)(e)}),{append:s,remove:n,fields:l}=(0,u.Dq)({control:t.control,name:"options"});return{form:t,options:{fields:l,append:s,remove:n}}},N=e=>{var t,s;let{channelSlug:a,onSuccess:i}=e,o=(0,r.useTranslations)("PollDialog"),u=(0,f.k)(),m=x.f.useCreate("authenticated"===u.status,a),{form:C,options:w}=H(),N=function(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];w.fields.length>2&&0===e.target.value.trim().length&&(w.remove(t),s&&C.setFocus("options.".concat(t-1,".name"))),w.fields.length<6&&e.target.value.trim().length>0&&t===w.fields.length-1&&w.append({name:""},{shouldFocus:!1})},L=(0,l.useCallback)(e=>{let t=Number(e);return t<60?o("duration_seconds_label",{duration:t}):o("duration_minutes_label",{duration:t/60})},[o]);return(0,n.jsx)(g.fC,{...C,children:(0,n.jsxs)("form",{onSubmit:C.handleSubmit(e=>{if(!m)return;let t={...e,options:e.options.filter(e=>e.name.trim().length>0).map(e=>e.name)};t.options.length<2||m.mutate({duration:Number(t.openDuration),result_display_duration:Number(t.resultDuration),options:t.options,title:t.subject},{onSuccess:()=>{i()},onError:()=>{h.toast.error(o("create_error"))}})}),className:"flex h-full w-full flex-col gap-4",children:[(0,n.jsx)(g.gN,{control:C.control,name:"subject",render:e=>{let{field:t}=e;return(0,n.jsxs)(g.ck,{children:[(0,n.jsx)(g.__,{children:o("Subject.title")}),(0,n.jsx)(g.oT,{children:(0,n.jsx)(v.fC,{...t,placeholder:o("Subject.placeholder")})}),(0,n.jsx)(g.v0,{})]})}}),(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"text-sm font-semibold",children:o("Options.title",{count:2})}),(0,n.jsx)(d.M,{children:w.fields.map((e,t)=>(0,n.jsx)(c.E.div,{variants:y,initial:t<2?"visible":"hidden",animate:"visible",exit:"hidden",children:(0,n.jsx)(g.gN,{control:C.control,name:"options.".concat(t,".name"),render:e=>{let{field:{onChange:s,...l}}=e;return(0,n.jsxs)(g.ck,{children:[(0,n.jsx)(g.oT,{children:(0,n.jsx)(v.fC,{...l,onChange:e=>{s(e),N(e,t)},placeholder:o("Options.option_placeholder",{count:t+1})})}),(0,n.jsx)(g.v0,{})]})}})},e.id))}),!!(null===(t=C.formState.errors.options)||void 0===t?void 0:t.message)&&(0,n.jsx)(g.Bc,{className:"mt-2 block",children:null===(s=C.formState.errors.options)||void 0===s?void 0:s.message})]}),(0,n.jsx)(g.gN,{name:"openDuration",render:e=>{let{field:t}=e;return(0,n.jsxs)(g.ck,{children:[(0,n.jsx)(g.__,{children:o("OpenDuration.title")}),(0,n.jsx)(g.oT,{children:(0,n.jsxs)(j.fC,{onValueChange:t.onChange,value:t.value,children:[(0,n.jsx)(j.xz,{asChild:!0,"aria-label":o("OpenDuration.placeholder"),className:"w-full",children:(0,n.jsxs)(p.zx,{className:"justify-between",children:[(0,n.jsx)(j.B4,{placeholder:o("OpenDuration.placeholder")}),(0,n.jsx)(j.xA,{})]})}),(0,n.jsx)(j.VY,{align:"start",children:b.map(e=>(0,n.jsx)(j.ck,{value:String(e),asChild:!0,children:(0,n.jsxs)(p.zx,{children:[(0,n.jsx)(j.eT,{children:L(e)}),(0,n.jsx)(j.wU,{})]})},e))})]})}),(0,n.jsx)(g.v0,{})]})}}),(0,n.jsx)(g.gN,{name:"resultDuration",render:e=>{let{field:t}=e;return(0,n.jsxs)(g.ck,{children:[(0,n.jsx)(g.__,{children:o("ResultDuration.title")}),(0,n.jsx)(g.oT,{children:(0,n.jsxs)(j.fC,{onValueChange:t.onChange,value:t.value,children:[(0,n.jsx)(j.xz,{asChild:!0,className:"w-full",children:(0,n.jsxs)(p.zx,{className:"justify-between",children:[(0,n.jsx)(j.B4,{placeholder:o("ResultDuration.placeholder"),children:L(t.value)}),(0,n.jsx)(j.xA,{})]})}),(0,n.jsx)(j.VY,{align:"start",children:_.map(e=>(0,n.jsx)(j.ck,{value:String(e),asChild:!0,children:(0,n.jsxs)(p.zx,{children:[(0,n.jsx)(j.eT,{children:L(e)}),(0,n.jsx)(j.wU,{})]})},e))})]})}),(0,n.jsx)(g.v0,{})]})}}),(0,n.jsxs)("div",{className:"ml-auto flex flex-row gap-2",children:[(0,n.jsx)(g.$j,{onClick:i,children:o("cancel")}),(0,n.jsx)(g.k4,{children:o("create")})]})]})})},L=(0,i.T)(e=>{let{channelSlug:t}=e;return(0,a.M)(e=>({channelSlug:t,isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})}))}),E=L.Provider,M=L.useStore,S=()=>{let e=(0,r.useTranslations)("PollDialog"),t=M(e=>e.channelSlug),s=M(e=>e.isOpen),l=M(e=>e.close);return(0,n.jsx)(o.fC,{open:s,onOpenChange:e=>{e||l()},children:(0,n.jsxs)(o.h_,{children:[(0,n.jsx)(o.aV,{}),(0,n.jsxs)(o.VY,{children:[(0,n.jsx)(o.h4,{children:(0,n.jsx)(o.Dx,{children:e("title")})}),""!==t&&(0,n.jsx)(N,{channelSlug:t,onSuccess:l})]})]})})};S.displayName="CreatePollModal.Modal";let V=e=>{let{children:t,initialValue:s}=e;return(0,n.jsx)(E,{initialValue:s,children:t})};V.displayName="CreatePollModal.Root";var F=s(78406),k=s(73822),B=s(86197);let T=(e,t,s)=>(0,B.rK)("/api/v2/channels/".concat(t,"/chat-commands"),null,{method:"POST",signal:e,body:JSON.stringify(s)}),D=(e,t)=>{let s=(0,k.useMutation)({mutationFn:async e=>T(null,t,e)});return e?s:null};var Z=s(94936),A=s(55813),P=s(2190),I=s(81266),z=s(90243),R=s(91641),U=s(43546),q=s(37355),O=s(39888),Q=s(66930),K=s(98100),G=s(2560),Y=s(34109),J=s(35449),W=s(67183);let $=e=>{let{children:t,className:s,...l}=e;return(0,n.jsx)("div",{className:(0,J.cn)("flex flex-row gap-2 rounded px-1.5 py-1",s),...l,children:t})};$.displayName="LiveChannelItem.Root";let X=e=>{let{src:t,alt:s,className:l,isLive:r=!1}=e;return(0,n.jsx)(W.l.Root,{className:(0,J.cn)("!size-7 self-center",l),children:(0,n.jsx)(W.l.Image,{isLive:r,src:t||"",alt:s||""})})};X.displayName="LiveChannelItem.Avatar";let ee=e=>{let{children:t,className:s,...l}=e;return(0,n.jsx)("div",{className:(0,J.cn)("flex flex-col gap-0.5",s),...l,children:t})};ee.displayName="LiveChannelItem.ChannelInfo";let et=e=>{let{children:t,className:s,...l}=e;return(0,n.jsx)("span",{className:(0,J.cn)("text-sm font-bold leading-4",s),...l,children:t})};et.displayName="LiveChannelItem.Username";let es=e=>{let{children:t,className:s,...l}=e;return(0,n.jsx)("span",{className:(0,J.cn)("text-grey-400 text-sm font-bold leading-4",s),...l,children:t})};es.displayName="LiveChannelItem.Category";let en=e=>{let{count:t,className:s,...l}=e;return(0,n.jsxs)("div",{className:"ml-auto flex w-fit shrink-0 flex-nowrap items-center gap-x-1 self-start",children:[(0,n.jsx)("div",{className:"aspect-square h-2 w-2 rounded-full bg-green-500"}),(0,n.jsx)("span",{className:(0,J.cn)("text-sm leading-4",s),...l,children:(0,n.jsx)(Y.A,{value:t})})]})};en.displayName="LiveChannelItem.ViewerCount";let el={Root:$,Avatar:X,ChannelInfo:ee,Username:et,Category:es,ViewerCount:en};var er=s(53910);let ea=e=>{var t,s;let{onCancel:a,onHost:i}=e,o=(0,r.useTranslations)("HostChannelModal"),d=(0,f.k)(),c=(null===(t=d.user)||void 0===t?void 0:t.slug)||"",u="authenticated"===d.status,[h,m]=(0,l.useState)(""),x=h.length>=3&&h.length<=25,g=ex(e=>e.step),j=ex(e=>e.setStep),[C,y]=(0,l.useState)(!1),{data:w,hasNextPage:b,isFetching:_,fetchNextPage:H,status:N}=(0,K.useInfiniteQuery)({...F.u.followedChannelsForSidebar(!0),refetchInterval:3e5,refetchOnWindowFocus:!0}),L=D(u,c),{data:E,status:M}=(0,G.useQuery)({...F.u.show((null===(s=d.user)||void 0===s?void 0:s.slug)||""),enabled:u&&"preview"===g.name&&!!g.payload.channel.slug}),S=u&&(null==E?void 0:E.livestream)&&E.livestream.viewer_count>=z.RH,{ref:V,entry:k}=(0,O.s)(),B=!!(null==k?void 0:k.isIntersecting);(0,l.useEffect)(()=>{B&&!_&&H()},[B,H,_]);let[T]=(0,Q.c)(h,50),{data:A}=(0,I.I9)({queryBy:"username",searchQuery:x?T:"",filterByIsLive:!0}),U=(0,l.useMemo)(()=>w?w.pages.flatMap(e=>e):null,[w]),q=(0,l.useMemo)(()=>U?U[0]&&U[0].channels?(0,R.$)(U.map(e=>(null==e?void 0:e.channels)||[]).flat(),e=>e.channel_slug):[]:null,[U]),Y=(0,l.useMemo)(()=>q?q.filter(e=>e.is_live):[],[q]),J=()=>u&&"success"===M&&E?"preview"!==g.name?o("HostErrors.channel_not_selected"):(null==E?void 0:E.livestream)?(null==E?void 0:E.livestream.viewer_count)<z.RH?o("HostErrors.minimum_viewer_count_error",{count:z.RH,viewerCount:z.RH}):void 0:o("HostErrors.no_livestream_error"):o("HostErrors.not_logged_in");if(!u){let e=J();return e&&P.A.error(e),null}let W=()=>{L&&c&&"preview"===g.name&&(L.mutate({command:"host",parameter:g.payload.channel.username},{onError:()=>{P.A.error(o("HostErrors.generic_error"))}}),i(g.payload.channel.username))},$=e=>{m(""),j({name:"preview",payload:{channel:e}})},X=()=>{m(""),j({name:"search"}),y(!1),console.log("RESET")},ee="preview"!==g.name||!S||!C;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex flex-col overflow-hidden",children:"search"===g.name?(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(v.fC,{type:"text",value:h,onChange:e=>{m(e.currentTarget.value)},placeholder:o("channel_input_placeholder")}),(0,n.jsx)("div",{className:"bg-surface-lower/50 max-h-64 rounded px-2.5 py-2",children:(0,n.jsx)("div",{className:"flex h-full w-full flex-col gap-2",children:x?(0,n.jsx)(ed,{channelResults:A,isLoading:"pending"===N,onChannelClick:e=>$({slug:e.slug,username:e.username})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"text-sm font-bold",children:o("streamers_you_follow")}),0===Y.length?(0,n.jsx)(ei,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eo,{channels:Y,onChannelClick:e=>$({slug:e.channel_slug,username:e.user_username})}),(0,n.jsx)("div",{children:b&&(0,n.jsx)("div",{className:"h-5 w-1","aria-hidden":!0,ref:V})})]})]})})})]}):(0,n.jsx)(ec,{channelSlug:g.payload.channel.slug,onChannelLoaded:e=>{y(!!e.livestream)}})}),"preview"===g.name&&(0,n.jsxs)("div",{className:"flex flex-row items-center gap-1 rounded bg-red-400/15 fill-red-400 px-2 py-2.5 text-sm font-semibold text-red-400",children:[(0,n.jsx)(Z.W,{}),(0,n.jsx)("p",{children:J()})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[(0,n.jsx)(p.zx,{variant:"highlight",onClick:()=>{"search"===g.name?a():X()},children:"search"===g.name?o("cancel_button_label"):o("back_button_label")}),(0,n.jsx)(p.zx,{disabled:ee,onClick:()=>{S&&C&&W()},children:o("start_host_button_label")})]})]})},ei=()=>{let e=(0,r.useTranslations)("HostChannelModal");return(0,n.jsx)("div",{className:"flex h-full w-full flex-row items-center justify-center",children:(0,n.jsx)("span",{className:"text-sm",children:e("no_followed_streamers")})})},eo=e=>{let{channels:t,onChannelClick:s}=e;return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsxs)(el.Root,{className:"betterhover:hover:bg-secondary/20 cursor-pointer transition-[background-color,transform] active:scale-[0.98]",onClick:s?()=>s(e):void 0,children:[(0,n.jsx)(el.Avatar,{src:e.profile_picture,alt:e.user_username}),(0,n.jsxs)(el.ChannelInfo,{children:[(0,n.jsx)(el.Username,{children:e.user_username}),(0,n.jsx)(el.Category,{children:e.category_name})]}),(0,n.jsx)(el.ViewerCount,{count:e.viewer_count})]},e.channel_slug))})},ed=e=>{let{channelResults:t,isLoading:s,onChannelClick:l}=e,a=(0,r.useTranslations)("HostChannelModal");return s?(0,n.jsx)(q.$,{className:"self-center"}):t&&t.hits&&0!==t.hits.length?null==t?void 0:t.hits.map(e=>(0,n.jsx)(p.zx,{variant:"text",className:"flex flex-row items-center justify-start text-sm",onClick:l?()=>l(e.document):void 0,children:(0,n.jsxs)("span",{className:"inline-flex items-center",children:[e.document.username,e.document.verified&&(0,n.jsxs)(n.Fragment,{children:["\xa0",(0,n.jsx)(A.S,{className:"size-4"})]})]})},e.document.id)):(0,n.jsx)("span",{className:"self-center text-sm font-bold",children:a("no_live_channel_found")})},ec=e=>{let{channelSlug:t,onChannelLoaded:s}=e,a=(0,r.useTranslations)("HostChannelModal"),{data:i,status:o}=(0,G.useQuery)(F.u.show(t));if((0,l.useEffect)(()=>{i&&s(i)},[i,s]),"pending"===o)return(0,n.jsx)(eu,{});if(i){var d,c;return(0,n.jsxs)("div",{className:"flex flex-col gap-2 overflow-y-auto overflow-x-hidden",children:[(0,n.jsx)(er.P.Root,{className:"pointer-events-none",children:(0,n.jsx)(er.P.Thumbnail,{onClick:e=>e.preventDefault(),href:"/".concat(i.slug),src:(i.livestream?i.livestream.thumbnail.url:null===(d=i.offline_banner_image)||void 0===d?void 0:d.src)||"",srcSet:(i.livestream?i.livestream.thumbnail.responsive:null===(c=i.offline_banner_image)||void 0===c?void 0:c.srcset)||"",children:(0,n.jsx)(er.P.Live,{})})}),(0,n.jsxs)(el.Root,{children:[(0,n.jsx)(el.Avatar,{src:i.user.profile_pic,alt:i.user.username}),(0,n.jsxs)(el.ChannelInfo,{children:[(0,n.jsx)(el.Username,{children:i.user.username}),!!i.livestream&&(0,n.jsx)(el.Category,{children:i.livestream.categories[0].name})]}),!!i.livestream&&(0,n.jsx)(el.ViewerCount,{count:i.livestream.viewer_count})]})]})}if(!i)return(0,n.jsx)("span",{className:"text-sm font-semibold",children:a("HostErrors.generic_error")})},eu=()=>(0,n.jsxs)("div",{className:"flex flex-col gap-2 overflow-y-auto overflow-x-hidden",children:[(0,n.jsx)(U.aM,{className:"aspect-video w-full shrink-0 grow-0 rounded"}),(0,n.jsxs)(el.Root,{children:[(0,n.jsx)(U.ZG,{className:"size-7"}),(0,n.jsxs)(el.ChannelInfo,{children:[(0,n.jsx)(U.aM,{className:"h-4 w-24"}),(0,n.jsx)(U.aM,{className:"h-4 w-16"})]}),(0,n.jsx)(U.aM,{className:"ml-auto h-4 w-8"})]})]}),eh=(0,i.T)(()=>(0,a.M)(e=>({isOpen:!1,step:{name:"search"},open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setStep:t=>e(e=>({...e,step:t}))}))),em=eh.Provider,ex=eh.useStore,ef=()=>{let e=(0,r.useTranslations)("HostChannelModal"),t=ex(e=>e.isOpen),s=ex(e=>e.close),l=ex(e=>e.step),a=ex(e=>e.setStep);return(0,n.jsx)(o.fC,{open:t,onOpenChange:e=>{e||(s(),a({name:"search"}))},children:(0,n.jsxs)(o.h_,{children:[(0,n.jsx)(o.aV,{}),(0,n.jsxs)(o.VY,{className:"flex flex-col lg:max-h-[80dvh]",children:[(0,n.jsx)(o.h4,{children:(0,n.jsx)(o.Dx,{children:e("search"===l.name?"host_channel":"host_channel_preview")})}),(0,n.jsx)(ea,{onCancel:s,onHost:s})]})]})})};ef.displayName="HostChannelModalStore.Modal";let ep=e=>{let{children:t}=e;return(0,n.jsx)(em,{initialValue:null,children:t})};ep.displayName="HostChannelModalStore.Root";var eg=s(97912),ev=s(10718),ej=s(31567),eC=s(34595),ey=s(3316);let ew=(e,t,s)=>(0,B.rK)("/api/v2/livestreams/".concat(t,"/mature"),null,{method:"PUT",body:JSON.stringify(s),signal:e}),eb=e=>(0,k.useMutation)({mutationFn:async t=>ew(null,e,t)});var e_=s(50321),eH=s(23737),eN=s(84056),eL=s(57690),eE=s(26821),eM=s(24819),eS=s(50858),eV=s(47875),eF=s(79423);let ek=()=>{var e,t;let s=(0,r.useTranslations)("ChatroomEvents"),n=(0,f.k)(),a="authenticated"===n.status,{channelSlug:i,channelUsername:o,chatroomId:d}=eW(),c=(0,eE.useQueryClient)(),{data:u}=(0,G.useQuery)(F.u.show(i)),h=M(e=>e.open),m=ex(e=>e.open),p=ev.a.useCreateBan(a,i),g=ev.a.useDeleteBan(a,i),v=ej.W.useDelete(a,d),j=D(a,i),C=eC.e.useModify(a,i),y=eb(null!==(t=null==u?void 0:null===(e=u.livestream)||void 0===e?void 0:e.slug)&&void 0!==t?t:""),w=D(a,i),b=eC.e.useCreatePinnedMessage(a,i),_=x.f.useDelete(a,i),H=F._.useAddChannelUserRole(a),N=F._.useRemoveChannelUserRole(a),L=e=>{if(p){if(e.username===o){P.A.error(s("BanToast.ban_broadcaster"));return}let t=c.getQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey);if(t){let s={permanent:!0,created_at:new Date().toISOString(),expires_at:""};c.setQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey,{...t,banned:s})}p.mutate({permanent:!0,banned_username:e.username},{onSuccess:s=>{(null==s?void 0:s.data)&&t&&c.setQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey,{...t,banned:{permanent:s.data.permanent,created_at:s.data.created_at,expires_at:s.data.expires_at}})},onError:()=>{t&&c.setQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey,t),e.isQuickAction||P.A.error(s("BanToast.ban_error",{username:e.username,channelUsername:o}))}})}},E=e=>{if(g){var t;if(e.username===o){P.A.error(s("BanToast.unban_broadcaster"));return}let l="unban"===(null!==(t=e.type)&&void 0!==t?t:"unban")?"BanToast.unban_error":"BanToast.untimeout_error",r=c.getQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey),a=c.getQueryData(ev.R.listBan("authenticated"===n.status,i).queryKey);r&&c.setQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey,{...r,banned:null}),a&&c.setQueryData(ev.R.listBan("authenticated"===n.status,i).queryKey,a.filter(t=>t.banned_user.username!==e.username)),g.mutate(e.username,{onError:()=>{r&&c.setQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey,r),a&&c.setQueryData(ev.R.listBan("authenticated"===n.status,i).queryKey,a),P.A.error(s(l,{username:e.username,channelUsername:o}))}})}},S=e=>{if(p){if(e.username===o){P.A.error(s("BanToast.timeout_broadcaster"));return}let t={permanent:!1,created_at:new Date().toISOString(),expires_at:new Date(Date.now()+6e4*e.minutes).toISOString()},n=c.getQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey);n&&c.setQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey,{...n,banned:t}),p.mutate({duration:e.minutes,banned_username:e.username,permanent:!1},{onSuccess:t=>{(null==t?void 0:t.data)&&n&&c.setQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey,{...n,banned:{permanent:t.data.permanent,created_at:t.data.created_at,expires_at:t.data.expires_at}})},onError:()=>{n&&c.setQueryData(F.u.getCleanUserDetailsForChat(i,e.username).queryKey,n),e.isQuickAction||P.A.error(s("BanToast.timeout_error",{username:e.username,channelUsername:o}))}})}},V=e=>{v&&v.mutate(e.messageId,{onError:()=>{P.A.error(s("message_deleted_error"))}})},k=()=>{j&&j.mutate({command:"clear"},{onError:()=>{P.A.error(s("Commands.clear_chat_error"))}})},B=e=>{if(C){let t,n;let l=Object.keys(e).length;if(void 0!==e.emotes_mode?(t=e.emotes_mode?"emote_only":"emote_only_off",n=e_.Z):void 0!==e.followers_mode?(t=e.followers_mode?"followers_only":"followers_only_off",n=eH.$):void 0!==e.subscribers_mode?(t=e.subscribers_mode?"subscribers_only":"subscribers_only_off",n=eL.s):void 0!==e.slow_mode&&(t=e.slow_mode?"slow_mode":"slow_mode_off",n=eN.v),l>2||l<1||!t){P.A.error(s("Commands.command_error"));return}C.mutate(e,{onError:()=>{t&&P.A.error(s("Commands.".concat(t,"_error")),n?{icon:n}:void 0)}})}},T=e=>{b&&b.mutate(e,{onError:()=>{P.A.error(s("pinned_message_error"))}})},Z=()=>{let e=c.getQueryData(F.u.show(i).queryKey),{setShouldIgnoreWSMatureUpdate:t}=eg.l.getState();(null==e?void 0:e.livestream)&&(t(!0),c.setQueryData(F.u.show(i).queryKey,{...e,livestream:{...e.livestream,is_mature:!e.livestream.is_mature}}),y.mutate({mature:!e.livestream.is_mature},{onError:()=>{t(!1),c.setQueryData(F.u.show(i).queryKey,e),P.A.error(s("set_mature_mode_error"))}}))},A=e=>{c.setQueryData(x.R.get(i).queryKey,t=>{var s,n,l,r;return{status:{code:200,message:"Poll retrieved successfully",error:!1},data:{poll:{...e,has_voted:(null==t?void 0:null===(n=t.data)||void 0===n?void 0:null===(s=n.poll)||void 0===s?void 0:s.has_voted)||!1,voted_option_id:(null==t?void 0:null===(r=t.data)||void 0===r?void 0:null===(l=r.poll)||void 0===l?void 0:l.voted_option_id)||null,created_at:new Date(Date.now()-1e3*e.remaining).toISOString()}}}})},I=()=>{c.setQueryData(x.R.get(i).queryKey,e=>e&&e.data?{...e,data:{...e.data,poll:null}}:e)},R=()=>{h()},U=()=>{var e;if(!_)return;let t=c.getQueryData(x.R.get(i).queryKey);(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.poll)&&_.mutate(void 0,{onSuccess:()=>{c.setQueryData(x.R.get(i).queryKey,{...t,data:{poll:null}})},onError:()=>{P.A.error(s("Commands.delete_poll_error"))}})},q=e=>{let t=e.ref||document.querySelector("#chatroom-messages");t&&((0,eS.AE)(t,eg.l.getState().userCanModerate),eg.l.getState().setIdentityUsername(e.username),eg.l.getState().setIdentityOpen(!0))},O=e=>{w&&w.mutate({command:"host",parameter:e.username},{onError:()=>{P.A.error(s("Commands.host_error"))}})},Q=()=>{if(!(null==u?void 0:u.livestream)){P.A.error(s("no_livestream_error"));return}if(u.livestream.viewer_count<z.RH){P.A.error(s("minimum_viewer_count_error",{count:z.RH,viewerCount:z.RH}));return}m()},K=e=>{var t;let s=c.getQueryData(F.u.me(a,i).queryKey);s&&(null===(t=n.user)||void 0===t?void 0:t.username)===e.gifter_username&&c.setQueryData(F.u.me(a,i).queryKey,{...s,leaderboards:{gifts:{quantity:s.leaderboards.gifts.quantity+e.gifted_usernames.length}}})},Y=e=>{H&&H.mutate({role:e.role,username:e.username,channel_slug:i},{onSuccess:()=>{c.resetQueries({queryKey:F.u.getCleanUserDetailsForChat(i,e.username).queryKey}),P.A.success(s("Commands.add_role_success",{username:e.username,role:e.role}))},onError:()=>{P.A.error(s("Commands.add_role_error",{username:e.username,role:e.role}))}})},J=e=>{N&&N.mutate({role:e.role,username:e.username,channel_slug:i},{onSuccess:()=>{c.resetQueries({queryKey:F.u.getCleanUserDetailsForChat(i,e.username).queryKey}),P.A.success(s("Commands.remove_role_success",{username:e.username,role:e.role}))},onError:()=>{P.A.error(s("Commands.remove_role_error",{username:e.username,role:e.role}))}})},W=e=>{if(w){if(!(null==u?void 0:u.livestream)){P.A.error(s("no_livestream_error"));return}w.mutate({command:"title",parameter:e.title},{onError:()=>{P.A.error(s("Commands.set_title_error"))}})}},$=()=>{if(!(null==u?void 0:u.livestream)){P.A.error(s("no_livestream_error"));return}(0,eM.c)()};return(0,l.useEffect)(()=>(eV.H.on(eF.t.Ban,L),eV.H.on(eF.t.Unban,E),eV.H.on(eF.t.Timeout,S),eV.H.on(eF.t.ClearCommand,k),eV.H.on(eF.t.ChatroomMode,B),eV.H.on(eF.t.DeleteMessage,V),eV.H.on(eF.t.SetMature,Z),eV.H.on(eF.t.OpenIdentity,q),eV.H.on(eF.t.PinMessage,T),eV.H.on(eF.t.HostChannel,O),eV.H.on(eF.t.HostChannelModal,Q),eV.H.on(eF.t.SubGift,K),eV.H.on(eF.t.UpdatePoll,A),eV.H.on(eF.t.CreatePoll,R),eV.H.on(eF.t.DeletePoll,U),eV.H.on(eF.t.DeletedPoll,I),eV.H.on(eF.t.AddRoleToUser,Y),eV.H.on(eF.t.RemoveRoleToUser,J),eV.H.on(eF.t.UpdateStreamTitle,W),eV.H.on(eF.t.UpdateCategory,$),()=>{eV.H.off(eF.t.Ban,L),eV.H.off(eF.t.Unban,E),eV.H.off(eF.t.Timeout,S),eV.H.off(eF.t.ClearCommand,k),eV.H.off(eF.t.ChatroomMode,B),eV.H.off(eF.t.DeleteMessage,V),eV.H.off(eF.t.SetMature,Z),eV.H.off(eF.t.OpenIdentity,q),eV.H.off(eF.t.PinMessage,T),eV.H.off(eF.t.HostChannel,O),eV.H.off(eF.t.HostChannelModal,Q),eV.H.off(eF.t.SubGift,K),eV.H.off(eF.t.UpdatePoll,A),eV.H.off(eF.t.CreatePoll,R),eV.H.off(eF.t.DeletePoll,U),eV.H.off(eF.t.DeletedPoll,I),eV.H.off(eF.t.AddRoleToUser,Y),eV.H.off(eF.t.RemoveRoleToUser,J),eV.H.off(eF.t.UpdateStreamTitle,W),eV.H.off(eF.t.UpdateCategory,$)}),[]),null},eB=()=>{let e=(0,f.k)(),{channelSlug:t}=eW(),{data:s}=(0,G.useQuery)(F.u.me("authenticated"===e.status,t)),n=e=>{let t=e.ref||document.querySelector("#chatroom-messages");t&&((0,eS.AE)(t,eg.l.getState().userCanModerate),eg.l.getState().setIdentityUsername(e.username),eg.l.getState().setIdentityOpen(!0))};return(0,l.useEffect)(()=>(eV.H.on(eF.t.OpenIdentity,n),()=>{eV.H.off(eF.t.OpenIdentity,n)}),[]),(0,l.useEffect)(()=>{s?eg.l.getState().setUserPermissions({isBroadcaster:s.is_broadcaster,isModerator:s.is_moderator,isAdmin:s.is_super_admin}):eg.l.getState().setUserPermissions({isBroadcaster:!1,isModerator:!1,isAdmin:!1})},[s]),null};var eT=s(58581),eD=s(48082),eZ=s(85095);let eA=()=>{var e,t,s;let a=(0,r.useTranslations)("GiftedSubModal"),i=(0,f.k)(),d="authenticated"===i.status,c=(0,eE.useQueryClient)(),{chatroomId:u,channelUsername:h,channelSlug:m}=eW(),[x,p]=(0,l.useState)(null),{data:g}=(0,G.useQuery)(F.u.show(m)),v=eT.$.useUpdateUserIdentity(d,String(null!==(t=null==g?void 0:g.id)&&void 0!==t?t:""),null!==(s=null===(e=i.user)||void 0===e?void 0:e.id.toString())&&void 0!==s?s:""),j=(0,eZ.Y)(e=>e.isPusherConnected),C=(0,eZ.Y)(e=>e.on),y=(0,eZ.Y)(e=>e.off),w=async e=>{if(e.chatroom_id===u&&i.user&&e.gifted_usernames.includes(i.user.username)&&(p(e.gifter_username),g)){var t,s,n,l,r,a,o,h;let e=await c.ensureQueryData(eT.C.getUserIdentity(String(g.id),null!==(r=null===(t=i.user)||void 0===t?void 0:t.id.toString())&&void 0!==r?r:"")),u=new Set((null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(n=l.identity)||void 0===n?void 0:null===(s=n.badges)||void 0===s?void 0:s.filter(e=>e.active&&!eS.a$.includes(e.type)).map(e=>e.type))||[]);u.size<3&&(u.add("subscriber"),null==v||v.mutate({badges:[...u],color:null!==(h=null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(a=o.identity)||void 0===a?void 0:a.color)&&void 0!==h?h:""},{onSuccess:e=>{if(e){var t,s;c.setQueryData(eT.C.getUserIdentity(String(g.id),null!==(s=null===(t=i.user)||void 0===t?void 0:t.id.toString())&&void 0!==s?s:"").queryKey,e)}}})),c.setQueryData(F.u.me(d,m).queryKey,e=>{var t,s,n,l;return e?{...e,subscription:{channel:{slug:g.slug,username:g.user.username,profile_image:g.user.profile_pic,banner_image:{src:null!==(n=null===(t=g.banner_image)||void 0===t?void 0:t.url)&&void 0!==n?n:"",srcset:null!==(l=null===(s=g.banner_image)||void 0===s?void 0:s.responsive)&&void 0!==l?l:""}},expires_at:new Date(Date.now()+2592e6).toISOString(),duration:1,origin:"stripe",type:"gift",status:"active"}}:e})}};return((0,l.useEffect)(()=>(j&&"authenticated"===i.status&&C("chatrooms.".concat(u,".v2"),"App\\Events\\GiftedSubscriptionsEvent",w),()=>{u&&j&&y("chatrooms.".concat(u,".v2"),"App\\Events\\GiftedSubscriptionsEvent",w)}),[j,i.status]),x)?(0,n.jsx)(o.fC,{open:!0,onOpenChange:e=>{e||p(null)},children:(0,n.jsxs)(o.VY,{className:"flex flex-col items-center gap-4",children:[(0,n.jsx)(eD.O,{width:48,height:48}),(0,n.jsx)("span",{children:a("congratulation")}),(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)("span",{children:a.rich("user_has_gifted_you",{user:()=>(0,n.jsx)("span",{className:"font-semibold",children:x}),channel:()=>(0,n.jsx)("span",{className:"font-semibold",children:h})})}),(0,n.jsx)("span",{children:a("you_can_check_it")})]})]})}):null};var eP=s(12567);let eI=e=>{let{channelSlug:t,chatroomId:s}=e,n=(0,eE.useQueryClient)(),r="authenticated"===(0,f.k)().status,a=(0,eZ.Y)(e=>e.isPusherConnected),i=(0,eZ.Y)(e=>e.on),o=(0,eZ.Y)(e=>e.off),{data:d}=(0,G.useQuery)(eC.y.get(t)),{data:c}=(0,G.useQuery)(F.u.me(r,t)),u=(0,l.useCallback)(e=>{e.id===s&&n.setQueryData(eC.y.get(t).queryKey,e)},[t,s,n]);return(0,l.useEffect)(()=>{d?eP.T.getState().setApiChatSettings(d):eP.T.getState().resetApiChatSettings()},[d]),(0,l.useEffect)(()=>{let{setUserIsSubscriber:e,setUserFollowValues:t}=eg.l.getState();if(!c||!r){t({isFollower:!1,isMeetingFollowRequirement:!1}),e(!1);return}if(e(!!(c.subscription&&new Date(c.subscription.expires_at)>new Date)),null==d?void 0:d.followers_mode.enabled){if(!c.is_following||!c.following_since){t({isFollower:!1,isMeetingFollowRequirement:!1});return}let e=new Date(c.following_since).getTime();t({isFollower:!0,isMeetingFollowRequirement:new Date().getTime()-6e4*d.followers_mode.min_duration>e})}else t({isFollower:c.is_following,isMeetingFollowRequirement:c.is_following})},[null==d?void 0:d.followers_mode,c,r]),(0,l.useEffect)(()=>{let e=null;if(!(null==c?void 0:c.following_since)||!(null==d?void 0:d.followers_mode.min_duration))return;let s=new Date(c.following_since).getTime(),l=new Date().getTime()-6e4*d.followers_mode.min_duration;return s>l&&(e=setTimeout(()=>{n.setQueryData(F.u.me(!0,t).queryKey,e=>{if(e&&e.following_since){let t=new Date(e.following_since).getTime()+1;return{...e,following_since:new Date(t).toISOString()}}return e})},s-l)),()=>{e&&clearTimeout(e)}},[null==c?void 0:c.following_since,null==d?void 0:d.followers_mode.min_duration,t,n]),(0,l.useEffect)(()=>(a&&i("chatrooms.".concat(s,".v2"),"App\\Events\\ChatroomUpdatedEvent",u),()=>{a&&o("chatrooms.".concat(s,".v2"),"App\\Events\\ChatroomUpdatedEvent",u)}),[a,s]),null},ez=(e,t)=>(0,B.rK)("/api/v2/silenced-users",null,{method:"POST",signal:e,body:JSON.stringify(t)}),eR=(e,t)=>(0,B.rK)("/api/v2/silenced-users/".concat(t),null,{method:"DELETE",signal:e}),eU=e=>(0,B.rK)("/api/v2/silenced-users",null,{method:"GET",signal:e}),eq={get:e=>(0,ey.C)({queryKey:["SilencedUser","get"],queryFn:e=>{let{signal:t}=e;return eU(t)},enabled:e})},eO=e=>{let t=(0,k.useMutation)({mutationFn:async e=>ez(null,e)});return e?t:null},eQ=e=>{let t=(0,k.useMutation)({mutationFn:async e=>eR(null,e)});return e?t:null};var eK=s(21152);let eG=()=>{let e=(0,r.useTranslations)("MutedUsers"),t=(0,eE.useQueryClient)(),s="authenticated"===(0,f.k)().status,{data:n}=(0,G.useQuery)({...eq.get(s),staleTime:36e5,gcTime:(0,eK.d)(36e5)}),a=eO(s),i=eQ(s),o=l=>{"mute"===l.type?(t.setQueryData(eq.get(s).queryKey,e=>{if(e)return{...e,data:[...e.data,{username:l.username,id:l.userId}]}}),null==a||a.mutate({user_id:l.userId},{onSuccess:()=>{eg.l.getState().filterEntriesAfterMute(),P.A.success(e("user_muted_success",{username:l.username}))},onError:()=>{t.setQueryData(eq.get(s).queryKey,n),P.A.error(e("user_muted_error",{username:l.username}))}})):"unmute"===l.type&&(t.setQueryData(eq.get(s).queryKey,e=>{if(e)return{...e,data:[...e.data.filter(e=>e.id!==l.userId)]}}),null==i||i.mutate(l.userId,{onSuccess:()=>{P.A.success(e("user_unmuted_success",{username:l.username}))},onError:()=>{P.A.error(e("user_unmuted_error",{username:l.username}))}}))};return(0,l.useEffect)(()=>{(null==n?void 0:n.data)&&eg.l.getState().setMutedUsers(n.data)},[null==n?void 0:n.data]),(0,l.useEffect)(()=>(eV.H.on(eF.t.ToggleMuteUser,o),()=>{eV.H.off(eF.t.ToggleMuteUser,o)}),[]),null},eY=(0,l.createContext)({channelId:0,channelSlug:"",channelUsername:"",chatroomId:0,subscriberBadges:[],isChatRulesAccepted:!0,setIsChatRulesAccepted:()=>{},asChatroomHistory:!1}),eJ=e=>{var t,s,r,a,i,o;let{children:d,value:c}=e,[u]=(0,l.useState)(null!==(s=c.channelId)&&void 0!==s?s:0),[h]=(0,l.useState)(null!==(r=c.chatroomId)&&void 0!==r?r:0),[m]=(0,l.useState)(null!==(a=c.channelSlug)&&void 0!==a?a:""),[x]=(0,l.useState)(null!==(i=c.channelUsername)&&void 0!==i?i:""),[f]=(0,l.useState)(null!==(o=null===(t=c.subscriberBadges)||void 0===t?void 0:t.sort((e,t)=>e.months-t.months))&&void 0!==o?o:[]),[p,g]=(0,l.useState)(!0),v=(0,eg.l)(e=>e._hasHydrated);return(0,l.useEffect)(()=>{eg.l.getState()._afterHydrate()},[v]),(0,l.useEffect)(()=>{let e=e=>{let{key:t,newValue:s}=e,n=eg.l.persist;t===n.getOptions().name&&s&&(n.rehydrate(),eg.l.getState()._afterHydrate())};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[]),(0,n.jsx)(eY.Provider,{value:{channelId:u,chatroomId:h,channelSlug:m,channelUsername:x,subscriberBadges:f,isChatRulesAccepted:p,setIsChatRulesAccepted:g},children:(0,n.jsx)(V,{initialValue:{channelSlug:m},children:(0,n.jsxs)(ep,{children:[c.asChatroomHistory&&(0,n.jsx)(eB,{}),!c.asChatroomHistory&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ek,{}),(0,n.jsx)(eA,{}),(0,n.jsx)(S,{}),(0,n.jsx)(ef,{}),(0,n.jsx)(eI,{channelSlug:m,chatroomId:h})]}),(0,n.jsx)(eG,{}),d]})})})},eW=()=>(0,l.useContext)(eY)},92684:function(e,t,s){"use strict";s.d(t,{ChatroomReplayProvider:function(){return a}});var n=s(27573),l=s(7653);let r=(0,l.createContext)({channelId:0,channelSlug:"",channelUsername:"",subscriberBadges:[]}),a=e=>{var t,s,a,i,o;let{children:d,value:c}=e,[u]=(0,l.useState)(null!==(s=c.channelId)&&void 0!==s?s:0),[h]=(0,l.useState)(null!==(a=c.channelSlug)&&void 0!==a?a:""),[m]=(0,l.useState)(null!==(i=c.channelUsername)&&void 0!==i?i:""),[x]=(0,l.useState)(null!==(o=null===(t=c.subscriberBadges)||void 0===t?void 0:t.sort((e,t)=>e.months-t.months))&&void 0!==o?o:[]);return(0,n.jsx)(r.Provider,{value:{channelId:u,channelSlug:h,channelUsername:m,subscriberBadges:x},children:d})}},7323:function(e,t,s){"use strict";s.d(t,{$:function(){return o}});var n=s(27573),l=s(20080);let r={trainwreckstv:e=>{let{...t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",...t,children:[(0,n.jsx)("path",{fill:"#dff0fe",d:"m17.3 31.7-2.2-.1V11a16.5 16.5 0 0 1 9.6 1.8v.5c0 .4.1 1 .5 1.3.3.2.7.2 1 .2h1.3a9 9 0 0 1 2.9 6.5c0 5.7-6 10.3-13.1 10.3z"}),(0,n.jsx)("path",{fill:"#4788c7",d:"M17.3 11.5c2.5 0 4.9.6 7 1.7v.2c0 .5 0 1.2.6 1.7.5.3 1 .3 1.3.3h1a8.5 8.5 0 0 1 2.7 6c0 5.4-5.7 9.8-12.6 9.8h-1.7V11.5l1.7-.1m0-1c-1 0-1.9 0-2.7.2V32l2.7.2c7.5 0 13.6-4.8 13.6-10.8 0-2.6-1.2-5-3-6.8-.2-.2-.4-.2-.7-.2h-1c-.3 0-.5 0-.7-.2-.4-.2 0-1.5-.5-1.8a16 16 0 0 0-7.7-1.9z"}),(0,n.jsx)("path",{fill:"#dff0fe",d:"M32 38.5c-1.3 0-2.5-1.1-2.5-2.3 0-.6.1-1.3.8-1.8l.3-.2-.1-.4c-.2-.4-.9-2.6-1-4.8v-.3l-.3-.2a5 5 0 0 1-2.1-2 5.3 5.3 0 0 1-.8-4.1l.1-.4-.3-.2c-1.3-.8-2-2.1-2-3.6s1-2.2 2.2-3c.7-.5 1.4-1 2-1.7 2 .1 4.2 1.9 4.2 6.5v.2l.1.2c1.8 1.7 1.9 4 1.9 6.6v.2l.1.1a9.9 9.9 0 0 1 1.9 5.7v.2c.5.8 1 1.5 1 2.8 0 1.2-.8 2.5-2.5 2.5h-3z"}),(0,n.jsx)("path",{fill:"#4788c7",d:"M28.5 14c2.2.3 3.5 2.5 3.5 6v.4l.3.3c1.6 1.6 1.7 3.9 1.7 6.3v.4l.2.2A9.5 9.5 0 0 1 36 33v.3l.2.3c.4.6.8 1.3.8 2.4 0 .3-.1 2-2 2h-3c-1 0-2-.9-2-1.8 0-.4.1-1 .6-1.4l.6-.4-.3-.7c0-.4-.8-2.6-.9-4.8v-.6l-.6-.2c-.7-.3-1.2-.9-1.9-1.8-.7-1.2-1-2.5-.7-3.8l.2-.7-.6-.4c-1.2-.7-1.8-2-1.8-3.2 0-1.1.7-1.7 2-2.6l1.9-1.6m-.5-1c-1.4 2-4.5 2.5-4.5 5.2a5 5 0 0 0 2.3 4c-.3 1.5 0 3.2.9 4.6.6 1 1.3 1.8 2.3 2.2.1 2.1.8 4.3 1 5-.7.5-1 1.3-1 2.2 0 1.5 1.5 2.8 3 2.8h3c2 0 3-1.5 3-3a5 5 0 0 0-1-3c0-.6-.1-3.7-2-6 0-2.3 0-5-2-7 0-5-2.4-7-5-7z"}),(0,n.jsx)("path",{fill:"#dff0fe",d:"M4 38.5A2.4 2.4 0 0 1 1.5 36a5 5 0 0 1 1-2.8V33c0-2 .3-5 2-6.7l.1-.1v-.3l-.1-.9c0-2.6 2-4.5 4.6-4.5a5 5 0 0 1 4.3 2.6l.2.2h.2c2.5.5 4.3 2.2 4.3 4.2 0 2.2-2.7 4-6 4a7 7 0 0 1-2-.3l-.6-.2v.7c0 .4-.3 2-1 3l-.4.8H9c.7 0 1.5.7 1.5 1.5 0 .9-.8 1.5-1.5 1.5H4z"}),(0,n.jsx)("path",{fill:"#4788c7",d:"M9.1 21c1.6 0 3.1.9 4 2.3l.1.4.5.1c2.3.4 4 2 4 3.7 0 1.9-2.6 3.5-5.6 3.5-.6 0-1.2 0-1.8-.3L9 30.4v1.3c0 .3-.3 1.9-.9 2.8L7.3 36H9c.5 0 1 .5 1 1 0 .6-.5 1-1 1H4a2 2 0 0 1-2-2c0-.9.4-1.6.9-2.5l.1-.2V33c0-2 .3-4.7 1.8-6.3l.4-.4-.1-.5L5 25c0-2.4 1.7-4 4.1-4m0-1c-3 0-5.1 2-5.1 5l.1 1C2.4 27.8 2 30.6 2 33c-.5 1-1 2-1 3a3 3 0 0 0 3 3h5c1 0 2-.9 2-2s-1-2-2-2c.6-1 1-2.8 1-3.3l2.1.3c3.4 0 6.5-2 6.5-4.5 0-2.3-2-4.2-4.7-4.7A5.4 5.4 0 0 0 9 20z"}),(0,n.jsx)("path",{fill:"#dff0fe",d:"M16 38.5c-1.2 0-2.5-1-2.5-2.2 0-.9.8-1.6 1.6-1.8l.6-.2-.2-.5a24 24 0 0 1-1-2.5l-.1-.2-.3-.1a4 4 0 0 1-2.7-3.1c-.2-.6-.1-1.1 0-1.8V26l-.1-.2-.7-.9a6.5 6.5 0 0 1-.8-5.6l.1-.3-.2-.2A6.5 6.5 0 0 1 8.5 15c0-3.1 2.6-5.5 6-5.5h.8l.1-.2c2.6-5 4.8-7.8 8.6-7.8 2.2 0 5.5 4 5.5 6.1 0 .4 0 .9-2.2.9l-.6.3c-.3.4 0 1 .7 2.7l.7 1.6-.2.5-.2.8-.6.3.5.4c1.7 1.8 2.9 4.8 2.9 6.9 0 3.8-2.6 6.7-7.7 8.5l-.3.1v.4l-.2 1.2v.4c.8 1 1.2 2.2 1.2 3.4 0 1.2-.9 2.5-2.5 2.5h-5z"}),(0,n.jsx)("path",{fill:"#4788c7",d:"M24 2c2 0 5 3.8 5 5.6v.2c-.1 0-.5.2-1.7.2-.4 0-.8.2-1 .5-.4.7 0 1.7.7 3.2.2.4.5 1 .5 1.3a13.1 13.1 0 0 0-.2 1l-.9.5.9 1A11 11 0 0 1 30 22c0 3.6-2.5 6.3-7.3 8l-.6.3-.1.6-.2 1.2-.1.5.3.3c.6.9 1 2 1 3.1 0 1-.7 2-2 2h-5c-1 0-2-.8-2-1.7 0-.6.6-1.2 1.2-1.3l1.2-.3-.5-1.1-1-2.4-.1-.5-.6-.2a3.4 3.4 0 0 1-2.4-2.7l.1-1.6.1-.5-.3-.4-.6-.7a6 6 0 0 1-.8-5.3l.2-.5-.4-.4A6 6 0 0 1 9 15c0-2.9 2.4-5 5.5-5h1.1l.3-.5C18.4 4.8 20.5 2 24 2m0-1c-4.1 0-6.5 3.3-9 8h-.5C10.8 9 8 11.6 8 15c0 1.3.6 3 1.4 4a7 7 0 0 0 1.5 7c-.1.7-.2 1.3 0 2 .3 1.8 1.6 3 3.1 3.5l1 2.5c-1 .3-2 1.2-2 2.3 0 1.5 1.5 2.7 3 2.7h5a3 3 0 0 0 3-3c0-1.1-.4-2.6-1.2-3.7L23 31c4.7-1.7 8-4.6 8-9a12 12 0 0 0-3-7.2c.3-.2.4-1.2.5-1.6.2-.6-2-4.2-1.2-4.2 2.6 0 2.7-.7 2.7-1.4C30 5.2 26.5 1 24 1z"}),(0,n.jsx)("path",{fill:"#dff0fe",stroke:"#4788c7",strokeLinecap:"round",strokeMiterlimit:"10",d:"M17.5 16.5c2.8 1.1 3.7 5.2 3.1 7.4l-.1.4a11 11 0 0 1 1.8 8"}),(0,n.jsx)("path",{fill:"#b6dcfe",d:"M27 14.5c-.6 0-1-.2-1.3-.5-.3-.5-.2-1.4 0-2l.3-.4-.5-.2-.7-.5c-.8-.8-.4-1.9 0-2.2 0 0 .1-.2.3-.2H28c.6 0 1.1.1 1.3.4.2.3.1.7 0 1v.4c.4 1 .1 2.2-.7 3.3a2 2 0 0 1-1.6.9z"}),(0,n.jsx)("path",{fill:"#4788c7",d:"M25.6 9H28c.6 0 .9.1.9.2v.6l-.2.3.1.3c.4 1 0 2.1-.6 3-.4.4-.7.6-1.2.6-.4 0-.7-.1-.9-.3-.2-.3-.1-1 .1-1.5l.4-.9-.9-.4a2 2 0 0 1-.5-.4c-.6-.6-.3-1.3-.2-1.4h.1l.2-.1h.3M28 8h-3l-.7.4c-.4.5-.8 1.8.2 2.8.3.3.5.5.8.6-.5 1.2-.6 3.2 1.7 3.2 1.2 0 1.8-.8 2-1.1.8-1 1.3-2.5.8-3.8.5-1.6-.4-2.1-1.8-2.1z"}),(0,n.jsx)("path",{fill:"#4788c7",d:"m26 13.2.1.5.2.1 2-.6V13c-.7 0-1.8 0-2.3.2zm3-1.9v.1l-.2.6h-1.5l-.3-.5v-.1c0-.2.2-.4.5-.4l.4.1.2.1h.2c0-.1.1-.2.3-.2.2 0 .4.1.4.3zM26.5 9a.5.5 0 1 0 0 1 .5.5 0 1 0 0-1zm2 0a.5.5 0 1 0 0 1 .5.5 0 1 0 0-1z"})]})},founder:e=>{let{...t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...t,children:[(0,n.jsx)("g",{clipPath:"url(#FounderBadgeA)",children:(0,n.jsx)("path",{fill:"url(#FounderBadgeB)",fillRule:"evenodd",d:"M29.3 8V5.4h-2.7V2.7H24V0H8v2.7H5.4v2.7H2.6V8H0v16h2.6v2.6h2.8v2.7H8V32h16v-2.7h2.6v-2.7h2.7V24H32V8h-2.7Zm-9.5 17.7h-6.5V12.8H9v-2.4h2V8.2h2v-2h7v19.5Z",clipRule:"evenodd"})}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"FounderBadgeB",x1:"15.7",x2:"16.3",y1:"-4.5",y2:"36.7",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FFC900"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FF9500"})]}),(0,n.jsx)("clipPath",{id:"FounderBadgeA",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h32v32H0z"})})]})]})},broadcaster:e=>{let{...t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...t,children:[(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"HostBadgeA",x1:"16",x2:"16",y1:"-197.5",y2:"118.7",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FF1CD2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#B20DFF"})]}),(0,n.jsxs)("linearGradient",{id:"HostBadgeB",x1:"16",x2:"16",y1:"0",y2:"0",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FF1CD2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#B20DFF"})]}),(0,n.jsxs)("linearGradient",{id:"HostBadgeC",x1:"16",x2:"16",y1:"-64",y2:"-64",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FF1CD2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#B20DFF"})]}),(0,n.jsxs)("linearGradient",{id:"HostBadgeD",x1:"16",x2:"16",y1:"-197.5",y2:"118.7",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FF1CD2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#B20DFF"})]}),(0,n.jsxs)("linearGradient",{id:"HostBadgeE",x1:"16",x2:"16",y1:"-74.7",y2:"-74.7",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FF1CD2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#B20DFF"})]}),(0,n.jsxs)("linearGradient",{id:"HostBadgeF",x1:"27.2",x2:"27.2",y1:"-.5",y2:"31.1",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FF1CD2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#B20DFF"})]})]}),(0,n.jsx)("path",{fill:"url(#HostBadgeA)",d:"M9.6 19.2H6.4v3.2h3.2v-3.2Z"}),(0,n.jsx)("path",{fill:"url(#HostBadgeB)",d:"M12.8 19.2h6.4V16h3.2V3.2h-3.2V0h-6.4v3.2H9.6V16h3.2v3.2Z"}),(0,n.jsx)("path",{fill:"url(#HostBadgeC)",d:"M6.4 12.8H3.2v6.4h3.2v-6.4Z"}),(0,n.jsx)("path",{fill:"url(#HostBadgeD)",d:"M25.6 19.2h-3.2v3.2h3.2v-3.2Z"}),(0,n.jsx)("path",{fill:"url(#HostBadgeE)",d:"M9.6 22.4v3.2h3.2v3.2H9.6V32h12.8v-3.2h-3.2v-3.2h3.2v-3.2H9.6Z"}),(0,n.jsx)("path",{fill:"url(#HostBadgeF)",d:"M25.6 12.8v6.4h3.2v-6.4h-3.2Z"})]})},moderator:e=>{let{...t}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...t,children:(0,n.jsx)("path",{fill:"#00C7FF",d:"M23.5 2.5v3h-3v3h-3v3h-3v3h-3v-3h-6v6h3v3h-3v3h-3v6h6v-3h3v-3h3v3h6v-6h-3v-3h3v-3h3v-3h3v-3h3v-6h-6Z"})})},og:e=>{let{...t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#OGBadgeA)",children:[(0,n.jsx)("path",{fill:"url(#OGBadgeB)",d:"M32 32H18.3v-1.6h-1.5v-16h1.5v-1.6H32v6.4h-9v9.6h3v-3.2h-1.6v-3.2H32V32Z"}),(0,n.jsx)("path",{fill:"url(#OGBadgeC)",d:"M13.6 17.6v1.6h-12v-1.6H0v-16h1.5V0h12.2v1.6h1.5v16h-1.6Zm-4.5-4.8V3.2H6v9.6h3Z"}),(0,n.jsx)("path",{fill:"#00FFF2",d:"M13.6 30.4V32h-12v-1.6H0V17.6h1.5V16h12.2v1.6h1.5v12.8h-1.6Zm-4.5-1.6v-9.6H6v9.6h3ZM32 16H18.3v-1.6h-1.5V1.6h1.5V0H32v3.2h-9v9.6h3V9.6h-1.6V6.4H32V16Z"})]}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"OGBadgeB",x1:"16",x2:"16",y1:"32",y2:"2.5",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#00FFF2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#006399"})]}),(0,n.jsxs)("linearGradient",{id:"OGBadgeC",x1:"15.5",x2:"16.1",y1:".4",y2:"31.7",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#00FFF2"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#006399"})]}),(0,n.jsx)("clipPath",{id:"OGBadgeA",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h32v32H0z"})})]})]})},staff:e=>{let{...t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...t,children:[(0,n.jsx)("path",{fill:"url(#StaffBadgeA)",fillRule:"evenodd",d:"M4.1 2.7h9v5.9H16v-3h3v-3h8.9v9h-3v3h-3v2.9h3v3h3v8.8h-9v-3H16v-2.9h-3v6H4.1V2.6Z",clipRule:"evenodd"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"StaffBadgeA",x1:"10.8",x2:"21",y1:"31.2",y2:"1.4",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#1EFF00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#00FF8C"})]})})]})},sub_gifter:e=>{let{...t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#SubGifterBadgeA)",children:[(0,n.jsx)("path",{fill:"#FF5008",d:"M16 13.3 1 6.7v6l1.3.6v12.2L16 32V13.2Z"}),(0,n.jsx)("path",{fill:"#FF5008",d:"M16 21.5v-2.3l-13.7-6v2.2l13.7 6Z"}),(0,n.jsx)("path",{fill:"#FFC800",d:"M31 6.7v6l-1.3.6v12.2L16 32V13.4l-6.4-2.8-3-1.4L1 6.7 7.3 4l2.9-1.3L16 0l5.8 2.6 2.8 1.3L31 6.7Z"}),(0,n.jsx)("path",{fill:"#FF5008",d:"M29.7 13.3v2.1l-13.7 6v-2.2l13.7-6Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"SubGifterBadgeA",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h32v32H0z"})})})]})},subscriber:e=>{let{...t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...t,children:[(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"SubscriberBadgeB",x1:"-4.7",x2:"84.5",y1:"-25.5",y2:"152.9",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#E1FF00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#2AA300"})]}),(0,n.jsxs)("linearGradient",{id:"SubscriberBadgeC",x1:".8",x2:"41.4",y1:"-19",y2:"42.6",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#E1FF00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#2AA300"})]}),(0,n.jsxs)("linearGradient",{id:"SubscriberBadgeD",x1:"16",x2:"16",y1:"-6.6",y2:"40.2",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#E1FF00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#2AA300"})]}),(0,n.jsxs)("linearGradient",{id:"SubscriberBadgeE",x1:"45.9",x2:"-10.6",y1:"16",y2:"16",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#E1FF00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#2AA300"})]}),(0,n.jsxs)("linearGradient",{id:"SubscriberBadgeF",x1:"16",x2:"16",y1:"47.2",y2:"-4.8",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#E1FF00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#2AA300"})]}),(0,n.jsxs)("linearGradient",{id:"SubscriberBadgeG",x1:"-13.1",x2:"42.7",y1:"16",y2:"16",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#E1FF00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#2AA300"})]}),(0,n.jsxs)("linearGradient",{id:"SubscriberBadgeH",x1:"13.4",x2:"24.5",y1:"10.9",y2:"32.9",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#E1FF00"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#2AA300"})]}),(0,n.jsx)("clipPath",{id:"SubscriberBadgeA",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h32v32H0z"})})]}),(0,n.jsxs)("g",{clipPath:"url(#SubscriberBadgeA)",children:[(0,n.jsx)("path",{fill:"url(#SubscriberBadgeB)",d:"M29.5 14.6v-2.4h-4.9V9.7h-2.5V7.3h-2.4v-5h-2.4V0h-2.6v2.4h-2.4v5H9.9v2.3H7.4v2.5h-5v2.4H0v2.8h2.5v2.4h4.9v2.5h2.5v2.4h2.4v5h2.4V32h2.6v-2.4h2.4v-5h2.4v-2.3h2.5v-2.5h5v-2.4H32v-2.8h-2.5Z"}),(0,n.jsx)("path",{fill:"url(#SubscriberBadgeC)",d:"M14.7 14.6v15h-2.4v-5H9.9v-2.3H7.4v-2.5h-5v-2.4H0v-2.8h14.7Z"}),(0,n.jsx)("path",{fill:"url(#SubscriberBadgeD)",d:"M14.7 14.6v15h-2.4v-5H9.9v-2.3H7.4v-2.5h-5v-2.4H0v-2.8h14.7Z"}),(0,n.jsx)("path",{fill:"url(#SubscriberBadgeE)",d:"M17.3 0v14.6H2.5v-2.4h4.9V9.7h2.5V7.3h2.4v-5h2.4V0h2.6Z"}),(0,n.jsx)("path",{fill:"url(#SubscriberBadgeF)",d:"M17.3 17.4v-15h2.4v5h2.4v2.3h2.5v2.5h5v2.4H32v2.8H17.3Z"}),(0,n.jsx)("path",{fill:"url(#SubscriberBadgeG)",d:"M14.7 32V17.4h14.8v2.4h-4.9v2.5h-2.5v2.4h-2.4v5h-2.4V32h-2.6Z"}),(0,n.jsx)("path",{fill:"url(#SubscriberBadgeH)",d:"M17.3 14.6h-2.6v2.8h2.6v-2.8Z"})]})]})},verified:e=>{let{...t}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,n.jsx)("path",{fill:"#1EFF00",d:"M16 6.83512L13.735 4.93512L13.22 2.02512H10.265L8 0.120117L5.735 2.02012H2.78L2.265 4.93012L0 6.83512L1.48 9.39512L0.965 12.3051L3.745 13.3151L5.225 15.8751L8.005 14.8651L10.785 15.8751L12.265 13.3151L15.045 12.3051L14.53 9.39512L16.01 6.83512H16ZM6.495 12.4051L2.79 8.69512L4.205 7.28012L6.495 9.57512L11.29 4.78012L12.705 6.19512L6.5 12.4001L6.495 12.4051Z"})})},vip:e=>{let{...t}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",...t,children:[(0,n.jsx)("path",{fill:"url(#VIPBadgeA)",d:"M27.8 4.8V7h-2.5v4.5h-2.1v2.3h-2.3V9.3h-2.4V2.6h-5v6.7H11v4.5H8.8v-2.3H6.7V7H4.2V4.8H0v24.6h32V4.8h-4.2Z"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"VIPBadgeA",x1:"16",x2:"16",y1:"-1",y2:"35.1",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#FFC900"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FF9500"})]})})]})}};var a=s(62219),i=s(35449);let o=e=>{let{badgeType:t,badgeSize:s,className:o,customBadgeUrl:d,tooltipText:c,giftCount:u}=e,h=r[t],m={width:"m"===s?"16px":"l"===s?"18px":"xl"===s?"20px":"calc(1em*18/13)",height:"m"===s?"16px":"l"===s?"18px":"xl"===s?"20px":"calc(1em*18/13)"};return(0,n.jsx)("div",{className:(0,i.cn)("inline-flex shrink-0 items-center",o,"m"===s&&"size-4 text-base","l"===s&&"size-[18px] text-[18px]","xl"===s&&"size-5 text-xl","text"===s&&"h-[calc(1em*18/13)] w-[calc(1em*18/13)]"),children:(0,n.jsx)(a.u,{text:c,children:(0,n.jsx)("div",{children:u?(0,n.jsx)(l.E,{quantity:u,...m}):d?(0,n.jsx)("img",{src:d,alt:c,...m}):(0,n.jsx)(h,{...m})})})})}},14991:function(e,t,s){"use strict";s.d(t,{R:function(){return d}});var n=s(27573),l=s(69389),r=s(7653),a=s(35449),i=s(39475),o=s(7323);let d=(0,r.memo)(e=>{let{badgeSize:t,className:s,subscriberBadges:r,shouldParseIdentity:d,profile:c}=e,u=(0,l.useTranslations)("IdentityBadges"),h="trainwreckstv"===c.slug,m=d?(0,i.M5)({badges:c.identity.badges,mode:"active"}):(0,i.Ds)({badges:c.identity.badges});return m.length?(0,n.jsxs)("div",{className:(0,a.cn)("flex items-center",s),children:[h&&(0,n.jsx)(o.$,{badgeType:"trainwreckstv",badgeSize:t,tooltipText:"trainwreckstv"}),m.map(e=>{if("subscriber"===e){let s=c.identity.badges.find(e=>"subscriber"===e.type);if(s){let l=(0,i.jj)(s.count||1,r);if(l)return(0,n.jsx)(o.$,{badgeType:e,badgeSize:t,customBadgeUrl:l,tooltipText:u("subscriber_for_x_months",{months:s.count||1})},e)}}if("sub_gifter"===e){var s;let l=(null===(s=c.identity.badges.find(e=>"sub_gifter"===e.type))||void 0===s?void 0:s.count)||1;return(0,n.jsx)(o.$,{badgeType:e,badgeSize:t,tooltipText:u("gifted_subs_quantity",{quantity:l}),giftCount:l},e)}return(0,n.jsx)(o.$,{badgeType:e,badgeSize:t,tooltipText:"trainwreckstv"===e?"trainwreckstv":u(e)},e)})]}):null})},59079:function(e,t,s){"use strict";s.d(t,{D:function(){return u}});var n=s(27573),l=s(7653),r=s(35449),a=s(97912),i=s(47875),o=s(79423),d=s(33837),c=s(14991);let u=(0,l.memo)(e=>{let{sender:t,showcaseOnly:s,truncateUsername:u,messageId:h}=e,m=(0,l.useRef)(null),{subscriberBadges:x}=(0,d.r)(),f=t.identity.badges.length>0&&"active"in t.identity.badges[0];return(0,n.jsxs)("div",{ref:m,className:"betterhover:hover:bg-[#474f54] inline-flex min-w-0 cursor-pointer flex-nowrap items-baseline rounded transition-colors duration-150 ease-out active:bg-[#474f54AA]",children:[(0,n.jsx)(c.R,{subscriberBadges:x,shouldParseIdentity:f,profile:t,badgeSize:"text",className:"gap-1 self-center pr-1"}),(0,n.jsx)("button",{className:(0,r.cn)("inline font-bold",u&&"truncate"),title:t.username,onClick:s?void 0:e=>{if(!e.ctrlKey&&!e.shiftKey&&!e.metaKey||!a.l.getState().enableModQuickShortcuts||!a.l.getState().userCanModerate){i.H.emit(o.t.OpenIdentity,{username:t.username,ref:m.current||void 0});return}e.shiftKey&&(e.ctrlKey||e.metaKey)?i.H.emit(o.t.Timeout,{username:t.username,minutes:5}):e.ctrlKey||e.metaKey?i.H.emit(o.t.DeleteMessage,{messageId:h}):e.shiftKey&&i.H.emit(o.t.Ban,{username:t.username,reason:""})},style:{color:t.identity.color||"#ffffff"},children:t.username})]})})},59741:function(e,t,s){"use strict";s.d(t,{JoinHostDialogWrapper:function(){return E}});var n=s(27573),l=s(69389),r=s(7653),a=s(78406),i=s(85095),o=s(34109),d=s(26363),c=s(25897),u=s(8817),h=s(11396),m=s(2560),x=s(33837),f=s(67183),p=s(24326);let g=e=>{let{src:t,srcSet:s,alt:r}=e,a=(0,l.useTranslations)("Global");return(0,n.jsxs)("div",{className:"relative aspect-video w-full overflow-hidden rounded",children:[(0,n.jsx)("span",{className:"z-absolute text-primary absolute left-1.5 top-1.5 rounded bg-[#070809] bg-opacity-80 px-1.5 py-1 text-xs font-semibold uppercase",children:a("live")}),(0,n.jsx)("img",{src:t,srcSet:s,alt:r,className:"h-full w-full object-cover"})]})};g.displayName="JoinHostDialog.LivestreamPreview";let v=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex w-full flex-row flex-nowrap items-start justify-between",children:t})};v.displayName="JoinHostDialog.HostedChannelSection";let j=e=>{let{src:t,alt:s}=e;return(0,n.jsx)(f.l.Root,{className:"!size-8",children:(0,n.jsx)(f.l.Image,{src:t,alt:s})})};j.displayName="JoinHostDialog.HostedChannelAvatar";let C=e=>{let{children:t}=e;return(0,n.jsx)("span",{className:"text-sm font-bold leading-4 text-[#B8B8B8]",children:t})};C.displayName="JoinHostDialog.HostedChannelCategory";let y=e=>{let{children:t}=e;return(0,n.jsxs)("div",{className:"flex flex-row items-center justify-center gap-1 text-center text-sm font-normal leading-4 text-white",children:[(0,n.jsx)("div",{className:"size-2 rounded-full bg-green-500"}),t]})};y.displayName="JoinHostDialog.HostedChannelViewerCount";let w=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex w-full flex-row flex-nowrap items-center justify-between",children:t})};w.displayName="JoinHostDialog.CurrentChannelSection";let b=e=>{let{viewerCount:t}=e,s=(0,l.useTranslations)("JoinHostDialog");return(0,n.jsx)("p",{className:"text-sm font-semibold text-white",children:s.rich("current_channel_viewer_count",{viewerCount:()=>(0,n.jsx)("span",{className:"text-primary",children:(0,n.jsx)(o.A,{value:t})})})})};b.displayName="JoinHostDialog.CurrentChannelViewerCount";let _=e=>{let{children:t}=e;return(0,n.jsx)("span",{className:"text-sm font-semibold",children:t})};_.displayName="JoinHostDialog.HostCountdown";let H=e=>{let{onClick:t,disabled:s}=e,r=(0,l.useTranslations)("JoinHostDialog");return(0,n.jsx)(p.zx,{variant:"highlight",className:"w-full",disabled:s,onClick:t,children:r("reject")})};H.displayName="JoinHostDialog.RejectButton";let N=e=>{let{progressInPercentage:t}=e;return(0,n.jsx)("div",{className:"absolute bottom-0 left-0 h-2 w-full origin-left bg-green-500 transition-transform",style:{transform:"scaleX(".concat(t,"%)")}})};N.displayName="JoinHostDialog.HostCountdownBar";let L={LivestreamPreview:g,HostedChannelSection:v,HostedChannelAvatar:j,HostedChannelCategory:C,HostedChannelViewerCount:y,CurrentChannelSection:w,CurrentChannelViewerCount:b,HostCountdown:_,RejectButton:H,HostCountdownBar:N},E=()=>{let e=(0,l.useNow)(),t=(0,l.useTranslations)("JoinHostDialog"),{chatroomId:s,channelId:f,channelSlug:p,channelUsername:g}=(0,x.r)(),[v,j]=(0,r.useState)(null),[C,y]=(0,r.useState)(null),[w,b]=(0,r.useState)(0),_=(0,i.Y)(e=>e.isPusherConnected),H=(0,i.Y)(e=>e.on),N=(0,i.Y)(e=>e.off),{data:E}=(0,m.useQuery)(a.u.show(p)),M=(0,h.Y)(()=>{b(e=>e>0?e-1:0)},1e3),S=()=>{M.stop(),y(null),b(0),j(null)},V=()=>{!(w>1)&&C&&p!==C.slug&&(window.location.href="/".concat(C.slug))};(0,r.useEffect)(()=>{1===w&&C&&V()},[w,C]);let F=t=>{t.hosted.slug!==p&&(S(),y(t.hosted),j(e),b(10),M.start())};(0,r.useEffect)(()=>(_&&s&&H("channel.".concat(f),"App\\Events\\ChatMoveToSupportedChannelEvent",e=>F(e)),()=>{s&&_&&N("channel.".concat(f),"App\\Events\\ChatMoveToSupportedChannelEvent",e=>F(e))}),[_]),(0,r.useEffect)(()=>()=>{M.stop()},[]);let k=v&&w?new Date(v.getTime()+1e3*w):void 0,B=w/10*100;return C?(0,n.jsx)(u.fC,{open:!!C,onOpenChange:e=>{e||S()},children:C&&(0,n.jsxs)(u.VY,{children:[(0,n.jsx)(u.h4,{children:(0,n.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,n.jsx)(u.Dx,{children:t("title")}),(0,n.jsx)(u.x8,{onClick:S})]})}),(0,n.jsx)("p",{className:"text-sm font-semibold",children:t.rich("description",{username:()=>(0,n.jsx)(c.h$,{className:"text-primary",href:"/".concat(p),children:g})})}),(0,n.jsx)(L.LivestreamPreview,{src:C.preview_thumbnail.src,srcSet:C.preview_thumbnail.srcset}),(0,n.jsxs)(L.HostedChannelSection,{children:[(0,n.jsxs)("div",{className:"flex flex-row flex-nowrap items-center justify-center gap-2",children:[(0,n.jsx)(c.h$,{href:"/".concat(C.slug),children:(0,n.jsx)(L.HostedChannelAvatar,{src:C.profile_pic,alt:C.username})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(c.h$,{href:"/".concat(C.slug),className:"text-sm font-bold leading-4",variant:"underlined-link",children:C.username}),(0,n.jsx)(L.HostedChannelCategory,{children:C.category})]})]}),(0,n.jsx)(L.HostedChannelViewerCount,{children:(0,n.jsx)(o.A,{value:C.viewers_count})})]}),(0,n.jsxs)(L.CurrentChannelSection,{children:[(null==E?void 0:E.livestream)&&(0,n.jsx)(L.CurrentChannelViewerCount,{viewerCount:E.livestream.viewer_count}),k&&(0,n.jsx)(L.HostCountdown,{children:t.rich("host_countdown",{timeLeftWithPrefix:()=>(0,n.jsx)(d.e,{isoDate:k.toISOString()})})})]}),(0,n.jsx)(L.RejectButton,{onClick:S}),(0,n.jsx)(L.HostCountdownBar,{progressInPercentage:B})]})}):null}},2547:function(e,t,s){"use strict";s.d(t,{MessageActions:function(){return p}});var n=s(27573),l=s(69389),r=s(7653),a=s(24858),i=s(7101),o=s(24880),d=s(48451),c=s(2190),u=s(38467),h=s(97912),m=s(47875),x=s(79423);let f=()=>(0,n.jsx)("div",{className:"bg-grey-600 h-[18px] w-px"}),p=(0,r.memo)(e=>{var t,s;let{message:r}=e,p=(0,d.k)(),g=(0,l.useTranslations)("Chatroom"),v="unauthenticated"===p.status,j=!r||!!(null===(t=r.ui_metadata)||void 0===t?void 0:t.deleted),C=String(r.sender.id)===(null===(s=p.user)||void 0===s?void 0:s.id.toString()),y=(0,h.l)(e=>e.userCanModerate),w=v?[]:[!C&&!j&&"reply",y&&!j&&"pin",y&&!j&&"delete"].filter(Boolean);return 0===w.length?null:(0,n.jsxs)("div",{id:"chat-message-actions",className:"bg-surface-higher first-of z-common border-grey-600 absolute -top-4 right-0 flex items-center rounded-full border shadow-md [&_button:first-of-type]:rounded-l-full [&_button:last-of-type]:rounded-r-full [&_button]:rounded-none",children:[w.includes("reply")&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Ei,{"aria-label":g("MessageActions.reply"),onClick:()=>{let{setReplyingMessage:e,editorInstance:t}=h.l.getState();e(r),t.current&&t.current.focus()},size:"sm",variant:"text",children:(0,n.jsx)(a.V,{})}),(0,n.jsx)(f,{})]}),w.includes("pin")&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Ei,{"aria-label":g("MessageActions.pin"),onClick:()=>{if(j){c.A.error(g("MessageActions.already_deleted"));return}m.H.emit(x.t.PinMessage,{message:r,duration:1200})},variant:"text",size:"sm",children:(0,n.jsx)(o.q,{})}),(0,n.jsx)(f,{})]}),w.includes("delete")&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Ei,{"aria-label":g("MessageActions.delete"),onClick:()=>{if(j){c.A.error(g("MessageActions.already_deleted"));return}m.H.emit(x.t.DeleteMessage,{messageId:r.id})},variant:"text",size:"sm",children:(0,n.jsx)(i.p,{})}),(0,n.jsx)(f,{})]})]})})},74815:function(e,t,s){"use strict";s.d(t,{PinnedMessageWrapper:function(){return O}});var n=s(27573),l=s(62124),r=s(69389),a=s(7653),i=s(14930),o=s(34595),d=s(64695),c=s(48451),u=s(2190),h=s(85095),m=s(91145),x=s(38467),f=s(62219),p=s(26821),g=s(2560),v=s(97912),j=s(79281),C=s(33837),y=s(59079),w=s(58786),b=s(35416),_=s(77474),H=s(24880);let N=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M20.01 4.0025H22.3515L24.0125 2.34146V0H8.0025V4.0025H12.005V10.8468C8.4828 12.3877 6.00125 15.9099 6.00125 20.0125V20.3527L20.01 6.34397V4.0025Z",fill:"current"}),(0,n.jsx)("path",{d:"M30.8368 6.82427L28.015 4.0025L4 28.0175L6.82176 30.8393L14.0063 23.6548V29.9987L16.0075 32L18.0088 29.9987V21.9937H26.0138V19.9925C26.0138 17.651 25.1932 15.5097 23.8324 13.8086L30.8368 6.80425V6.82427Z",fill:"current"})]})};var L=s(24326),E=s(59229),M=s(35449),S=s(50858),V=s(51291);let F=e=>({visible:{x:0,y:0},hidden:{y:0,transition:{duration:.25},x:e?"100vw":S.eb}}),k={visible:{opacity:1,transition:{delay:.1}},hidden:{opacity:0}},B=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{visible:{position:"fixed",display:"flex",width:36,height:36,y:0,...e?{x:0,right:0}:{x:S.eb-36-V.fu},transition:{delay:.25,duration:.3,bounce:0,type:"spring"}},hidden:{display:"none",width:36,height:36,y:0,x:S.eb}}},T=e=>{let{children:t,isHidden:s,isMobile:r}=e;return(0,n.jsx)(l.M,{children:!s&&(0,n.jsx)(w.E.div,{variants:F(r),initial:"hidden",animate:s?"hidden":"visible",transition:{bounce:0,type:"spring",duration:.5},exit:"hidden",className:"z-absolute w-full",children:(0,n.jsx)("div",{className:"bg-shade-lower border-surface-tint w-full flex-col gap-2 rounded border-2 border-solid pb-1.5 pl-[9px] pr-[3px] pt-[3px]",children:t})},"pinned-message-root")})};T.displayName="PinnedMessage.Root";let D=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex items-center justify-between",children:t})};D.displayName="PinnedMessage.Header";let Z=e=>{let{children:t}=e;return(0,n.jsxs)("div",{className:"text-neutral inline-flex flex-wrap items-center gap-1 text-xs font-semibold leading-[1.125rem]",children:[(0,n.jsx)(H.q,{className:"size-3"}),t]})};Z.displayName="PinnedMessage.Title";let A=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex items-center gap-2",children:t})};A.displayName="PinnedMessage.ActionButtons";let P=e=>{let{handleHide:t,...s}=e,l=(0,r.useTranslations)("Chatroom.PinnedMessage.MoreButton");return(0,n.jsxs)(E.fC,{children:[(0,n.jsx)(E.xz,{asChild:!0,children:(0,n.jsx)(x.Ei,{...s,variant:"text",children:(0,n.jsx)(_.n,{})})}),(0,n.jsx)(E.VY,{side:"bottom",align:"end",children:(0,n.jsx)(E.ck,{asChild:!0,children:(0,n.jsxs)(L.zx,{onClick:t,children:[(0,n.jsx)(d.x,{}),(0,n.jsx)("span",{children:l("hide")})]})})})]})};P.displayName="PinnedMessage.MoreButton";let I=e=>{let{pinIsMinimized:t,isMobile:s=!1,...r}=e;return(0,n.jsx)(l.M,{children:t&&(0,n.jsx)(w.E.div,{initial:"hidden",variants:B(s),animate:t?"visible":"hidden","data-variant":t?"visible":"hidden",className:"z-absolute h-fit w-fit",children:(0,n.jsx)(x.Ei,{style:{width:"".concat(36,"px"),height:"".concat(36,"px")},variant:"highlight",className:"rounded-r-none",...r,children:(0,n.jsx)(H.q,{})})})})};I.displayName="PinnedMessage.MinimizedPinButton";let z=e=>{let t=(0,r.useTranslations)("Chatroom.PinnedMessage");return(0,n.jsx)(f.u,{text:t("unpin"),children:(0,n.jsxs)("div",{className:(0,M.cn)("group",e.disabled&&"pointer-events-none"),children:[(0,n.jsx)("div",{className:"betterhover:group-hover:hidden flex",children:(0,n.jsx)(x.Ei,{size:"sm",variant:"text",...e,children:(0,n.jsx)(H.q,{})})}),(0,n.jsx)("div",{className:"betterhover:group-hover:flex hidden",children:(0,n.jsx)(x.Ei,{size:"sm",variant:"text",...e,children:(0,n.jsx)(N,{})})})]})})};z.displayName="PinnedMessage.UnpinButton";let R=e=>{let{children:t,collapsed:s=!1,onCollapsed:l}=e,i=(0,r.useTranslations)("Chatroom.PinnedMessage"),o=(0,m.dD)(),[d,c]=(0,a.useState)(s);return(0,n.jsxs)(w.E.div,{variants:k,className:"flex flex-row flex-nowrap justify-between gap-1",children:[(0,n.jsx)("div",{className:(0,M.cn)("[&>a:hover]:text-primary min-w-0 break-words text-sm font-semibold",d&&(o?"truncate":"line-clamp-2")),children:t}),(0,n.jsx)(f.u,{text:i(d?"expand":"collapse"),children:(0,n.jsx)(x.Ei,{variant:"text",size:"sm",onClick:()=>{c(e=>!e),l&&l(!d)},children:(0,n.jsx)(b.L,{className:(0,M.cn)("transition-transform",d&&"rotate-90",!d&&"-rotate-90")})})})]})};R.displayName="PinnedMessage.Content";let U=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"text-neutral inline-flex flex-wrap text-xs font-semibold leading-[1.125rem]",children:t})};U.displayName="PinnedMessage.Footer";let q={Root:T,Header:D,Title:Z,ActionButtons:A,MoreButton:P,UnpinButton:z,Content:R,Footer:U,MinimizedPinButton:I},O=()=>{var e;let t=(0,c.k)(),s=(0,r.useLocale)(),w=(0,m.dD)(),b=(0,r.useTranslations)("Chatroom.PinnedMessage"),_=(0,p.useQueryClient)(),{channelId:H,chatroomId:N,channelSlug:L}=(0,C.r)(),{data:E,status:M}=(0,g.useQuery)(i.j.getMessagesByChannel(H)),S=o.e.useDeletePinnedMessage("authenticated"===t.status,L),V=(0,h.Y)(e=>e.isPusherConnected),F=(0,h.Y)(e=>e.on),k=(0,h.Y)(e=>e.off),B=(0,v.l)(e=>e.userCanModerate),[T,D]=(0,a.useState)(!1),[Z,A]=(0,a.useState)(!0),P=()=>{_.setQueryData(i.j.getMessagesByChannel(H).queryKey,e=>e&&e.data?{...e,data:{...e.data,pinned_message:null}}:e)},I=e=>{D(!1),_.setQueryData(i.j.getMessagesByChannel(H).queryKey,t=>t&&t.data&&e?{...t,data:{...t.data,pinned_message:{message:e.message,duration:e.duration,finish_at:new Date(Date.now()+6e4*e.duration).toISOString(),pinned_by:e.pinnedBy}}}:t)};return(0,a.useEffect)(()=>{var e;(null==E?void 0:null===(e=E.data)||void 0===e?void 0:e.pinned_message)&&D(!1)},[E]),(0,a.useEffect)(()=>(V&&N&&(F("chatrooms.".concat(N,".v2"),"App\\Events\\PinnedMessageDeletedEvent",P),F("chatrooms.".concat(N,".v2"),"App\\Events\\PinnedMessageCreatedEvent",I)),()=>{N&&V&&(k("chatrooms.".concat(N,".v2"),"App\\Events\\PinnedMessageDeletedEvent",P),k("chatrooms.".concat(N,".v2"),"App\\Events\\PinnedMessageCreatedEvent",I))}),[V]),(0,n.jsx)(l.M,{children:"success"===M&&(null==E?void 0:null===(e=E.data)||void 0===e?void 0:e.pinned_message)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(q.MinimizedPinButton,{onClick:()=>D(!1),pinIsMinimized:T,isMobile:w}),(0,n.jsxs)(q.Root,{isHidden:T,isMobile:w,children:[(0,n.jsxs)(q.Header,{children:[(0,n.jsx)(q.Title,{children:b.rich("sent_by",{user:()=>{var e;return(null===(e=E.data)||void 0===e?void 0:e.pinned_message)&&(0,n.jsx)(y.D,{sender:E.data.pinned_message.message.sender,channelSlug:L,messageId:E.data.pinned_message.message.id})}})}),(0,n.jsxs)(q.ActionButtons,{children:[B&&(0,n.jsx)(q.UnpinButton,{disabled:!!(null==S?void 0:S.isPending),onClick:()=>{S&&S.mutate(void 0,{onError:()=>{u.A.error(b("unpin_error"))}})}}),!B&&(0,n.jsx)(f.u,{text:b("MoreButton.hide"),children:(0,n.jsx)(x.Ei,{size:"sm",variant:"text",onClick:()=>D(!0),children:(0,n.jsx)(d.x,{})})}),B&&(0,n.jsx)(q.MoreButton,{handleHide:()=>D(!0)})]})]}),(0,n.jsx)(q.Content,{collapsed:Z,onCollapsed:A,children:(0,n.jsx)(j.F,{content:E.data.pinned_message.message.content,id:E.data.pinned_message.message.id})}),!Z&&B&&(0,n.jsx)(q.Footer,{children:(0,n.jsx)("div",{className:"inline-flex min-w-0 flex-row flex-wrap items-center gap-1",children:b.rich("pinned_by_at",{user:()=>{var e;return(null===(e=E.data)||void 0===e?void 0:e.pinned_message)&&(0,n.jsx)(y.D,{truncateUsername:!0,sender:E.data.pinned_message.pinned_by,channelSlug:L,messageId:E.data.pinned_message.message.id})},time:new Date(E.data.pinned_message.finish_at).toLocaleTimeString(s,{timeStyle:"short"})})})})]})]})})}},6051:function(e,t,s){"use strict";s.d(t,{PollWrapper:function(){return U}});var n=s(27573),l=s(62124),r=s(69389),a=s(7653),i=s(89765),o=s(48451),d=s(1118),c=s(2190),u=s(85095),h=s(11396),m=s(2560),x=s(97912),f=s(47875),p=s(79423),g=s(33837),v=s(58786),j=s(46711),C=s(70129),y=s(35416),w=s(78374),b=s(7101),_=s(38467),H=s(34109),N=s(3689),L=s(91870),E=s(51033),M=s(35449),S=s(14148);let V={visible:{x:0,y:0},hidden:{x:s(50858).eb,y:0,transition:{duration:.25}}},F=e=>{let{children:t}=e;return(0,n.jsx)(v.E.div,{variants:V,initial:"hidden",animate:"visible",transition:{bounce:0,type:"spring",duration:.5},exit:"hidden",className:"z-absolute bg-shade-lower border-surface-tint flex w-full flex-col gap-2 rounded border-2 p-2",children:t},"poll-root")};F.displayName="Poll.Root";let k={hidden:{opacity:0,y:-5,maxHeight:0,transition:{type:"spring",bounce:0,duration:.5/3}},visible:{opacity:1,y:0,maxHeight:400,transition:{type:"spring",bounce:0,duration:.5,opacity:{delay:.125},y:{delay:.125}}}},B=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex flex-row flex-nowrap items-center justify-between",children:t})};B.displayName="Poll.Header";let T=e=>{let{children:t,subtitle:s}=e,l=(0,r.useTranslations)("Chatroom.Poll");return(0,n.jsxs)("div",{className:"flex min-w-0 shrink grow flex-col",children:[(0,n.jsx)("span",{className:"text-neutral min-w-0 truncate text-xs font-semibold leading-[1.125rem]",children:(null==s?void 0:s.trim().length)?s:l("current_poll")}),(0,n.jsx)("span",{className:"min-w-0 truncate break-words font-semibold",title:"string"==typeof t?t:void 0,children:t})]})};T.displayName="Poll.Title";let D=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"flex shrink-0 grow-0 flex-row gap-2",children:t})};D.displayName="Poll.ActionButtons";let Z=e=>{let{children:t,isVisible:s,...r}=e;return(0,n.jsx)(l.M,{children:s&&(0,n.jsx)(v.E.div,{variants:k,initial:s?"visible":"hidden",animate:"visible",exit:"hidden",children:(0,n.jsx)(L.Ee,{className:"flex flex-col gap-2",...r,children:t})})})};Z.displayName="Poll.OptionList";let A=e=>{let{isChecked:t,voteCount:s=0,totalVoteCount:l,isWinner:r,id:a,label:i,...o}=e,d=l>0?Math.round(s/l*100):0;return(0,n.jsxs)(L.mJ,{className:(0,M.cn)("group relative flex aspect-[unset] h-full w-full flex-row overflow-hidden rounded-md bg-white/10 px-2 py-1.5 outline-0 transition-[filter,background-color,opacity] ease-in-out","betterhover:hover:brightness-125","disabled:pointer-events-none disabled:cursor-default disabled:opacity-80","data-[state=checked]:pointer-events-none data-[state=checked]:bg-white/20 data-[state=checked]:brightness-125",r&&"!bg-green-500 text-[#0B0E0F] !brightness-100 disabled:opacity-100"),id:a,title:i,...o,children:[(0,n.jsxs)("div",{className:"z-common relative flex h-full w-full flex-row flex-nowrap items-center justify-between gap-4 text-sm",children:[(0,n.jsxs)("div",{className:"flex min-w-0 max-w-full shrink grow flex-row flex-nowrap items-center gap-1.5",children:[(0,n.jsx)(N._,{htmlFor:a,className:"relative cursor-pointer truncate font-semibold text-current",children:i}),t&&(0,n.jsx)(v.E.div,{initial:{scale:.3,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.3,opacity:0},children:(0,n.jsx)(w.r,{fill:r?"#0B0E0F":"white",className:"size-3"})},"checked-poll-option-icon")]}),(0,n.jsxs)("div",{className:"relative flex shrink-0 grow-0 flex-row flex-nowrap items-center justify-center gap-1",children:[(0,n.jsxs)("span",{children:[(0,n.jsx)(H.A,{value:d,format:{notation:"standard",minimumFractionDigits:0,maximumFractionDigits:0}}),"%"]}),(0,n.jsxs)("span",{children:["(",(0,n.jsx)(H.A,{value:s}),")"]})]})]}),(0,n.jsx)(v.E.div,{className:(0,M.cn)("absolute left-0 top-0 z-[0] h-full w-full origin-left bg-white/15 transition-[background-color]",r&&"bg-black/15"),initial:{scaleX:0},animate:{scaleX:d/100},exit:{scaleX:0},transition:{type:"spring",duration:.2,bounce:0}},"checked-poll-option-progress-bar")]})};A.displayName="Poll.OptionItem";let P=e=>{let{isCollapsed:t,setIsCollapsed:s}=e,l=(0,r.useTranslations)("Chatroom.Poll");return(0,n.jsx)(E.pn,{delayDuration:0,children:(0,n.jsxs)(E.u,{children:[(0,n.jsx)(E.aJ,{asChild:!0,children:(0,n.jsx)(_.Ei,{variant:"highlight",size:"sm",className:(0,M.cn)(t?"rotate-90":"-rotate-90"),onClick:()=>s(t),children:(0,n.jsx)(y.L,{})})}),(0,n.jsx)(E._v,{className:"p-2",children:(0,n.jsx)("span",{children:l(t?"expand":"collapse")})})]})})};P.displayName="Poll.ExpandCollapseButton";let I=e=>{let{onClick:t}=e,s=(0,r.useTranslations)("Chatroom.Poll");return(0,n.jsx)(E.pn,{delayDuration:0,children:(0,n.jsxs)(E.u,{children:[(0,n.jsx)(E.aJ,{asChild:!0,children:(0,n.jsx)(_.Ei,{variant:"highlight",size:"sm",onClick:t,children:(0,n.jsx)(b.p,{})})}),(0,n.jsx)(E._v,{className:"p-2",children:(0,n.jsx)("span",{children:s("delete")})})]})})};I.displayName="Poll.DeleteButton";let z=e=>{let{totalSeconds:t,secondsLeft:s}=e,l="visible"===(0,S.x)(),r=t?s/t:0,i=(0,j.c)(r);return(0,a.useEffect)(()=>(l&&(i.set(r),(0,C.j)(i,0,{duration:s,ease:"linear"})),()=>{i.stop()}),[l,s,r,i]),(0,n.jsx)("div",{className:"relative h-1 w-full overflow-hidden rounded-full bg-black brightness-125",children:(0,n.jsx)(v.E.div,{className:"absolute left-0 top-0 h-full w-full origin-left bg-green-500",style:{scaleX:i}})})};z.displayName="Poll.HourglassBar";let R={Root:F,Header:B,Title:T,ActionButtons:D,OptionList:Z,OptionItem:A,ExpandCollapseButton:P,DeleteButton:I,HourglassBar:z},U=()=>{var e,t,s,v,j,C,y,w,b,_;let H=(0,r.useTranslations)("Chatroom.Poll"),N="authenticated"===(0,o.k)().status,{chatroomId:L,channelSlug:E}=(0,g.r)(),{data:M,status:S}=(0,m.useQuery)(i.R.get(E)),V=(0,d.Z)(i.R.get(E)),[F,k]=(0,a.useState)(!1),B=(0,a.useCallback)(()=>{var e,t,s,n;return(null==M?void 0:null===(t=M.data)||void 0===t?void 0:null===(e=t.poll)||void 0===e?void 0:e.voted_option_id)!==null&&(null==M?void 0:null===(n=M.data)||void 0===n?void 0:null===(s=n.poll)||void 0===s?void 0:s.voted_option_id)!==void 0?M.data.poll.voted_option_id:null},[null==M?void 0:null===(t=M.data)||void 0===t?void 0:null===(e=t.poll)||void 0===e?void 0:e.voted_option_id]),[T,D]=(0,a.useState)(B()),[Z,A]=(0,a.useState)((null==M?void 0:null===(v=M.data)||void 0===v?void 0:null===(s=v.poll)||void 0===s?void 0:s.remaining)||null),P=i.f.useVote(N,E),I=(0,x.l)(e=>e.userCanModerate),z=(0,u.Y)(e=>e.isPusherConnected),U=(0,u.Y)(e=>e.on),q=(0,u.Y)(e=>e.off),O=(0,h.Y)(()=>A(e=>null!==e&&e>0?e-1:null),1e3),Q=(0,a.useCallback)(()=>{f.H.emit(p.t.DeletedPoll,null)},[]),K=(0,a.useCallback)(e=>{f.H.emit(p.t.UpdatePoll,e.poll)},[]),G=e=>{var t;P&&(null==M?void 0:null===(t=M.data)||void 0===t?void 0:t.poll)&&!M.data.poll.has_voted&&(V.set({data:{poll:{...M.data.poll,has_voted:!0,voted_option_id:e,options:M.data.poll.options.map(t=>t.id===e?{...t,votes:t.votes+1}:t)}}}),D(e),P.mutate({id:e},{onError:()=>{V.revert(),D(null),c.A.error(H("vote_error"))}}))};(0,a.useEffect)(()=>(z&&L&&(U("chatrooms.".concat(L,".v2"),"App\\Events\\PollDeleteEvent",Q),U("chatrooms.".concat(L,".v2"),"App\\Events\\PollUpdateEvent",K)),()=>{L&&z&&(q("chatrooms.".concat(L,".v2"),"App\\Events\\PollDeleteEvent",Q),q("chatrooms.".concat(L,".v2"),"App\\Events\\PollUpdateEvent",K))}),[z]),(0,a.useEffect)(()=>{let e=B();null!==e&&D(e)},[B]),(0,a.useEffect)(()=>{var e;let t=null;return(null==M?void 0:null===(e=M.data)||void 0===e?void 0:e.poll)?(t=setTimeout(Q,(M.data.poll.remaining+M.data.poll.result_display_duration)*1e3),A(M.data.poll.remaining)):(k(!1),D(null),A(null)),()=>{t&&clearTimeout(t)}},[null==M?void 0:null===(j=M.data)||void 0===j?void 0:j.poll,Q]),(0,a.useEffect)(()=>{Z&&Z>0&&!O.active?O.start():0===Z&&(A(null),O.stop())},[Z,O]),(0,a.useEffect)(()=>O.stop,[]);let Y=(null==M?void 0:null===(y=M.data)||void 0===y?void 0:null===(C=y.poll)||void 0===C?void 0:C.options)||[],J=e=>{if(!Y.length)return!1;let t=Y.find(t=>t.id===e);if(!t)return!1;let s=Y.filter(e=>e.votes>0);return!!s.find(t=>t.id===e)&&!(s.filter(e=>e.votes===t.votes).length>1)&&s.toSorted((e,t)=>t.votes-e.votes)[0].id===e},W=Y.reduce((e,t)=>e+t.votes,0),$=!N||!!(null==M?void 0:null===(b=M.data)||void 0===b?void 0:null===(w=b.poll)||void 0===w?void 0:w.has_voted)||null!==T||!Z;return(0,n.jsx)(l.M,{children:(null==M?void 0:null===(_=M.data)||void 0===_?void 0:_.poll)&&"success"===S&&(0,n.jsxs)(R.Root,{children:[(0,n.jsxs)(R.Header,{children:[(0,n.jsx)(R.Title,{subtitle:Z?H("current_poll"):H("poll_ended"),children:M.data.poll.title}),(0,n.jsxs)(R.ActionButtons,{children:[I&&(0,n.jsx)(R.DeleteButton,{onClick:()=>f.H.emit(p.t.DeletePoll,void 0)}),(0,n.jsx)(R.ExpandCollapseButton,{isCollapsed:F,setIsCollapsed:()=>k(!F)})]})]}),(0,n.jsx)(R.OptionList,{disabled:$,isVisible:!F,value:null===T?void 0:String(T),onValueChange:e=>{let t=Y.find(t=>t.id===Number(e));t&&null===T&&G(t.id)},children:Y.map(e=>(0,n.jsx)(R.OptionItem,{disabled:$,value:String(e.id),id:String(e.id),isChecked:T===e.id,voteCount:e.votes,totalVoteCount:W,isWinner:!Z&&J(e.id),label:e.label},String(e.id)))}),Z&&(0,n.jsx)(R.HourglassBar,{totalSeconds:M.data.poll.duration,secondsLeft:Z})]})})}},64795:function(e,t,s){"use strict";s.d(t,{R:function(){return g},l:function(){return v}});var n=s(48218),l=s(62889),r=s(96755),a=s(71062),i=s(19769),o=s(51291),d=s(7195),c=s(7647),u=s(33837),h=s(92684),m=s(59741),x=s(2547),f=s(74815),p=s(6051);let g={Provider:u.ChatroomProvider,Leaderboard:c.ChatroomLeaderboard,Entries:a.ChatroomEntries,Footer:d.ChatroomFooter,EventsStack:o.Jg.Stack,Banner:r.ChatroomBannerWrapper,PinnedMessage:f.PinnedMessageWrapper,Poll:p.PollWrapper,MessageActions:x.MessageActions,BannedUsersDialog:n.BannedUsersDialogWrapper,JoinHostDialog:m.JoinHostDialogWrapper,CategoryDialog:l.CategoryDialogWrapper},v={Provider:h.ChatroomReplayProvider,Entries:i.ChatroomReplayEntries}},24819:function(e,t,s){"use strict";s.d(t,{T:function(){return n},c:function(){return l}});let n="openCategoryDialog",l=()=>{let e=new CustomEvent(n);window.dispatchEvent(e)}},66990:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(7653);let l=(e,t)=>{let s=e(t),[l,r]=(0,n.useState)();return(0,n.useEffect)(()=>{r(s)},[s]),l}},67183:function(e,t,s){"use strict";s.d(t,{l:function(){return u}});var n=s(27573),l=s(69389),r=s(4984),a=s(25897),i=s(35449);let o=e=>{let{children:t,className:s,href:l,...r}=e;return l?(0,n.jsx)(a.pt,{href:l,children:(0,n.jsx)("div",{className:(0,i.cn)("group relative flex aspect-square size-10 shrink-0 items-center lg:size-20",s),children:t})}):(0,n.jsx)("div",{className:(0,i.cn)("group relative flex aspect-square size-10 shrink-0 items-center lg:size-20",s),...r,children:t})};o.displayName="ChannelAvatar.Root";let d=e=>{let{isLive:t,src:s,alt:l,className:a}=e;return(0,n.jsx)("div",{className:(0,i.cn)("aspect-square w-full overflow-hidden rounded-full",t&&"border-2 border-green-500 bg-green-500 lg:border-4",a),children:(0,n.jsx)("img",{src:(0,r.Z)(s),alt:l,className:"betterhover:group-hover:scale-110 aspect-square w-full select-none transition-transform duration-300 ease-in-out",draggable:!1})})};d.displayName="ChannelAvatar.Image";let c=()=>{let e=(0,l.useTranslations)("Global");return(0,n.jsx)("span",{className:"text-grey-900 absolute -bottom-1.5 left-1/2 -translate-x-1/2 transform rounded-sm bg-green-500 px-1.5 py-1 text-[10px] font-bold capitalize leading-[1.2] lg:-bottom-1",children:e("live")})};c.displayName="ChannelAvatar.Live";let u={Root:o,Image:d,Live:c}},43954:function(e,t,s){"use strict";s.r(t),s.d(t,{CollapseButton:function(){return f},Content:function(){return g},ExpandButton:function(){return p},Header:function(){return x},Root:function(){return m}});var n=s(27573),l=s(69389);let r=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M23.2095 18.3328L21.0623 20.4799L23.5324 22.9413L30 16.4737L23.5324 10.0061L21.0623 12.4674L23.4277 14.8415H2V18.3328H23.2095Z"}),(0,n.jsx)("path",{d:"M19.4905 23.4564H2.03409V26.9476H19.4905V23.4564Z"}),(0,n.jsx)("path",{d:"M19.4905 6H2.03409V9.49127H19.4905V6Z"})]})},a=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M8.79052 14.6146L10.9377 12.4674L8.46758 10.0061L2 16.4737L8.46758 22.9413L10.9377 20.4799L8.57232 18.1058H30V14.6146H8.79052Z"}),(0,n.jsx)("path",{d:"M29.9643 6H12.5079V9.49127H29.9643V6Z"}),(0,n.jsx)("path",{d:"M29.9643 23.4564H12.5079V26.9476H29.9643V23.4564Z"})]})};var i=s(1749),o=s(14071),d=s(51371),c=s(38467),u=s(24326),h=s(35449);let m=e=>{let{children:t,fullWidth:s,className:l}=e;return(0,n.jsx)("div",{id:"channel-chatroom","data-nosnippet":!0,className:(0,h.cn)("h-full max-h-full w-full group-data-[chat=false]/main:opacity-0 group-data-[chat=false]/main:lg:w-0 group-data-[chat=true]/main:lg:w-[var(--chat-width)]","bg-surface-lower flex grow flex-col overflow-hidden lg:shrink-0 lg:grow-0","transition-[width,opacity] duration-300 ease-out",s&&"!w-full",l),children:t})},x=e=>{let{children:t}=e,s=(0,l.useTranslations)("Chatroom"),r=(0,i.s)();return(0,n.jsxs)("div",{dir:r,className:"relative flex shrink-0 items-center justify-between border-b-2 border-[#24272c] px-3.5 py-1.5",children:[t,(0,n.jsx)("span",{className:"font-bold",children:s("chat_header")}),(0,n.jsx)("div",{className:"aspect-square w-8 bg-transparent"})]})},f=e=>{let{isClipDialog:t=!1}=e,s=(0,i.s)(),l=(0,o.o)(e=>e.toggleChat);return(0,n.jsx)("div",{dir:s,className:(0,h.cn)("h-fit w-fit cursor-pointer","rtl"===s&&"rotate-180"),children:(0,n.jsx)(c.Ei,{onClick:()=>{if(t){(0,d.S)();return}l()},size:"sm",variant:"text",className:"m-auto",children:(0,n.jsx)(r,{})})})},p=e=>{let{className:t,isClipDialog:s}=e,l=(0,i.s)(),r=(0,o.o)(e=>e.toggleChat);return(0,n.jsx)("div",{dir:l,className:(0,h.cn)("z-controls absolute top-7 hidden transition-opacity",t,"ltr"===l?"right-7":"left-7",s&&"top-10",!s&&"group-data-[chat=false]/main:block"),style:s?{display:"var(--chat-clip-dialog-collapsed-button)"}:void 0,children:(0,n.jsxs)(u.zx,{dir:l,onClick:()=>{if(s){(0,d.S)();return}r()},variant:"highlight",className:"bg-surface-base betterhover:hover:!bg-surface-higher",children:[(0,n.jsx)(a,{className:(0,h.cn)("rtl"===l&&"rotate-180")}),(0,n.jsx)("span",{children:"Chat"})]})})},g=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"bg-surface-lower relative flex flex-1 flex-col",children:t})}},88874:function(e,t,s){"use strict";s.d(t,{f:function(){return n}});var n=s(43954)},20080:function(e,t,s){"use strict";s.d(t,{E:function(){return B},j:function(){return k}});var n=s(27573);let l=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("g",{clipPath:"url(#clip0_162_470)",children:(0,n.jsxs)("g",{clipPath:"url(#clip1_162_470)",children:[(0,n.jsx)("path",{d:"M22.34 9.5L26 4H18L16 7L14 4H6L9.66 9.5H4V15.1H28V9.5H22.34Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M26.0799 19.0996H5.8999V28.4996H26.0799V19.0996Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M26.0799 15.0996H5.8999V19.0996H26.0799V15.0996Z",fill:"#32970E"})]})}),(0,n.jsxs)("defs",{children:[(0,n.jsx)("clipPath",{id:"clip0_162_470",children:(0,n.jsx)("rect",{width:"24",height:"24.5",fill:"white",transform:"translate(4 4)"})}),(0,n.jsx)("clipPath",{id:"clip1_162_470",children:(0,n.jsx)("rect",{width:"24",height:"24.5",fill:"white",transform:"translate(4 4)"})})]})]})},r=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3199)",children:[(0,n.jsx)("path",{d:"M22.34 9.5L26 4H18L16 7L14 4H6L9.66 9.5H4V15.1H28V9.5H22.34Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M26.08 19.1001H5.90002V28.5001H26.08V19.1001Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M26.08 15.1001H5.90002V19.1001H26.08V15.1001Z",fill:"#BC66FF"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3199",children:(0,n.jsx)("rect",{width:"24",height:"24.5",fill:"white",transform:"translate(4 4)"})})})]})},a=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 10H2V28H30V10Z",fill:"#DDFED1"}),(0,n.jsx)("path",{d:"M12 10H10L6 4H14L16 7L18 4H26L22 10H20V28H12V10Z",fill:"#53FC18"})]})},i=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3220)",children:[(0,n.jsx)("path",{d:"M0.02 6H32.02V14H0.02V6Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M0.02 18H32.02V32H0.02V18Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M30.02 14H2.02V18H30.02V14Z",fill:"#32970E"}),(0,n.jsx)("path",{d:"M22.02 6H20.02V32H12.02V6H14.02L18.02 0H26.02L22.02 6Z",fill:"#BC66FF"}),(0,n.jsx)("path",{d:"M14.02 6L16.02 3L14.02 0H6.02L10.02 6H12.02H14.02Z",fill:"white"}),(0,n.jsx)("path",{d:"M3.02 9L2.14 7.16C2.14 6.98 1.84 6.88 1.84 6.88L0 6L1.84 5.12L2.14 4.82L3.02 2.98L3.9 4.82C3.9 4.92 4 5.02 4.2 5.12L6.04 5.9L4.2 6.78C4 6.86 3.9 6.96 3.9 7.16L3.02 9Z",fill:"white"}),(0,n.jsx)("path",{d:"M30.02 16L29.44 14.78C29.44 14.64 29.24 14.58 29.24 14.58L28.02 14L29.24 13.42L29.44 13.22L30.02 12L30.6 13.22C30.6 13.22 30.68 13.36 30.8 13.42L32.02 13.94L30.8 14.52C30.66 14.58 30.6 14.66 30.6 14.78L30.02 16Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3220",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},o=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 10H2V28H30V10Z",fill:"#93EBE0"}),(0,n.jsx)("path",{d:"M12 10H10L6 4H14L16 7L18 4H26L22 10H20V28H12V10Z",fill:"#00CCB3"})]})},d=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 10H2V28H30V10Z",fill:"#B9D6F6"}),(0,n.jsx)("path",{d:"M12 10H10L6 4H14L16 7L18 4H26L22 10H20V28H12V10Z",fill:"#72ACED"})]})},c=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3221)",children:[(0,n.jsx)("path",{d:"M0.02 6H32.02V14H0.02V6Z",fill:"#00CCB3"}),(0,n.jsx)("path",{d:"M0.02 18H32.02V32H0.02V18Z",fill:"#00CCB3"}),(0,n.jsx)("path",{d:"M30.02 14H2.02V18H30.02V14Z",fill:"#00A18D"}),(0,n.jsx)("path",{d:"M22.02 6H20.02V32H12.02V6H14.02L18.02 0H26.02L22.02 6Z",fill:"#F2708A"}),(0,n.jsx)("path",{d:"M14.02 6L16.02 3L14.02 0H6.02L10.02 6H12.02H14.02Z",fill:"white"}),(0,n.jsx)("path",{d:"M3.02 9L2.14 7.16C2.14 6.98 1.84 6.88 1.84 6.88L0 6L1.84 5.12L2.14 4.82L3.02 2.98L3.9 4.82C3.9 4.92 4 5.02 4.2 5.12L6.04 5.9L4.2 6.78C4 6.86 3.9 6.96 3.9 7.16L3.02 9Z",fill:"white"}),(0,n.jsx)("path",{d:"M30.02 16L29.44 14.78C29.44 14.64 29.24 14.58 29.24 14.58L28.02 14L29.24 13.42L29.44 13.22L30.02 12L30.6 13.22C30.6 13.22 30.68 13.36 30.8 13.42L32.02 13.94L30.8 14.52C30.66 14.58 30.6 14.66 30.6 14.78L30.02 16Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3221",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},u=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3201)",children:[(0,n.jsx)("path",{d:"M22.34 9.5L26 4H18L16 7L14 4H6L9.66 9.5H4V15.1H28V9.5H22.34Z",fill:"#FBCFD8"}),(0,n.jsx)("path",{d:"M26.08 19.1001H5.90002V28.5001H26.08V19.1001Z",fill:"#FBCFD8"}),(0,n.jsx)("path",{d:"M26.08 15.1001H5.90002V19.1001H26.08V15.1001Z",fill:"#F2708A"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3201",children:(0,n.jsx)("rect",{width:"24",height:"24.5",fill:"white",transform:"translate(4 4)"})})})]})},h=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 10H2V28H30V10Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M12 10H10L6 4H14L16 7L18 4H26L22 10H20V28H12V10Z",fill:"#BC66FF"})]})},m=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 10H2V28H30V10Z",fill:"#FBCFD8"}),(0,n.jsx)("path",{d:"M12 10H10L6 4H14L16 7L18 4H26L22 10H20V28H12V10Z",fill:"#F2708A"})]})},x=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3222)",children:[(0,n.jsx)("path",{d:"M0.02 6H32.02V14H0.02V6Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M0.02 18H32.02V32H0.02V18Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M30.02 14H2.02V18H30.02V14Z",fill:"#BC66FF"}),(0,n.jsx)("path",{d:"M22.02 6H20.02V32H12.02V6H14.02L18.02 0H26.02L22.02 6Z",fill:"#1475E1"}),(0,n.jsx)("path",{d:"M14.02 6L16.02 3L14.02 0H6.02L10.02 6H12.02H14.02Z",fill:"white"}),(0,n.jsx)("path",{d:"M3.02 9L2.14 7.16C2.14 6.98 1.84 6.88 1.84 6.88L0 6L1.84 5.12L2.14 4.82L3.02 2.98L3.9 4.82C3.9 4.92 4 5.02 4.2 5.12L6.04 5.9L4.2 6.78C4 6.86 3.9 6.96 3.9 7.16L3.02 9Z",fill:"white"}),(0,n.jsx)("path",{d:"M30.02 16L29.44 14.78C29.44 14.64 29.24 14.58 29.24 14.58L28.02 14L29.24 13.42L29.44 13.22L30.02 12L30.6 13.22C30.6 13.22 30.68 13.36 30.8 13.42L32.02 13.94L30.8 14.52C30.66 14.58 30.6 14.66 30.6 14.78L30.02 16Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3222",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},f=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 10H2V28H30V10Z",fill:"#FFD899"}),(0,n.jsx)("path",{d:"M12 10H10L6 4H14L16 7L18 4H26L22 10H20V28H12V10Z",fill:"#FF9D00"})]})},p=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 10H2V28H30V10Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M12 10H10L6 4H14L16 7L18 4H26L22 10H20V28H12V10Z",fill:"#BC66FF"})]})},g=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_116_1156)",children:[(0,n.jsx)("path",{d:"M0.02 6H32.02V14H0.02V6Z",fill:"#F2708A"}),(0,n.jsx)("path",{d:"M0.02 18H32.02V32H0.02V18Z",fill:"#F2708A"}),(0,n.jsx)("path",{d:"M30.02 14H2.02V18H30.02V14Z",fill:"#E9113C"}),(0,n.jsx)("path",{d:"M22.02 6H20.02V32H12.02V6H14.02L18.02 0H26.02L22.02 6Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M14.02 6L16.02 3L14.02 0H6.02L10.02 6H12.02H14.02Z",fill:"white"}),(0,n.jsx)("path",{d:"M3.02 9L2.14 7.16C2.14 6.98 1.84 6.88 1.84 6.88L0 6L1.84 5.12L2.14 4.82L3.02 2.98L3.9 4.82C3.9 4.92 4 5.02 4.2 5.12L6.04 5.9L4.2 6.78C4 6.86 3.9 6.96 3.9 7.16L3.02 9Z",fill:"white"}),(0,n.jsx)("path",{d:"M30.02 16L29.44 14.78C29.44 14.64 29.24 14.58 29.24 14.58L28.02 14L29.24 13.42L29.44 13.22L30.02 12L30.6 13.22C30.6 13.22 30.68 13.36 30.8 13.42L32.02 13.94L30.8 14.52C30.66 14.58 30.6 14.66 30.6 14.78L30.02 16Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_116_1156",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},v=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 10H2V28H30V10Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M12 10H10L6 4H14L16 7L18 4H26L22 10H20V28H12V10Z",fill:"#FBC900"})]})},j=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3197)",children:[(0,n.jsx)("path",{d:"M22.34 9.5L26 4H18L16 7L14 4H6L9.66 9.5H4V15.1H28V9.5H22.34Z",fill:"#2EFAD1"}),(0,n.jsx)("path",{d:"M26.08 19.1001H5.90002V28.5001H26.08V19.1001Z",fill:"#2EFAD1"}),(0,n.jsx)("path",{d:"M26.08 15.1001H5.90002V19.1001H26.08V15.1001Z",fill:"#00A18D"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3197",children:(0,n.jsx)("rect",{width:"24",height:"24.5",fill:"white",transform:"translate(4 4)"})})})]})},C=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3196)",children:[(0,n.jsx)("path",{d:"M22.34 9.5L26 4H18L16 7L14 4H6L9.66 9.5H4V15.1H28V9.5H22.34Z",fill:"#FFD899"}),(0,n.jsx)("path",{d:"M26.08 19.1001H5.90002V28.5001H26.08V19.1001Z",fill:"#FFD899"}),(0,n.jsx)("path",{d:"M26.08 15.1001H5.90002V19.1001H26.08V15.1001Z",fill:"#FF9D00"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3196",children:(0,n.jsx)("rect",{width:"24",height:"24.5",fill:"white",transform:"translate(4 4)"})})})]})},y=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 18H2V32H30V18Z",fill:"#DDFED1"}),(0,n.jsx)("path",{d:"M30 8H2V14H30V8Z",fill:"#DDFED1"}),(0,n.jsx)("path",{d:"M10 8H12.5V14H4V18H12.5V32H19.5V18H28V14H19.5V8H22L26 2H18L16 5L14 2H6L10 8Z",fill:"#53FC18"})]})},w=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_116_1166)",children:[(0,n.jsx)("path",{d:"M0.02 6H32.02V14H0.02V6Z",fill:"#FFC466"}),(0,n.jsx)("path",{d:"M0.02 18H32.02V32H0.02V18Z",fill:"#FFC466"}),(0,n.jsx)("path",{d:"M30.02 14H2.02V18H30.02V14Z",fill:"#FF9D00"}),(0,n.jsx)("path",{d:"M22.02 6H20.02V32H12.02V6H14.02L18.02 0H26.02L22.02 6Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M14.02 6L16.02 3L14.02 0H6.02L10.02 6H12.02H14.02Z",fill:"white"}),(0,n.jsx)("path",{d:"M3.02 9L2.14 7.16C2.14 6.98 1.84 6.88 1.84 6.88L0 6L1.84 5.12L2.14 4.82001L3.02 2.98L3.9 4.82001C3.9 4.92001 4 5.02 4.2 5.12L6.04 5.89999L4.2 6.78C4 6.86 3.9 6.96 3.9 7.16L3.02 9Z",fill:"white"}),(0,n.jsx)("path",{d:"M30.02 16L29.44 14.78C29.44 14.64 29.24 14.58 29.24 14.58L28.02 14L29.24 13.42L29.44 13.22L30.02 12L30.6 13.22C30.6 13.22 30.68 13.36 30.8 13.42L32.02 13.94L30.8 14.52C30.66 14.58 30.6 14.66 30.6 14.78L30.02 16Z",fill:"white"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_116_1166",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},b=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 18H2V32H30V18Z",fill:"#93EBE0"}),(0,n.jsx)("path",{d:"M30 8H2V14H30V8Z",fill:"#93EBE0"}),(0,n.jsx)("path",{d:"M10 8H12.5V14H4V18H12.5V32H19.5V18H28V14H19.5V8H22L26 2H18L16 5L14 2H6L10 8Z",fill:"#00CCB3"})]})},_=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 18H2V32H30V18Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M30 8H2V14H30V8Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M10 8H12.5V14H4V18H12.5V32H19.5V18H28V14H19.5V8H22L26 2H18L16 5L14 2H6L10 8Z",fill:"#BC66FF"})]})},H=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 18H2V32H30V18Z",fill:"#FBCFD8"}),(0,n.jsx)("path",{d:"M30 8H2V14H30V8Z",fill:"#FBCFD8"}),(0,n.jsx)("path",{d:"M10 8H12.5V14H4V18H12.5V32H19.5V18H28V14H19.5V8H22L26 2H18L16 5L14 2H6L10 8Z",fill:"#F2708A"})]})},N=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M30 18H2V32H30V18Z",fill:"#FFD899"}),(0,n.jsx)("path",{d:"M30 8H2V14H30V8Z",fill:"#FFD899"}),(0,n.jsx)("path",{d:"M10 8H12.5V14H4V18H12.5V32H19.5V18H28V14H19.5V8H22L26 2H18L16 5L14 2H6L10 8Z",fill:"#FF9D00"})]})},L=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3214)",children:[(0,n.jsx)("path",{d:"M0 6H32V12H0V6Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M2 16H30V32H2V16Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M30 12H2V16H30V12Z",fill:"#32970E"}),(0,n.jsx)("path",{d:"M14 6L16 3L14 0H6L10 6H12H14Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M22 6H20V32H12V6H14L18 0H26L22 6Z",fill:"#BC66FF"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3214",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},E=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3215)",children:[(0,n.jsx)("path",{d:"M0 6H32V12H0V6Z",fill:"#93EBE0"}),(0,n.jsx)("path",{d:"M2 16H30V32H2V16Z",fill:"#93EBE0"}),(0,n.jsx)("path",{d:"M30 12H2V16H30V12Z",fill:"#31D6C2"}),(0,n.jsx)("path",{d:"M14 6L16 3L14 0H6L10 6H12H14Z",fill:"#93EBE0"}),(0,n.jsx)("path",{d:"M22 6H20V32H12V6H14L18 0H26L22 6Z",fill:"#F2708A"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3215",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},M=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3216)",children:[(0,n.jsx)("path",{d:"M0 6H32V12H0V6Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M2 16H30V32H2V16Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M30 12H2V16H30V12Z",fill:"#BC66FF"}),(0,n.jsx)("path",{d:"M14 6L16 3L14 0H6L10 6H12H14Z",fill:"#DEB2FF"}),(0,n.jsx)("path",{d:"M22 6H20V32H12V6H14L18 0H26L22 6Z",fill:"#1475E1"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3216",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},S=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3217)",children:[(0,n.jsx)("path",{d:"M0 6H32V12H0V6Z",fill:"#F2708A"}),(0,n.jsx)("path",{d:"M2 16H30V32H2V16Z",fill:"#F2708A"}),(0,n.jsx)("path",{d:"M30 12H2V16H30V12Z",fill:"#E9113C"}),(0,n.jsx)("path",{d:"M14 6L16 3L14 0H6L10 6H12H14Z",fill:"#F2708A"}),(0,n.jsx)("path",{d:"M22 6H20V32H12V6H14L18 0H26L22 6Z",fill:"#31D6C2"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3217",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})},V=e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_31_3218)",children:[(0,n.jsx)("path",{d:"M0 6H32V12H0V6Z",fill:"#FFC466"}),(0,n.jsx)("path",{d:"M2 16H30V32H2V16Z",fill:"#FFC466"}),(0,n.jsx)("path",{d:"M30 12H2V16H30V12Z",fill:"#FF9D00"}),(0,n.jsx)("path",{d:"M14 6L16 3L14 0H6L10 6H12H14Z",fill:"#FFC466"}),(0,n.jsx)("path",{d:"M22 6H20V32H12V6H14L18 0H26L22 6Z",fill:"#00AD93"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_31_3218",children:(0,n.jsx)("rect",{width:"32",height:"32",fill:"white"})})})]})};var F=s(62219);let k=e=>{if(e>0&&e<5)return"#53FC18";if(e>=5&&e<10)return"#2EFAD1";if(e>=10&&e<25)return"#DEB2FF";if(e>=25&&e<50)return"#FBCFD8";if(e>=50&&e<100)return"#FFD899";if(e>=100&&e<150)return"#DDFED1";if(e>=150&&e<200)return"#93EBE0";else if(e>=200&&e<250)return"#BAD6F6";else if(e>=250&&e<300)return"#BD66FF";else if(e>=300&&e<350)return"#F2718A";else if(e>=350&&e<400)return"#FF9D00";else if(e>=400&&e<450)return"#BD66FF";else if(e>=450&&e<500)return"#FBC903";else if(e>=500&&e<550)return"#DDFED1";else if(e>=550&&e<600)return"#00CCB3";else if(e>=600&&e<650)return"#BD66FF";else if(e>=650&&e<700)return"#FBCFD8";else if(e>=700&&e<750)return"#FFD999";else if(e>=750&&e<800)return"#BD66FF";else if(e>=800&&e<850)return"#30D6C2";else if(e>=850&&e<900)return"#1375E1";else if(e>=900&&e<950)return"#E90F3D";return"#52FC18"},B=e=>{let t,{quantity:s,tooltipText:k,tooltipSide:B="top",tooltipAlign:T="center",...D}=e;return(s>0&&s<5?t=(0,n.jsx)(l,{...D}):s>=5&&s<10?t=(0,n.jsx)(j,{...D}):s>=10&&s<25?t=(0,n.jsx)(r,{...D}):s>=25&&s<50?t=(0,n.jsx)(u,{...D}):s>=50&&s<100?t=(0,n.jsx)(C,{...D}):s>=100&&s<150?t=(0,n.jsx)(a,{...D}):s>=150&&s<200?t=(0,n.jsx)(o,{...D}):s>=200&&s<250?t=(0,n.jsx)(d,{...D}):s>=250&&s<300?t=(0,n.jsx)(h,{...D}):s>=300&&s<350?t=(0,n.jsx)(m,{...D}):s>=350&&s<400?t=(0,n.jsx)(f,{...D}):s>=400&&s<450?t=(0,n.jsx)(p,{...D}):s>=450&&s<500?t=(0,n.jsx)(v,{...D}):s>=500&&s<550?t=(0,n.jsx)(y,{...D}):s>=550&&s<600?t=(0,n.jsx)(b,{...D}):s>=600&&s<650?t=(0,n.jsx)(_,{...D}):s>=650&&s<700?t=(0,n.jsx)(H,{...D}):s>=700&&s<750?t=(0,n.jsx)(N,{...D}):s>=750&&s<800?t=(0,n.jsx)(L,{...D}):s>=800&&s<850?t=(0,n.jsx)(E,{...D}):s>=850&&s<900?t=(0,n.jsx)(M,{...D}):s>=900&&s<950?t=(0,n.jsx)(S,{...D}):s>=950&&s<1e3?t=(0,n.jsx)(V,{...D}):s>=1e3&&s<2e3?t=(0,n.jsx)(i,{...D}):s>=2e3&&s<3e3?t=(0,n.jsx)(c,{...D}):s>=3e3&&s<4e3?t=(0,n.jsx)(x,{...D}):s>=4e3&&s<5e3?t=(0,n.jsx)(g,{...D}):s>=5e3&&(t=(0,n.jsx)(w,{...D})),k)?(0,n.jsx)(F.u,{disabled:!0,side:B,align:T,text:k,children:(0,n.jsx)("div",{children:t})}):t}},35416:function(e,t,s){"use strict";s.d(t,{L:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,n.jsx)("path",{d:"M9 25.804L18.7962 16L9 6.19598L11.2038 4L23.2038 16L11.2038 28L9 25.804Z",fill:"current"})})}},9495:function(e,t,s){"use strict";s.d(t,{S:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("g",{clipPath:"url(#BanIconA)",children:(0,n.jsx)("path",{fill:t||"white",d:"M7 0.875C3.61812 0.875 0.875 3.61812 0.875 7C0.875 10.3819 3.61812 13.125 7 13.125C10.3819 13.125 13.125 10.3819 13.125 7C13.125 3.61812 10.3819 0.875 7 0.875ZM4.36625 10.8719L3.12812 9.63375L9.63375 3.12812L10.8719 4.36625L4.36625 10.8719Z"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"BanIconA",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h14v14H0z"})})})]})}},24858:function(e,t,s){"use strict";s.d(t,{V:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,n.jsx)("path",{d:"M18.64 8.82996H15.02V2.57996L2.82996 11.33L15.02 20.08V13.83H18.64C21.61 13.83 24.02 16.25 24.02 19.21C24.02 22.17 21.6 24.59 18.64 24.59H8.91996V29.59H18.64C24.37 29.59 29.02 24.93 29.02 19.21C29.02 13.49 24.36 8.82996 18.64 8.82996Z"})})}},4798:function(e,t,s){"use strict";s.d(t,{w:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,n.jsx)("path",{d:"M22.2038 6.19598L12.4075 16L22.2038 25.804L20 28L8 16L20 4L22.2038 6.19598Z"})})}},50321:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:t||"white",...s,children:(0,n.jsx)("path",{d:"M11 2H5L2 5V11L5 14H11L14 11V5L11 2ZM10.25 5C10.8725 5 11.375 5.5025 11.375 6.125C11.375 6.7475 10.8725 7.25 10.25 7.25C9.6275 7.25 9.125 6.7475 9.125 6.125C9.125 5.5025 9.6275 5 10.25 5ZM5.75 5C6.3725 5 6.875 5.5025 6.875 6.125C6.875 6.7475 6.3725 7.25 5.75 7.25C5.1275 7.25 4.625 6.7475 4.625 6.125C4.625 5.5025 5.1275 5 5.75 5ZM11.75 9.875C11.0188 10.6062 10.6062 11.0188 9.875 11.75H6.125C5.39375 11.0188 4.98125 10.6062 4.25 9.875V8.75H11.75V9.875Z"})})}},92688:function(e,t,s){"use strict";s.d(t,{h:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M7 25V4H4V28H28V25H7Z",fill:"current"}),(0,n.jsx)("path",{d:"M11.0574 23.0575L21.9999 12.1225V19H24.9999V7H12.9999V10H19.8774L8.94238 20.9425L11.0574 23.0575Z",fill:"current"})]})}},23737:function(e,t,s){"use strict";s.d(t,{$:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,n.jsx)("path",{d:"M12.375 1.5H10.1875L8 3.25L5.8125 1.5H3.625L1 4.125V8.0625L8 14.625L15 8.0625V4.125L12.375 1.5Z"})})}},48082:function(e,t,s){"use strict";s.d(t,{O:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",fill:t||"white",...s,children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_93_826)",children:[(0,n.jsx)("path",{d:"M28.75 7.5L33.75 0H23.75L20 5.625L16.25 0H6.25L11.25 7.5H0V15H40V7.5H28.75Z",fill:"current"}),(0,n.jsx)("path",{d:"M17.5 20H2.5V40H17.5V20Z",fill:"current"}),(0,n.jsx)("path",{d:"M37.5 20H22.5V40H37.5V20Z",fill:"current"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_93_826",children:(0,n.jsx)("rect",{width:"40",height:"40",fill:"current"})})})]})}},64695:function(e,t,s){"use strict";s.d(t,{x:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M17.3213 7.18001H9L2 14.1713V17.6713L4.415 20.0863L17.3213 7.18001Z"}),(0,n.jsx)("path",{d:"M25.1087 9.28875L29.9212 4.47625L27.445 2L2.07875 27.375L4.555 29.8513L9.72625 24.68H23L30 17.68V14.18L25.1087 9.28875ZM16 22.055C14.95 22.055 13.9612 21.775 13.095 21.3113L15.1075 19.2988C15.3962 19.3775 15.6937 19.43 16 19.43C17.9337 19.43 19.5 17.8638 19.5 15.93C19.5 15.615 19.4475 15.3175 19.3687 15.0375L21.3812 13.025C21.8538 13.8913 22.125 14.88 22.125 15.93C22.125 19.3163 19.3862 22.055 16 22.055Z"})]})}},93461:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,n.jsx)("path",{d:"M27.11 4.78C25.93 3.61001 24.3 2.88 22.51 2.88C18.91 2.88 16 5.79001 16 9.39001C16 5.79001 13.09 2.88 9.48998 2.88C5.88998 2.88 2.97998 5.79001 2.97998 9.39001V22.61C2.97998 26.2 5.89998 29.12 9.48998 29.12C11.29 29.12 12.92 28.39 14.1 27.21C15.27 26.03 16 24.4 16 22.61C16 26.2 18.91 29.12 22.51 29.12C26.11 29.12 29.02 26.2 29.02 22.61V9.39001C29.02 7.59 28.29 5.96 27.11 4.78ZM18.91 21.01V18.68H13V22.61C13 24.54 11.43 26.12 9.48998 26.12C7.54998 26.12 5.97998 24.54 5.97998 22.61V9.39001C5.97998 7.45001 7.55998 5.88 9.48998 5.88C11.42 5.88 13 7.45001 13 9.39001V13.32H18.91V10.99L26.03 16L18.91 21.01Z",fill:"current"})})}},89148:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",...s,children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.63 5.98999H14.27V26.87H8.63V5.98999ZM17.73 5.98999H23.37V26.87H17.73V5.98999Z",fill:"current"})})}},24880:function(e,t,s){"use strict";s.d(t,{q:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"white",viewBox:"0 0 32 32",...s,children:(0,n.jsx)("path",{d:"M25 17C24.997 14.406 23.348 12.198 21.042 11.363L21 11.35V3.85C22.732 3.392 23.989 1.844 24 0.001V0H8C8.001 1.853 9.262 3.41 10.972 3.864L11 3.87V11.37C8.658 12.215 7.012 14.414 7 16.999V19.5H14V28.5L16 32L18 28.5V19.5H25V17Z"})})}},76408:function(e,t,s){"use strict";s.d(t,{Q:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M22.0002 14.5L17.5002 14.4925L17.5077 10H14.5002L14.4927 17.5L22.0002 17.5075V14.5Z",fill:"current"}),(0,n.jsx)("path",{d:"M7 4H4V13H7V4Z",fill:"current"}),(0,n.jsx)("path",{d:"M13 10H4.75V13H13V10Z",fill:"current"}),(0,n.jsx)("path",{d:"M16 4C10.9675 4 6.6625 7.105 4.8775 11.5H8.215C9.775 8.815 12.6775 7 16 7C20.965 7 25 11.035 25 16C25 20.965 20.965 25 16 25C11.035 25 7 20.965 7 16H4C4 22.63 9.37 28 16 28C22.63 28 28 22.63 28 16C28 9.37 22.63 4 16 4Z",fill:"current"})]})}},43993:function(e,t,s){"use strict";s.d(t,{e:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:(0,n.jsx)("path",{d:"M12.8191 7.99813C12.8191 7.64949 12.7816 7.30834 12.7104 6.97844L13.8913 6.29616L12.3918 3.69822L11.2071 4.38051C10.7048 3.9269 10.105 3.57076 9.44517 3.35708V2H6.44611V3.36082C5.78632 3.57451 5.19025 3.9269 4.68416 4.38426L3.49953 3.70197L2 6.29616L3.18088 6.97844C3.10965 7.30834 3.07217 7.64949 3.07217 7.99813C3.07217 8.34677 3.10965 8.68791 3.18088 9.01781L2 9.70009L3.49953 12.298L4.68416 11.6157C5.1865 12.0694 5.78632 12.4255 6.44611 12.6392V14H9.44517V12.6392C10.105 12.4255 10.701 12.0731 11.2071 11.6157L12.3918 12.298L13.8913 9.70009L12.7104 9.01781C12.7816 8.68791 12.8191 8.34677 12.8191 7.99813ZM9.82006 9.87254H6.07123V6.12371H9.82006V9.87254Z"})})}},84056:function(e,t,s){"use strict";s.d(t,{v:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"white",viewBox:"0 0 16 16",...s,children:[(0,n.jsx)("path",{d:"M15 3.9c0-.5-.4-.9-.9-.9s-.8.4-.8.9c0 .3.1.6.4.7v1h-1.8v-1c.3-.1.5-.4.5-.7 0-.5-.4-.9-.9-.9s-.9.4-.9.9c0 .3.2.6.5.7v1L9.7 6.7a4.4 4.4 0 1 0-7 4.2l-1.7.8v1.8h10.5l3-3.5V4.6c.3-.1.5-.4.5-.7Zm-9.6.9a2.6 2.6 0 1 1 0 5.2 2.6 2.6 0 0 1 0-5.3Z"}),(0,n.jsx)("path",{d:"M7.1 7.2H5.6V5.6H4.3v2.9H7V7.2Z"})]})}},57690:function(e,t,s){"use strict";s.d(t,{s:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:t||"white",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M5.00215 17.5057L12.6433 13.9772C13.2297 13.7058 13.7024 13.233 13.9737 12.6464L17.5011 5.00286L21.0285 12.6464C21.2998 13.233 21.7724 13.7058 22.3589 13.9772L30 17.5057L22.3589 21.0342C21.7724 21.3056 21.2998 21.7784 21.0285 22.365L17.5011 30.0085L13.9737 22.365C13.7024 21.7784 13.2297 21.3056 12.6433 21.0342L4.9934 17.5057H5.00215Z"}),(0,n.jsx)("path",{d:"M2 7.37587L5.29104 5.86117C5.54487 5.74735 5.74618 5.54597 5.85997 5.29207L7.37419 2L8.88842 5.29207C9.0022 5.54597 9.20352 5.74735 9.45735 5.86117L12.7484 7.37587L9.45735 8.89057C9.20352 9.0044 9.0022 9.20577 8.88842 9.45968L7.37419 12.7517L5.85997 9.46844C5.74618 9.21453 5.54487 9.01315 5.29104 8.89933L2 7.38463V7.37587Z"})]})}},730:function(e,t,s){"use strict";s.d(t,{T:function(){return l}});var n=s(27573);let l=e=>{let{fill:t,...s}=e;return(0,n.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsxs)("g",{fill:t||"white",clipPath:"url(#TimeoutIconA)",children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M.9 7a6.1 6.1 0 1 1 5.6 6.1L5 11.5l1.5-1.6-2.4-2.4L2.5 9 .9 7.5V7Zm5.4.3L9 9.9l1-1-2.2-2.2V4.1H6.3v3.2Z",clipRule:"evenodd"}),(0,n.jsx)("path",{d:"m4 9 1 1-1.6 1.5L5 13.1 4 14l-1.5-1.6L.9 14 0 13l1.6-1.5L0 9.9 1 9l1.5 1.6L4.1 9Z"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"TimeoutIconA",children:(0,n.jsx)("path",{fill:"#fff",d:"M0 0h14v14H0z"})})})]})}},55813:function(e,t,s){"use strict";s.d(t,{S:function(){return l}});var n=s(27573);let l=e=>{let{...t}=e;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,n.jsx)("path",{fill:"#1EFF00",d:"M16 6.83512L13.735 4.93512L13.22 2.02512H10.265L8 0.120117L5.735 2.02012H2.78L2.265 4.93012L0 6.83512L1.48 9.39512L0.965 12.3051L3.745 13.3151L5.225 15.8751L8.005 14.8651L10.785 15.8751L12.265 13.3151L15.045 12.3051L14.53 9.39512L16.01 6.83512H16ZM6.495 12.4051L2.79 8.69512L4.205 7.28012L6.495 9.57512L11.29 4.78012L12.705 6.19512L6.5 12.4001L6.495 12.4051Z"})})}},1118:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(7653),l=s(26821);let r=e=>{let t=(0,l.useQueryClient)(),s=(0,n.useRef)(t.getQueryData(e.queryKey));return{set:n=>{if(s.current=t.getQueryData(e.queryKey),!s.current){console.warn("No previous data found for query key",e.queryKey);return}Array.isArray(s.current)?t.setQueryData(e.queryKey,n):t.setQueryData(e.queryKey,{...s.current,...n})},revert:()=>{t.setQueryData(e.queryKey,s.current)}}}},98293:function(e,t,s){"use strict";s.d(t,{e:function(){return r},u:function(){return l}});var n=s(24432);let l=!0,r=(0,n.Ue)()(e=>({showBanner:l,setShowBanner:t=>e({showBanner:t})}))},85095:function(e,t,s){"use strict";s.d(t,{Y:function(){return i}});var n=s(24432),l=s(86197),r=s(62678),a=s(16622);let i=(0,n.Ue)()(e=>({pusherInstance:null,pusherConnected:!1,isPusherConnected:!1,events:{},connect:async()=>{let t=(await s.e(6328).then(s.t.bind(s,6328,23))).default;e(s=>{var n,i;if(s.isPusherConnected||(null===(n=s.pusherInstance)||void 0===n?void 0:n.connection.state)==="connected"||(null===(i=s.pusherInstance)||void 0===i?void 0:i.connection.state)==="connecting")return s;let o=new t(a.env.NEXT_PUBLIC_PUSHER_KEY,{cluster:a.env.NEXT_PUBLIC_PUSHER_CLUSTER,channelAuthorization:{transport:"ajax",endpoint:"https://kick.com/broadcasting/auth",customHandler:async(e,t)=>{let{socketId:s,channelName:n}=e;if((0,r.Ni)())try{let{auth:e}=await (0,l.rK)("/broadcasting/auth",null,{method:"POST",body:JSON.stringify({socket_id:s,channel_name:n})});if(e)return t(null,{auth:e})}catch(e){return console.error("Error fetching auth token",e),t(e instanceof Error?e:Error("".concat(e)),null)}}}});return o.connection.bind("connected",()=>{e({isPusherConnected:!0})}),o.connection.bind("disconnected",()=>{e({isPusherConnected:!1})}),o.connection.bind("error",e=>{console.error(e)}),{...s,pusherInstance:o}})},on:(t,s,n)=>e(e=>{var l,r,a;if(!e.pusherInstance)return console.error("Pusher instance not initialized"),e;let i=null;if(!(i=e.pusherInstance.channels.find(t)&&Object.prototype.hasOwnProperty.call(e.events,t)?e.pusherInstance.channels.find(t):e.pusherInstance.subscribe(t)))return console.error("Channel not found"),e;if(e.events[t]){let l=null===(a=e.events[t])||void 0===a?void 0:a[s];l&&l.includes(n)||i.bind(s,n)}else i.bind(s,n);let o={...e.events};return o[t]||(o[t]={}),o[t][s]||(o[t][s]=[]),null===(r=o[t])||void 0===r||null===(l=r[s])||void 0===l||l.push(n),{...e,events:o}}),off:(t,s,n)=>e(e=>{var l,r;if(!e.pusherInstance)return console.error("Pusher instance not initialized"),e;let a=e.pusherInstance.channels.find(t);if(!a){console.error("Channel not found:",t);let s={...e.events};return delete s[t],{...e,events:s}}let i=null===(l=e.events[t])||void 0===l?void 0:l[s];if(!i)return e;let o={...e.events};return o[t][s]=i.filter(e=>e!==n),a.unbind(s),0===o[t][s].length&&(null===(r=o[t])||void 0===r||delete r[s]),0===Object.keys(o[t]).length&&(delete o[t],e.pusherInstance.unsubscribe(t)),{...e,events:o}}),clear:(t,s)=>e(e=>{var n;if(!e.pusherInstance)return console.error("Pusher instance not initialized"),e;let l=e.pusherInstance.channels.find(t);if(!l){console.error("Channel not found");let s={...e.events};return delete s[t],{...e,events:s}}if(!(null===(n=e.events[t])||void 0===n?void 0:n[s]))return e;let r={...e.events};return r[t][s]=[],l.unbind(s),{...e,events:r}}),clearAll:t=>e(e=>{if(!e.pusherInstance)return console.error("Pusher instance not initialized"),e;let s=e.pusherInstance.channels.find(t);if(!s){console.error("Channel not found");let s={...e.events};return delete s[t],{...e,events:s}}Object.keys(e.events[t]).forEach(e=>{s.unbind(e)});let n={...e.events};return delete n[t],{...e,events:n}})}))},81266:function(e,t,s){"use strict";s.d(t,{YT:function(){return u},I9:function(){return h},VY:function(){return x}});var n=s(7653),l=s(21152),r=s(2560),a=s(16622);let i=a.env.NEXT_PUBLIC_TYPESENSE_API_KEY,o=async e=>""===e?Promise.resolve({results:[]}):fetch("".concat(a.env.NEXT_PUBLIC_TYPESENSE_URL,"/multi_search"),{headers:{"X-TYPESENSE-API-KEY":i},method:"POST",body:JSON.stringify({searches:[{preset:"category_search",q:e},{preset:"channel_search",q:e}]})}).then(e=>e.json()),d=async(e,t)=>""===e?Promise.resolve(null):fetch("".concat(a.env.NEXT_PUBLIC_TYPESENSE_URL,"/collections/subcategory/documents/search?q=").concat(e,"&query_by=").concat(t),{headers:{"X-TYPESENSE-API-KEY":i},method:"GET"}).then(e=>e.json()),c=async(e,t,s)=>{if(""===e)return Promise.resolve(null);let n=new URL("".concat(a.env.NEXT_PUBLIC_TYPESENSE_URL,"/collections/channel/documents/search"));return n.searchParams.append("q",e),n.searchParams.append("query_by",t),s&&n.searchParams.append("filter_by","is_live:=true"),fetch(n.href,{headers:{"X-TYPESENSE-API-KEY":i},method:"GET"}).then(e=>e.json())},u=e=>{let{searchQuery:t,queryBy:s}=e;return(0,r.useQuery)({queryKey:["categorySearch",t,s],queryFn:()=>d(t,s),enabled:""!==t,gcTime:(0,l.d)(3e4),staleTime:3e4})},h=e=>{let{searchQuery:t,queryBy:s,filterByIsLive:n}=e;return(0,r.useQuery)({queryKey:["channelSearch",t,s],queryFn:()=>c(t,s,n),enabled:""!==t,gcTime:(0,l.d)(3e4),staleTime:3e4})},m=e=>{let{searchQuery:t}=e;return(0,r.useQuery)({queryKey:["search",t],queryFn:()=>o(t),enabled:""!==t,gcTime:(0,l.d)(3e4),staleTime:3e4})},x=e=>{let[t,s]=(0,n.useState)(),{data:l}=m({searchQuery:e});return(0,n.useEffect)(()=>{l&&s(l)},[l]),(0,n.useEffect)(()=>{""===e.trim()&&s(void 0)},[e]),{data:t}}},33574:function(e,t,s){"use strict";s.d(t,{Provider:function(){return r},a:function(){return i},o:function(){return a}});var n=s(53198);let l=(0,s(89628).T)(e=>(0,n.M)(t=>({...e,changeTab:e=>t({tab:e,modalOpen:!0}),setModalOpen:e=>t({modalOpen:e})}))),r=l.Provider,a=l.useStore,i=()=>{let e=a(e=>e.changeTab);return{openAuthenticationLogIn:()=>e("logIn"),openAuthenticationSignUp:()=>e("signUp")}}},14071:function(e,t,s){"use strict";s.d(t,{Provider:function(){return i},m:function(){return d},o:function(){return o}});var n=s(53198),l=s(89628);let r={open:"closed",closed:"open"},a=(0,l.T)(e=>(0,n.M)(t=>({state:e.state,updateChat:e=>t(()=>({state:e})),toggleChat:()=>t(e=>{let{state:t}=e;return{state:r[t]}})}))),i=a.Provider,o=a.useStore,d=()=>({isChatOpen:o(e=>"open"===e.state)})},67291:function(e,t,s){"use strict";s.d(t,{u:function(){return n},z:function(){return l}});let n="openBannedUsersModal",l=()=>{let e=new CustomEvent(n);window.dispatchEvent(e)}},90243:function(e,t,s){"use strict";s.d(t,{RH:function(){return n},S_:function(){return l},cI:function(){return r}});let n=5,l=[1,5,10,25,50,100],r=4.99},51371:function(e,t,s){"use strict";s.d(t,{L:function(){return n},S:function(){return l}});let n="toggleClipDialogChatExpanded",l=e=>{let t=new CustomEvent(n,{detail:e});window.dispatchEvent(t)}},30329:function(e,t,s){"use strict";s.d(t,{b:function(){return n}});let n={dateTime:{hour:{hour:"2-digit",minute:"2-digit"},medium:{dateStyle:"medium"},mediumWithTime:{dateStyle:"medium",timeStyle:"short"},long:{dateStyle:"long"},numeric:{year:"numeric",month:"2-digit",day:"2-digit"},numericWithTime:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}}}},96357:function(e,t,s){"use strict";s.d(t,{UF:function(){return l},Zi:function(){return n},r3:function(){return r}}),["January","February","March","April","May","June","July","Augst","September","October","November","December"].map(e=>e.slice(0,3));let n=()=>(7-new Date().getDay())%7,l=()=>{let e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()-e.getDate()},r=e=>{let t=new Date(/Z$|([+-]\d{2}:\d{2})$/.test(e)?e:e+"Z"),s=e=>e<10?"0"+e:e,n=t.getUTCFullYear(),l=s(t.getUTCMonth()+1),r=s(t.getUTCDate()),a=s(t.getUTCHours()),i=s(t.getUTCMinutes()),o=s(t.getUTCSeconds());return"".concat(n,"-").concat(l,"-").concat(r,"T").concat(a,":").concat(i,":").concat(o,"Z")}},74752:function(e,t,s){"use strict";s.d(t,{Q:function(){return a}});var n=s(27573),l=s(37355),r=s(35449);let a=e=>{let{loading:t,children:s,...a}=e;return(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)("div",{className:"absolute left-1/2 top-1/2 inline-flex -translate-x-1/2 -translate-y-1/2 items-center justify-center",children:(0,n.jsx)(l.$,{className:"border-current"})}),(0,n.jsx)("div",{className:(0,r.cn)("contents",t&&"invisible"),...a,children:s})]})}},29414:function(e,t,s){"use strict";s.d(t,{ub:function(){return m},$c:function(){return h}});var n=s(27573),l=s(7653),r=s(35449);let a={channel:e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M82.1009 24H5.8154C4.81278 24 4 24.8203 4 25.8323V70.4892C4 71.5011 4.81278 72.3215 5.8154 72.3215H82.1009C83.1035 72.3215 83.9163 71.5011 83.9163 70.4892V25.8323C83.9163 24.8203 83.1035 24 82.1009 24Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M40.6814 64.1049C49.0549 64.1049 55.843 57.3169 55.843 48.9433C55.843 40.5698 49.0549 33.7817 40.6814 33.7817C32.3079 33.7817 25.5198 40.5698 25.5198 48.9433C25.5198 57.3169 32.3079 64.1049 40.6814 64.1049Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M15.4741 27.9126H9.15464C8.46868 27.9126 7.9126 28.3449 7.9126 28.8781V31.8379C7.9126 32.3711 8.46868 32.8034 9.15464 32.8034H15.4741C16.16 32.8034 16.7161 32.3711 16.7161 31.8379V28.8781C16.7161 28.3449 16.16 27.9126 15.4741 27.9126Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M114.185 46.063H37.8991C35.7745 46.063 34.0837 47.7963 34.0837 49.8953V94.5522C34.0837 96.6512 35.7745 98.3845 37.8991 98.3845H114.185C116.309 98.3845 118 96.6512 118 94.5522V49.8953C118 47.7963 116.309 46.063 114.185 46.063Z",fill:"#191B1F",stroke:"#0B0E0F",strokeWidth:"4"}),(0,n.jsx)("path",{d:"M106.707 62.1486C109.409 62.1486 111.598 59.9589 111.598 57.2578C111.598 54.5566 109.409 52.3669 106.707 52.3669C104.006 52.3669 101.817 54.5566 101.817 57.2578C101.817 59.9589 104.006 62.1486 106.707 62.1486Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M83.1765 69.3302C83.7642 68.9338 83.7642 68.0687 83.1765 67.6723L69.4442 58.4077C68.78 57.9596 67.8849 58.4355 67.8849 59.2367L67.8849 77.7658C67.8849 78.567 68.78 79.0429 69.4442 78.5948L83.1765 69.3302Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M110.935 88.5591H40.8556C39.949 88.5591 39.2141 89.3257 39.2141 90.2713V90.7595C39.2141 91.7052 39.949 92.4718 40.8556 92.4718H110.935C111.842 92.4718 112.577 91.7052 112.577 90.7595V90.2713C112.577 89.3257 111.842 88.5591 110.935 88.5591Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M71.8085 88.5591H40.8556C39.949 88.5591 39.2141 89.3257 39.2141 90.2713V90.7595C39.2141 91.7052 39.949 92.4718 40.8556 92.4718H71.8085C72.7151 92.4718 73.45 91.7052 73.45 90.7595V90.2713C73.45 89.3257 72.7151 88.5591 71.8085 88.5591Z",fill:"#24272C"})]})},chat:e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M63.792 7.20605H13.134C10.8078 7.20605 8.922 9.09183 8.922 11.4181V49.4581C8.922 51.7843 10.8078 53.6701 13.134 53.6701H63.792C66.1182 53.6701 68.004 51.7843 68.004 49.4581V11.4181C68.004 9.09183 66.1182 7.20605 63.792 7.20605Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M62.1 11.7961H14.826C13.7822 11.7961 12.936 12.6423 12.936 13.6861V31.1281C12.936 32.172 13.7822 33.0181 14.826 33.0181H62.1C63.1439 33.0181 63.99 32.172 63.99 31.1281V13.6861C63.99 12.6423 63.1439 11.7961 62.1 11.7961Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M59.3999 49.0801C61.9349 49.0801 63.9899 47.0251 63.9899 44.4901C63.9899 41.9552 61.9349 39.9001 59.3999 39.9001C56.865 39.9001 54.8099 41.9552 54.8099 44.4901C54.8099 47.0251 56.865 49.0801 59.3999 49.0801Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M33.012 42.7681H26.13V45.6361H33.012V42.7681Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M19.818 42.7681H12.936V45.6361H19.818V42.7681Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M19.716 26.4663C18.918 25.5723 18.42 24.1623 18.42 22.8423C18.42 21.5223 18.918 20.1183 19.716 19.2183L20.37 19.7103C19.812 20.7123 19.542 21.6123 19.542 22.8423C19.542 24.0723 19.812 24.9723 20.37 25.9563L19.716 26.4663Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M20.9281 22.5002C20.9281 21.1562 22.0201 20.0642 23.3641 20.0642C24.7081 20.0642 25.8001 21.1562 25.8001 22.5002C25.8001 23.8442 24.7081 24.9362 23.3641 24.9362C22.0201 24.9362 20.9281 23.8442 20.9281 22.5002Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M26.688 21.276C26.952 21.138 27.252 20.79 27.318 20.496C27.294 20.514 27.222 20.532 27.162 20.532C26.85 20.532 26.604 20.286 26.604 19.944C26.604 19.602 26.898 19.29 27.246 19.29C27.63 19.29 27.984 19.596 27.984 20.124C27.984 20.736 27.642 21.288 27.138 21.648L26.688 21.282V21.276Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M31.518 23.8142C31.272 24.4562 30.936 24.9362 30.174 24.9362C29.106 24.9362 28.578 23.9882 28.578 22.9382C28.578 21.9482 28.914 21.2342 29.424 20.7842L30.366 21.1622C29.79 21.6782 29.664 22.3262 29.664 22.9442C29.664 23.4842 29.862 24.0182 30.318 24.0182C30.828 24.0182 31.008 23.4842 31.008 22.8602V21.8582H32.052V22.8602C32.052 23.4842 32.232 24.0182 32.73 24.0182C33.198 24.0182 33.396 23.4842 33.396 22.9442C33.396 22.3262 33.264 21.6842 32.682 21.1622L33.63 20.7842C34.14 21.2342 34.476 21.9482 34.476 22.9382C34.476 23.9882 33.936 24.9362 32.88 24.9362C32.118 24.9362 31.776 24.4502 31.53 23.8142H31.518Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M35.1121 21.276C35.3761 21.138 35.6761 20.79 35.7421 20.496C35.7181 20.514 35.6461 20.532 35.5861 20.532C35.2741 20.532 35.0281 20.286 35.0281 19.944C35.0281 19.602 35.3221 19.29 35.6701 19.29C36.0541 19.29 36.4081 19.596 36.4081 20.124C36.4081 20.736 36.0661 21.288 35.5621 21.648L35.1121 21.282V21.276Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M37.146 22.5002C37.146 21.1562 38.238 20.0642 39.582 20.0642C40.926 20.0642 42.018 21.1562 42.018 22.5002C42.018 23.8442 40.926 24.9362 39.582 24.9362C38.238 24.9362 37.146 23.8442 37.146 22.5002Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M42.576 19.7103L43.2301 19.2183C44.0341 20.1183 44.544 21.5223 44.544 22.8423C44.544 24.1623 44.0341 25.5723 43.2301 26.4663L42.576 25.9563C43.14 24.9723 43.41 24.0723 43.41 22.8423C43.41 21.6123 43.14 20.7123 42.576 19.7103Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M48.5161 18.5101C48.4921 18.5821 48.4201 18.6241 48.3301 18.6241C47.7901 21.5281 46.8361 23.8081 45.6841 25.2181C45.5761 25.1101 45.3961 24.9661 45.2581 24.8761C46.4161 23.5861 47.3701 21.3001 47.8921 18.3481L48.5221 18.5101H48.5161Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M57.984 19.5C57.288 18.804 56.154 18.804 55.458 19.5L54.198 20.76L52.938 19.5C52.242 18.804 51.108 18.804 50.412 19.5C49.716 20.196 49.716 21.33 50.412 22.026L51.672 23.286L54.198 25.812L56.724 23.286L57.984 22.026C58.68 21.33 58.68 20.196 57.984 19.5Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M106.866 68.136H56.208C53.8817 68.136 51.996 70.0218 51.996 72.348V110.388C51.996 112.714 53.8817 114.6 56.208 114.6H106.866C109.192 114.6 111.078 112.714 111.078 110.388V72.348C111.078 70.0218 109.192 68.136 106.866 68.136Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M105.174 72.7261H57.9C56.8562 72.7261 56.01 73.5723 56.01 74.6161V92.0581C56.01 93.1019 56.8562 93.9481 57.9 93.9481H105.174C106.218 93.9481 107.064 93.1019 107.064 92.0581V74.6161C107.064 73.5723 106.218 72.7261 105.174 72.7261Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M102.474 110.01C105.009 110.01 107.064 107.955 107.064 105.42C107.064 102.885 105.009 100.83 102.474 100.83C99.9389 100.83 97.8839 102.885 97.8839 105.42C97.8839 107.955 99.9389 110.01 102.474 110.01Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M76.086 103.704H69.204V106.572H76.086V103.704Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M62.892 103.704H56.01V106.572H62.892V103.704Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M64.14 87.69C63.324 86.772 62.808 85.32 62.808 83.964C62.808 82.608 63.324 81.168 64.14 80.238L64.812 80.742C64.236 81.768 63.96 82.698 63.96 83.964C63.96 85.23 64.236 86.154 64.812 87.168L64.14 87.69Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M65.718 81.3241H64.968L66.096 80.1121H67.08L65.712 81.3241H65.718Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M70.056 82.806C70.056 83.286 69.666 83.676 69.186 83.676C68.706 83.676 68.316 83.286 68.316 82.806C68.316 82.326 68.706 81.936 69.186 81.936C69.666 81.936 70.056 82.338 70.056 82.806Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M74.598 84.954C74.346 85.614 73.998 86.112 73.218 86.112C72.12 86.112 71.574 85.134 71.574 84.054C71.574 83.034 71.922 82.302 72.444 81.834L73.416 82.224C72.828 82.758 72.69 83.424 72.69 84.054C72.69 84.612 72.894 85.158 73.362 85.158C73.884 85.158 74.07 84.612 74.07 83.97V82.944H75.138V83.97C75.138 84.612 75.324 85.158 75.84 85.158C76.32 85.158 76.524 84.612 76.524 84.054C76.524 83.424 76.392 82.758 75.792 82.224L76.77 81.834C77.292 82.296 77.64 83.028 77.64 84.054C77.64 85.134 77.082 86.112 75.996 86.112C75.21 86.112 74.856 85.614 74.604 84.954H74.598Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M80.874 82.806C80.874 83.286 80.484 83.676 80.004 83.676C79.524 83.676 79.134 83.286 79.134 82.806C79.134 82.326 79.524 81.936 80.004 81.936C80.484 81.936 80.874 82.338 80.874 82.806Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M83.484 81.3241L82.116 80.1121H83.1L84.228 81.3241H83.478H83.484Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M84.3779 80.742L85.0499 80.238C85.8779 81.168 86.3999 82.608 86.3999 83.964C86.3999 85.32 85.8779 86.772 85.0499 87.69L84.3779 87.168C84.9599 86.154 85.2359 85.23 85.2359 83.964C85.2359 82.698 84.9599 81.774 84.3779 80.742Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M21.21 82.6799L8.922 100.062H33.504L21.21 82.6799Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M98.79 39.1259L111.078 21.7439H86.496L98.79 39.1259Z",fill:"#24272C"})]})},directory:e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M54.798 4.19995H5.66398C4.52406 4.19995 3.59998 5.12404 3.59998 6.26395V78.3359C3.59998 79.4759 4.52406 80.3999 5.66398 80.3999H54.798C55.9379 80.3999 56.862 79.4759 56.862 78.3359V6.26395C56.862 5.12404 55.9379 4.19995 54.798 4.19995Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M26.2739 9.11987H12.1979C10.5941 9.11987 9.29395 10.42 9.29395 12.0239V12.8519C9.29395 14.4557 10.5941 15.7559 12.1979 15.7559H26.2739C27.8778 15.7559 29.1779 14.4557 29.1779 12.8519V12.0239C29.1779 10.42 27.8778 9.11987 26.2739 9.11987Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M52.164 58.2H8.29203C7.71876 58.2 7.25403 58.6647 7.25403 59.238V75.636C7.25403 76.2092 7.71876 76.674 8.29203 76.674H52.164C52.7373 76.674 53.202 76.2092 53.202 75.636V59.238C53.202 58.6647 52.7373 58.2 52.164 58.2Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M27.966 18.5999H10.938C9.86767 18.5999 9 19.4675 9 20.5379V27.9659C9 29.0362 9.86767 29.9039 10.938 29.9039H27.966C29.0363 29.9039 29.904 29.0362 29.904 27.9659V20.5379C29.904 19.4675 29.0363 18.5999 27.966 18.5999Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M30.228 33.2219L18.234 50.9999H42.222L30.228 33.2219Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M53.4 19.452C53.4 13.6795 48.7205 9 42.948 9C37.1755 9 32.496 13.6795 32.496 19.452C32.496 25.2245 37.1755 29.904 42.948 29.904C48.7205 29.904 53.4 25.2245 53.4 19.452Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M112.998 38.3999H63.8641C62.7241 38.3999 61.8 39.324 61.8 40.4639V112.536C61.8 113.676 62.7241 114.6 63.8641 114.6H112.998C114.138 114.6 115.062 113.676 115.062 112.536V40.4639C115.062 39.324 114.138 38.3999 112.998 38.3999Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M95.2621 67.1938H81.1861C79.5823 67.1938 78.2821 68.494 78.2821 70.0978V70.9258C78.2821 72.5297 79.5823 73.8299 81.1861 73.8299H95.2621C96.8659 73.8299 98.1661 72.5297 98.1661 70.9258V70.0978C98.1661 68.494 96.8659 67.1938 95.2621 67.1938Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M110.364 92.3999H66.4921C65.9188 92.3999 65.4541 92.8646 65.4541 93.4379V109.836C65.4541 110.409 65.9188 110.874 66.4921 110.874H110.364C110.937 110.874 111.402 110.409 111.402 109.836V93.4379C111.402 92.8646 110.937 92.3999 110.364 92.3999Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M96.966 76.2H79.938C78.8677 76.2 78 77.0676 78 78.1379V84.966C78 86.0363 78.8677 86.9039 79.938 86.9039H96.966C98.0363 86.9039 98.904 86.0363 98.904 84.966V78.1379C98.904 77.0676 98.0363 76.2 96.966 76.2Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M100.428 45.2219L88.4341 62.9999H112.422L100.428 45.2219Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M86.4001 53.6519C86.4001 47.8795 81.7206 43.2 75.9481 43.2C70.1756 43.2 65.4961 47.8795 65.4961 53.6519C65.4961 59.4244 70.1756 64.1039 75.9481 64.1039C81.7206 64.1039 86.4001 59.4244 86.4001 53.6519Z",fill:"#0B0E0F"})]})},general:e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M113.202 13.5601H6.80397C5.40559 13.5601 4.27197 14.6937 4.27197 16.0921V77.8021C4.27197 79.2004 5.40559 80.3341 6.80397 80.3341H113.202C114.6 80.3341 115.734 79.2004 115.734 77.8021V16.0921C115.734 14.6937 114.6 13.5601 113.202 13.5601Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M108.192 20.7539H11.8139C11.0319 20.7539 10.3979 21.3879 10.3979 22.1699V71.7299C10.3979 72.5119 11.0319 73.1459 11.8139 73.1459H108.192C108.974 73.1459 109.608 72.5119 109.608 71.7299V22.1699C109.608 21.3879 108.974 20.7539 108.192 20.7539Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M60 51.6541C62.598 51.6541 64.704 49.548 64.704 46.9501C64.704 44.3521 62.598 42.2461 60 42.2461C57.4021 42.2461 55.296 44.3521 55.296 46.9501C55.296 49.548 57.4021 51.6541 60 51.6541Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M75.984 51.6541C78.582 51.6541 80.688 49.548 80.688 46.9501C80.688 44.3521 78.582 42.2461 75.984 42.2461C73.3861 42.2461 71.28 44.3521 71.28 46.9501C71.28 49.548 73.3861 51.6541 75.984 51.6541Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M91.968 51.6541C94.566 51.6541 96.672 49.548 96.672 46.9501C96.672 44.3521 94.566 42.2461 91.968 42.2461C89.3701 42.2461 87.264 44.3521 87.264 46.9501C87.264 49.548 89.3701 51.6541 91.968 51.6541Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M112.404 84.48H52.968C51.5166 84.48 50.34 85.6566 50.34 87.108V103.812C50.34 105.263 51.5166 106.44 52.968 106.44H112.404C113.855 106.44 115.032 105.263 115.032 103.812V87.108C115.032 85.6566 113.855 84.48 112.404 84.48Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M61.83 103.02C65.9821 103.02 69.348 99.654 69.348 95.5019C69.348 91.3498 65.9821 87.9839 61.83 87.9839C57.6779 87.9839 54.312 91.3498 54.312 95.5019C54.312 99.654 57.6779 103.02 61.83 103.02Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M108.834 91.23H73.71C73.2826 91.23 72.936 91.5765 72.936 92.004V98.994C72.936 99.4214 73.2826 99.768 73.71 99.768H108.834C109.262 99.768 109.608 99.4214 109.608 98.994V92.004C109.608 91.5765 109.262 91.23 108.834 91.23Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M32.1779 47.592C37.7317 47.592 42.2339 43.0898 42.2339 37.536C42.2339 31.9822 37.7317 27.48 32.1779 27.48C26.6242 27.48 22.1219 31.9822 22.1219 37.536C22.1219 43.0898 26.6242 47.592 32.1779 47.592Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M25.8419 51.54H38.5139C43.5479 51.54 47.6399 55.626 47.6399 60.666V66.426H16.7159V60.666C16.7159 55.632 20.8019 51.54 25.8419 51.54Z",fill:"#24272C"})]})},live:e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M114.336 80.658H5.66398C4.52406 80.658 3.59998 81.582 3.59998 82.722V112.536C3.59998 113.676 4.52406 114.6 5.66398 114.6H114.336C115.476 114.6 116.4 113.676 116.4 112.536V82.722C116.4 81.582 115.476 80.658 114.336 80.658Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M59.616 88.8899H45.54C43.9362 88.8899 42.636 90.1901 42.636 91.7939V92.6219C42.636 94.2257 43.9362 95.5259 45.54 95.5259H59.616C61.2198 95.5259 62.52 94.2257 62.52 92.6219V91.7939C62.52 90.1901 61.2198 88.8899 59.616 88.8899Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M106.248 99.396H45.54C43.9362 99.396 42.636 100.696 42.636 102.3V103.128C42.636 104.732 43.9362 106.032 45.54 106.032H106.248C107.852 106.032 109.152 104.732 109.152 103.128V102.3C109.152 100.696 107.852 99.396 106.248 99.396Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M27.048 88.4519C26.244 88.2119 25.386 88.0859 24.504 88.0859C19.938 88.0859 16.182 91.4939 15.618 95.9039C12.96 96.0599 10.854 98.2619 10.854 100.962C10.854 101.982 11.16 102.936 11.676 103.734L27.054 88.4579L27.048 88.4519Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M11.43 107.856L11.28 108.006L13.482 110.22L17.694 106.032H29.964C33.192 106.032 35.814 103.41 35.814 100.182C35.814 98.2019 34.824 96.4439 33.312 95.3939C33.078 94.1399 32.568 92.9699 31.866 91.9559L35.382 88.4579L33.18 86.2439L32.238 87.1799L29.664 89.7359L13.758 105.54L11.424 107.856H11.43Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M114.336 42.5701H5.66398C4.52406 42.5701 3.59998 43.4942 3.59998 44.6341V74.4481C3.59998 75.588 4.52406 76.5121 5.66398 76.5121H114.336C115.476 76.5121 116.4 75.588 116.4 74.4481V44.6341C116.4 43.4942 115.476 42.5701 114.336 42.5701Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M28.4881 50.5381H14.4121C12.8082 50.5381 11.5081 51.8382 11.5081 53.4421V54.2701C11.5081 55.8739 12.8082 57.1741 14.4121 57.1741H28.4881C30.0919 57.1741 31.3921 55.8739 31.3921 54.2701V53.4421C31.3921 51.8382 30.0919 50.5381 28.4881 50.5381Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M75.1201 61.0442H14.4121C12.8082 61.0442 11.5081 62.3444 11.5081 63.9482V64.7762C11.5081 66.38 12.8082 67.6802 14.4121 67.6802H75.1201C76.7239 67.6802 78.0241 66.38 78.0241 64.7762V63.9482C78.0241 62.3444 76.7239 61.0442 75.1201 61.0442Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M99.7201 50.364C98.9161 50.124 98.0581 49.998 97.1761 49.998C92.6101 49.998 88.8541 53.406 88.2901 57.816C85.6321 57.972 83.5261 60.174 83.5261 62.874C83.5261 63.894 83.8321 64.848 84.3481 65.646L99.7261 50.37L99.7201 50.364Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M84.1021 69.768L83.9521 69.918L86.1541 72.132L90.3662 67.944H102.636C105.864 67.944 108.486 65.322 108.486 62.094C108.486 60.114 107.496 58.356 105.984 57.306C105.75 56.052 105.24 54.882 104.538 53.868L108.054 50.37L105.852 48.156L104.91 49.092L102.336 51.648L86.4302 67.452L84.0962 69.768H84.1021Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M114.336 4.19995H5.66398C4.52406 4.19995 3.59998 5.12404 3.59998 6.26395V36.0779C3.59998 37.2179 4.52406 38.1419 5.66398 38.1419H114.336C115.476 38.1419 116.4 37.2179 116.4 36.0779V6.26395C116.4 5.12404 115.476 4.19995 114.336 4.19995Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M59.616 12.4319H45.54C43.9362 12.4319 42.636 13.732 42.636 15.3359V16.1639C42.636 17.7677 43.9362 19.0679 45.54 19.0679H59.616C61.2198 19.0679 62.52 17.7677 62.52 16.1639V15.3359C62.52 13.732 61.2198 12.4319 59.616 12.4319Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M106.248 22.938H45.54C43.9362 22.938 42.636 24.2382 42.636 25.842V26.67C42.636 28.2738 43.9362 29.574 45.54 29.574H106.248C107.852 29.574 109.152 28.2738 109.152 26.67V25.842C109.152 24.2382 107.852 22.938 106.248 22.938Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M27.048 11.9939C26.244 11.7539 25.386 11.6279 24.504 11.6279C19.938 11.6279 16.182 15.0359 15.618 19.4459C12.96 19.6019 10.854 21.8039 10.854 24.5039C10.854 25.5239 11.16 26.4779 11.676 27.2759L27.054 11.9999L27.048 11.9939Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M11.43 31.3979L11.28 31.5479L13.482 33.7619L17.694 29.5739H29.964C33.192 29.5739 35.814 26.9519 35.814 23.7239C35.814 21.7439 34.824 19.9859 33.312 18.9359C33.078 17.6819 32.568 16.5119 31.866 15.4979L35.382 11.9999L33.18 9.78589L32.238 10.7219L29.664 13.2779L13.758 29.0819L11.424 31.3979H11.43Z",fill:"#0B0E0F"})]})},profile:e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M110.574 45H9.42598C7.86522 45 6.59998 46.2652 6.59998 47.826V111.774C6.59998 113.335 7.86522 114.6 9.42598 114.6H110.574C112.135 114.6 113.4 113.335 113.4 111.774V47.826C113.4 46.2652 112.135 45 110.574 45Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M108.174 19.8H85.6261C84.0653 19.8 82.8 21.0653 82.8 22.626V34.374C82.8 35.9348 84.0653 37.2 85.6261 37.2H108.174C109.735 37.2 111 35.9348 111 34.374V22.626C111 21.0653 109.735 19.8 108.174 19.8Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M38.52 7.20605L9.24597 37.2001H67.8L38.52 7.20605Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M74.88 53.2859H60.804C59.2002 53.2859 57.9 54.5861 57.9 56.1899V57.0179C57.9 58.6217 59.2002 59.9219 60.804 59.9219H74.88C76.4839 59.9219 77.784 58.6217 77.784 57.0179V56.1899C77.784 54.5861 76.4839 53.2859 74.88 53.2859Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M100.896 68.688H60.804C59.2002 68.688 57.9 69.9882 57.9 71.592V72.42C57.9 74.0238 59.2002 75.324 60.804 75.324H100.896C102.5 75.324 103.8 74.0238 103.8 72.42V71.592C103.8 69.9882 102.5 68.688 100.896 68.688Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M100.896 84.0901H60.804C59.2002 84.0901 57.9 85.3903 57.9 86.9941V87.8221C57.9 89.4259 59.2002 90.7261 60.804 90.7261H100.896C102.5 90.7261 103.8 89.4259 103.8 87.8221V86.9941C103.8 85.3903 102.5 84.0901 100.896 84.0901Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M100.896 99.4861H60.804C59.2002 99.4861 57.9 100.786 57.9 102.39V103.218C57.9 104.822 59.2002 106.122 60.804 106.122H100.896C102.5 106.122 103.8 104.822 103.8 103.218V102.39C103.8 100.786 102.5 99.4861 100.896 99.4861Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M47.142 53.532H15.006V106.068H47.142V53.532Z",fill:"#24272C"})]})},search:e=>{let{...t}=e;return(0,n.jsxs)("svg",{width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,n.jsx)("path",{d:"M33.12 77.3999H12.006C8.86797 77.3999 6.32397 74.8559 6.32397 71.7179V25.5C6.32397 23.622 7.25397 21.864 8.80197 20.808L33.12 4.19995V77.3999Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M103.29 4.19995H34.1819C31.4282 4.19995 29.1959 6.43226 29.1959 9.18595V72.4139C29.1959 75.1676 31.4282 77.3999 34.1819 77.3999H103.29C106.044 77.3999 108.276 75.1676 108.276 72.4139V9.18595C108.276 6.43226 106.044 4.19995 103.29 4.19995Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M101.748 8.77197H38.97C37.7074 8.77197 36.684 9.79545 36.684 11.058V70.536C36.684 71.7985 37.7074 72.822 38.97 72.822H101.748C103.01 72.822 104.034 71.7985 104.034 70.536V11.058C104.034 9.79545 103.01 8.77197 101.748 8.77197Z",fill:"#0B0E0F"}),(0,n.jsx)("path",{d:"M78.5519 20.8681C70.2179 20.8681 63.4439 27.6481 63.4439 35.9761C63.4439 39.1081 64.3979 42.0181 66.0359 44.4301L57.8039 52.6621C56.9099 53.5561 56.9099 55.0021 57.8039 55.8961C58.2479 56.3401 58.8359 56.5681 59.4239 56.5681C60.0119 56.5681 60.5939 56.3461 61.0439 55.8961L69.1559 47.7841C71.7419 49.8421 75.0059 51.0781 78.5639 51.0781C86.8979 51.0781 93.6719 44.2981 93.6719 35.9701C93.6719 27.6421 86.8919 20.8621 78.5639 20.8621L78.5519 20.8681ZM78.5519 46.5121C72.7439 46.5121 68.0159 41.7841 68.0159 35.9761C68.0159 30.1681 72.7439 25.4401 78.5519 25.4401C84.3599 25.4401 89.0879 30.1681 89.0879 35.9761C89.0879 41.7841 84.3599 46.5121 78.5519 46.5121Z",fill:"#53FC18"}),(0,n.jsx)("path",{d:"M112.038 114.6H20.7C18.216 114.6 16.2 112.584 16.2 110.1V93.3059C16.2 90.8219 18.216 88.8059 20.7 88.8059H105C106.812 88.8059 108.45 89.8979 109.152 91.5719L116.184 108.366C117.426 111.33 115.248 114.606 112.032 114.606L112.038 114.6Z",fill:"#24272C"}),(0,n.jsx)("path",{d:"M37.638 114.6H8.09998C5.61598 114.6 3.59998 112.584 3.59998 110.1V93.3059C3.59998 90.8219 5.61598 88.8059 8.09998 88.8059H30.6C32.412 88.8059 34.05 89.8979 34.752 91.5719L41.784 108.366C43.026 111.33 40.848 114.606 37.632 114.606L37.638 114.6Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M97.2 103.2H50.4L47.4 96.5999H94.2L97.2 103.2Z",fill:"#191B1F"}),(0,n.jsx)("path",{d:"M108.6 103.2H102.6L99.6 96.5999H105.6L108.6 103.2Z",fill:"#53FC18"})]})}},i=e=>{let{children:t,className:s}=e;return(0,n.jsx)("div",{className:(0,r.cn)("flex grow basis-0 flex-col items-center justify-center gap-y-4 lg:gap-y-5",s),children:t})};i.displayName="EmptyState.Root";let o=e=>{let{type:t}=e,s=a[t||"general"];return(0,n.jsx)(s,{})};o.displayName="EmptyState.Illustration";let d=e=>{let{children:t}=e;return("string"==typeof t?t.length>0:l.Children.count(t)>0)?(0,n.jsx)("div",{className:"text-center font-bold text-white lg:text-xl",children:t}):null};d.displayName="EmptyState.Title";let c=e=>{let{children:t,className:s}=e;return("string"==typeof t?t.length>0:l.Children.count(t)>0)?(0,n.jsx)("div",{className:(0,r.cn)("text-center text-xs font-semibold leading-[1.2] text-[#768087] lg:text-base",s),children:t}):null};c.displayName="EmptyState.Subtitle";let u=e=>{let{children:t}=e;return("string"==typeof t?t.length>0:l.Children.count(t)>0)?(0,n.jsx)("div",{className:"flex flex-col items-center justify-center gap-y-1.5 empty:hidden lg:gap-2.5",children:t}):null};u.displayName="EmptyState.Section";let h=e=>{let{type:t,title:s,subtitle:a,children:i,...o}=e,d=!!l.Children.count(i),c="string"==typeof s?!!(null==s?void 0:s.length):l.Children.count(s)>0,u=!!(null==a?void 0:a.length);return(0,n.jsxs)(m.Root,{...o,children:[(0,n.jsx)(m.Illustration,{type:t}),(c||u)&&(0,n.jsxs)(m.Section,{children:[c&&!!s&&(0,n.jsx)(m.Title,{children:s}),u&&(0,n.jsx)(m.Subtitle,{children:a})]}),d&&(0,n.jsx)("div",{className:(0,r.cn)("flex w-full items-center justify-center space-x-5 pt-2",!s&&!a&&"pt-0"),children:i})]})},m={Root:i,Illustration:o,Section:u,Title:d,Subtitle:c}},71789:function(e,t,s){"use strict";s.d(t,{r:function(){return i}});var n=s(69389),l=s(7653),r=s(30329),a=s(96357);function i(e){let{date:t,format:s}=e,i=(0,n.useFormatter)();return(0,l.useMemo)(()=>{var e;return i.dateTime(new Date((0,a.r3)(t)),{...null===(e=r.b.dateTime)||void 0===e?void 0:e[s],timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})},[t,i,s])}},36697:function(e,t,s){"use strict";s.d(t,{f:function(){return r}}),s(23103);var n=s(69389),l=s(7653);let r=(0,l.memo)(function(e){let{durationInMilliseconds:t,format:s}=e,r=(0,n.useLocale)(),a=Math.floor(t/6048e5),i=t%6048e5,o=Math.floor(i/864e5),d=i%864e5,c=Math.floor(d/36e5),u=Math.floor(d%36e5/6e4);return(0,l.useMemo)(()=>{let e={...a>=1&&{weeks:a},...o>=1&&{days:o},...c>=1&&{hours:c},...u>=1&&{minutes:u}};try{let t=new Intl.DurationFormat(r,{style:s}).format(e);if("string"==typeof t)return t;return null}catch(e){return console.error(e),null}},[o,s,c,r,u,a])})},26363:function(e,t,s){"use strict";s.d(t,{e:function(){return d}});var n=s(27573),l=s(69389),r=s(89615),a=s(30329),i=s(96357);let o=e=>new Date(r.O.STORYBOOK?new Date().setDate(new Date().getDate()-2):(0,i.r3)(e));function d(e){var t;let{isoDate:s,className:r}=e,i=o(s),d=(0,l.useFormatter)(),c=d.dateTime(i,{...null===(t=a.b.dateTime)||void 0===t?void 0:t.numericWithTime,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone});return(0,n.jsx)("span",{className:r,title:c,suppressHydrationWarning:!0,children:d.relativeTime(i)})}},84954:function(e,t,s){"use strict";s.d(t,{Yi:function(){return o},bZ:function(){return d},zs:function(){return i}});var n=s(27573),l=s(7653),r=s(57637),a=s(35449);let i=r.fC,o=r.xz,d=l.forwardRef((e,t)=>{let{className:s,align:l="center",sideOffset:i=4,...o}=e;return(0,n.jsx)(r.VY,{ref:t,align:l,sideOffset:i,className:(0,a.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-popover bg-shade-lower border-surface-tint w-64 rounded-md border p-4 text-white shadow-md outline-none",s),...o})});d.displayName=r.VY.displayName},25897:function(e,t,s){"use strict";s.d(t,{YN:function(){return l.InternalIconLink},h$:function(){return n.InternalLink},pt:function(){return r.NextLink}});var n=s(4058),l=s(72677),r=s(21478)},18620:function(e,t,s){"use strict";s.d(t,{r:function(){return c}});var n=s(27573),l=s(70047),r=s(7653),a=s(24169),i=s(35449);let o=(0,l.j)("relative cursor-pointer rounded-full bg-grey-600 transition-all data-[state=checked]:bg-green-500 disabled:opacity-50 disabled:pointer-events-none",{variants:{size:{sm:"h-[0.75625rem] w-[1.21875rem]",md:"h-5 w-[2.25rem]",lg:"h-[1.6875rem] w-[2.9375rem]"}},defaultVariants:{size:"md"}}),d=(0,l.j)("block rounded-full bg-white transition-all will-change-transform data-[state=checked]:bg-grey-800",{variants:{size:{sm:"h-[0.48125rem] w-[0.48125rem] translate-x-[0.1375rem] data-[state=checked]:translate-x-[calc(1.21875rem-0.1375rem-0.48125rem)]",md:"h-[0.875rem] w-[0.875rem] translate-x-[0.25rem] data-[state=checked]:translate-x-[calc(2.25rem-0.25rem-0.875rem)]",lg:"h-[1.4375rem] w-[1.4375rem] translate-x-[0.25rem] data-[state=checked]:translate-x-[calc(2.9375rem-0.25rem-1.4375rem)]"}},defaultVariants:{size:"md"}}),c=(0,r.forwardRef)((e,t)=>{let{className:s,size:l,...r}=e;return(0,n.jsx)(a.fC,{className:(0,i.cn)("shrink-0",o({size:l,className:s})),style:{WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},ref:t,...r,children:(0,n.jsx)(a.bU,{className:(0,i.cn)(d({size:l,className:s}))})})});c.displayName=a.fC.displayName},63091:function(e,t,s){"use strict";s.d(t,{Q:function(){return o}});var n=s(27573),l=s(7653),r=s(91145),a=s(35449),i=s(51033);let o=e=>{let{text:t,align:s="center",children:o,forcedState:d}=e,c=(0,r.dD)(),[u,h]=(0,l.useState)(!1);return c?o:(0,n.jsx)(i.pn,{delayDuration:0,children:(0,n.jsxs)(i.u,{open:void 0!==d&&d||u,children:[(0,n.jsx)(i.aJ,{asChild:!0,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:o}),(0,n.jsxs)(i._v,{sideOffset:5,align:s,className:(0,a.cn)("rounded-md bg-white p-[5px]","text-sm font-medium leading-5 text-black"),children:[(0,n.jsx)(i.Ce,{className:"fill-white"}),t]})]})})}},62219:function(e,t,s){"use strict";s.d(t,{u:function(){return a}});var n=s(27573),l=s(35449),r=s(51033);let a=e=>{let{text:t,content:s,children:a,disabled:i,side:o="top",align:d="center",sideOffset:c=5,withArrow:u=!0,contentClass:h,rootProps:m={},wrapperAttributes:x={}}=e;return(0,n.jsx)(r.pn,{children:(0,n.jsxs)(r.u,{disableHoverableContent:i||!t&&!s,delayDuration:0,...m,children:[(0,n.jsx)(r.aJ,{asChild:!0,children:a}),(0,n.jsx)(r.NM,{children:(0,n.jsx)(r._v,{className:(0,l.cn)("z-tooltip",h),sideOffset:c,side:o,align:d,asChild:!0,children:(0,n.jsxs)("div",{...x,children:[s||t,u&&(0,n.jsx)(r.Ce,{className:"fill-white"})]})})})]})})}},51033:function(e,t,s){"use strict";s.d(t,{u:function(){return d},Ce:function(){return h},_v:function(){return o},NM:function(){return m},pn:function(){return c},aJ:function(){return u}});var n=s(99819),l=s(27573),r=s(7653),a=s(35449);let i=(0,r.forwardRef)((e,t)=>{let{className:s,children:r,sideOffset:i,align:o,...d}=e;return(0,l.jsx)(n.VY,{ref:t,sideOffset:i,align:o,className:(0,a.cn)("z-tooltip select-none rounded-md bg-white p-[5px] text-sm font-medium leading-5 text-black","data-[state=delayed-open]:data-[side=bottom]:animate-slideUpAndFade data-[state=delayed-open]:data-[side=left]:animate-slideRightAndFade data-[state=delayed-open]:data-[side=right]:animate-slideLeftAndFade data-[state=delayed-open]:data-[side=top]:animate-slideDownAndFade will-change-[transform,opacity]",s),...d,children:r})});i.displayName=n.VY.displayName;var o=i;let d=n.fC,c=n.zt,u=n.xz,h=n.Eh,m=n.h_},39155:function(e,t,s){"use strict";s.d(t,{$j:function(){return b},Bc:function(){return y},__:function(){return g},ck:function(){return p},dk:function(){return j},fC:function(){return u},gN:function(){return m},k4:function(){return w},oT:function(){return v},v0:function(){return C}});var n=s(27573),l=s(7653),r=s(48388),a=s(92721),i=s(38467),o=s(74752),d=s(3689),c=s(35449);let u=r.RV,h=l.createContext({}),m=e=>{let{...t}=e;return(0,n.jsx)(h.Provider,{value:{name:t.name},children:(0,n.jsx)(r.Qr,{...t})})},x=()=>{let e=l.useContext(h),t=l.useContext(f),{getFieldState:s,formState:n}=(0,r.Gc)(),a=s(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...a}},f=l.createContext({}),p=l.forwardRef((e,t)=>{let{className:s,...r}=e,a=l.useId();return(0,n.jsx)(f.Provider,{value:{id:a},children:(0,n.jsx)("div",{ref:t,className:(0,c.cn)("space-y-2",s),...r})})});p.displayName="FormItem";let g=l.forwardRef((e,t)=>{let{className:s,...l}=e,{error:r,formItemId:a}=x();return(0,n.jsx)(d._,{ref:t,className:(0,c.cn)(r&&"text-danger-base",s),htmlFor:a,...l})});g.displayName="FormLabel";let v=l.forwardRef((e,t)=>{let{...s}=e,{error:l,formItemId:r,formDescriptionId:i,formMessageId:o}=x();return(0,n.jsx)(a.g7,{ref:t,id:r,"aria-describedby":l?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!l,...s})});v.displayName="FormControl";let j=l.forwardRef((e,t)=>{let{className:s,...l}=e,{formDescriptionId:r}=x();return(0,n.jsx)("p",{ref:t,id:r,className:(0,c.cn)("text-grey-600 text-[0.8rem]",s),...l})});j.displayName="FormDescription";let C=l.forwardRef((e,t)=>{let{children:s,...l}=e,{error:r,formMessageId:a}=x(),i=r?String(null==r?void 0:r.message):s;return i?(0,n.jsx)(y,{ref:t,id:a,...l,children:i}):null});C.displayName="FormMessage";let y=l.forwardRef((e,t)=>{let{className:s,children:l,...r}=e;return(0,n.jsx)("p",{ref:t,className:(0,c.cn)("text-danger-base text-[0.8rem] font-medium",s),...r,children:l})});y.displayName="ErrorMessage";let w=l.forwardRef((e,t)=>{let{className:s,...l}=e,a=(0,r.cl)();return(0,n.jsx)(i.zx,{ref:t,type:"submit",disabled:a.isSubmitting,className:(0,c.cn)("min-w-[10ch]",s),...l,children:(0,n.jsx)(o.Q,{loading:a.isSubmitting,children:l.children})})});w.displayName="FormSubmit";let b=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,n.jsx)(i.zx,{ref:t,type:"reset",variant:"highlight",className:(0,c.cn)("min-w-[10ch]",s),...l,children:l.children})});b.displayName="FormCancel"},8840:function(e,t,s){"use strict";s.d(t,{H2:function(){return r},H3:function(){return a}});var n=s(27573);let l=(0,s(37205).tv)({base:"font-semibold",variants:{variant:{secondary:"text-grey-200",primary:"text-white"},size:{sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"}}}),r=e=>{let{className:t,variant:s,size:r,...a}=e;return(0,n.jsx)("h2",{className:l({variant:null!=s?s:"primary",size:null!=r?r:"2xl",className:t}),...a,children:a.children})},a=e=>{let{className:t,variant:s,size:r,...a}=e;return(0,n.jsx)("h3",{className:l({variant:null!=s?s:"primary",size:null!=r?r:"lg",className:t}),...a,children:a.children})}},39375:function(){}}]);